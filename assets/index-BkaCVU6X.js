(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Od={exports:{}},Tl={};var L_;function MA(){if(L_)return Tl;L_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:c}}return Tl.Fragment=t,Tl.jsx=i,Tl.jsxs=i,Tl}var U_;function kA(){return U_||(U_=1,Od.exports=MA()),Od.exports}var N=kA(),Vd={exports:{}},vt={};var P_;function LA(){if(P_)return vt;P_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),V=Symbol.iterator;function G(O){return O===null||typeof O!="object"?null:(O=V&&O[V]||O["@@iterator"],typeof O=="function"?O:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nt=Object.assign,it={};function dt(O,Y,et){this.props=O,this.context=Y,this.refs=it,this.updater=et||W}dt.prototype.isReactComponent={},dt.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},dt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Tt(){}Tt.prototype=dt.prototype;function yt(O,Y,et){this.props=O,this.context=Y,this.refs=it,this.updater=et||W}var bt=yt.prototype=new Tt;bt.constructor=yt,nt(bt,dt.prototype),bt.isPureReactComponent=!0;var Wt=Array.isArray;function Pt(){}var I={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function C(O,Y,et){var st=et.ref;return{$$typeof:r,type:O,key:Y,ref:st!==void 0?st:null,props:et}}function M(O,Y){return C(O.type,Y,O.props)}function x(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function L(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(et){return Y[et]})}var w=/\/+/g;function se(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?L(""+O.key):Y.toString(36)}function Ne(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Pt,Pt):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function F(O,Y,et,st,gt){var wt=typeof O;(wt==="undefined"||wt==="boolean")&&(O=null);var kt=!1;if(O===null)kt=!0;else switch(wt){case"bigint":case"string":case"number":kt=!0;break;case"object":switch(O.$$typeof){case r:case t:kt=!0;break;case A:return kt=O._init,F(kt(O._payload),Y,et,st,gt)}}if(kt)return gt=gt(O),kt=st===""?"."+se(O,0):st,Wt(gt)?(et="",kt!=null&&(et=kt.replace(w,"$&/")+"/"),F(gt,Y,et,"",function(ss){return ss})):gt!=null&&(x(gt)&&(gt=M(gt,et+(gt.key==null||O&&O.key===gt.key?"":(""+gt.key).replace(w,"$&/")+"/")+kt)),Y.push(gt)),1;kt=0;var De=st===""?".":st+":";if(Wt(O))for(var ae=0;ae<O.length;ae++)st=O[ae],wt=De+se(st,ae),kt+=F(st,Y,et,wt,gt);else if(ae=G(O),typeof ae=="function")for(O=ae.call(O),ae=0;!(st=O.next()).done;)st=st.value,wt=De+se(st,ae++),kt+=F(st,Y,et,wt,gt);else if(wt==="object"){if(typeof O.then=="function")return F(Ne(O),Y,et,st,gt);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return kt}function tt(O,Y,et){if(O==null)return O;var st=[],gt=0;return F(O,st,"","",function(wt){return Y.call(et,wt,gt++)}),st}function ht(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(et){(O._status===0||O._status===-1)&&(O._status=1,O._result=et)},function(et){(O._status===0||O._status===-1)&&(O._status=2,O._result=et)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var Ut=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ft={map:tt,forEach:function(O,Y,et){tt(O,function(){Y.apply(this,arguments)},et)},count:function(O){var Y=0;return tt(O,function(){Y++}),Y},toArray:function(O){return tt(O,function(Y){return Y})||[]},only:function(O){if(!x(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return vt.Activity=S,vt.Children=Ft,vt.Component=dt,vt.Fragment=i,vt.Profiler=l,vt.PureComponent=yt,vt.StrictMode=s,vt.Suspense=y,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,vt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},vt.cache=function(O){return function(){return O.apply(null,arguments)}},vt.cacheSignal=function(){return null},vt.cloneElement=function(O,Y,et){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var st=nt({},O.props),gt=O.key;if(Y!=null)for(wt in Y.key!==void 0&&(gt=""+Y.key),Y)!b.call(Y,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&Y.ref===void 0||(st[wt]=Y[wt]);var wt=arguments.length-2;if(wt===1)st.children=et;else if(1<wt){for(var kt=Array(wt),De=0;De<wt;De++)kt[De]=arguments[De+2];st.children=kt}return C(O.type,gt,st)},vt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},vt.createElement=function(O,Y,et){var st,gt={},wt=null;if(Y!=null)for(st in Y.key!==void 0&&(wt=""+Y.key),Y)b.call(Y,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(gt[st]=Y[st]);var kt=arguments.length-2;if(kt===1)gt.children=et;else if(1<kt){for(var De=Array(kt),ae=0;ae<kt;ae++)De[ae]=arguments[ae+2];gt.children=De}if(O&&O.defaultProps)for(st in kt=O.defaultProps,kt)gt[st]===void 0&&(gt[st]=kt[st]);return C(O,wt,gt)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(O){return{$$typeof:p,render:O}},vt.isValidElement=x,vt.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:ht}},vt.memo=function(O,Y){return{$$typeof:_,type:O,compare:Y===void 0?null:Y}},vt.startTransition=function(O){var Y=I.T,et={};I.T=et;try{var st=O(),gt=I.S;gt!==null&&gt(et,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(Pt,Ut)}catch(wt){Ut(wt)}finally{Y!==null&&et.types!==null&&(Y.types=et.types),I.T=Y}},vt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},vt.use=function(O){return I.H.use(O)},vt.useActionState=function(O,Y,et){return I.H.useActionState(O,Y,et)},vt.useCallback=function(O,Y){return I.H.useCallback(O,Y)},vt.useContext=function(O){return I.H.useContext(O)},vt.useDebugValue=function(){},vt.useDeferredValue=function(O,Y){return I.H.useDeferredValue(O,Y)},vt.useEffect=function(O,Y){return I.H.useEffect(O,Y)},vt.useEffectEvent=function(O){return I.H.useEffectEvent(O)},vt.useId=function(){return I.H.useId()},vt.useImperativeHandle=function(O,Y,et){return I.H.useImperativeHandle(O,Y,et)},vt.useInsertionEffect=function(O,Y){return I.H.useInsertionEffect(O,Y)},vt.useLayoutEffect=function(O,Y){return I.H.useLayoutEffect(O,Y)},vt.useMemo=function(O,Y){return I.H.useMemo(O,Y)},vt.useOptimistic=function(O,Y){return I.H.useOptimistic(O,Y)},vt.useReducer=function(O,Y,et){return I.H.useReducer(O,Y,et)},vt.useRef=function(O){return I.H.useRef(O)},vt.useState=function(O){return I.H.useState(O)},vt.useSyncExternalStore=function(O,Y,et){return I.H.useSyncExternalStore(O,Y,et)},vt.useTransition=function(){return I.H.useTransition()},vt.version="19.2.3",vt}var z_;function bm(){return z_||(z_=1,Vd.exports=LA()),Vd.exports}var ie=bm(),Md={exports:{}},Al={},kd={exports:{}},Ld={};var j_;function UA(){return j_||(j_=1,(function(r){function t(F,tt){var ht=F.length;F.push(tt);t:for(;0<ht;){var Ut=ht-1>>>1,Ft=F[Ut];if(0<l(Ft,tt))F[Ut]=tt,F[ht]=Ft,ht=Ut;else break t}}function i(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var tt=F[0],ht=F.pop();if(ht!==tt){F[0]=ht;t:for(var Ut=0,Ft=F.length,O=Ft>>>1;Ut<O;){var Y=2*(Ut+1)-1,et=F[Y],st=Y+1,gt=F[st];if(0>l(et,ht))st<Ft&&0>l(gt,et)?(F[Ut]=gt,F[st]=ht,Ut=st):(F[Ut]=et,F[Y]=ht,Ut=Y);else if(st<Ft&&0>l(gt,ht))F[Ut]=gt,F[st]=ht,Ut=st;else break t}}return tt}function l(F,tt){var ht=F.sortIndex-tt.sortIndex;return ht!==0?ht:F.id-tt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var y=[],_=[],A=1,S=null,V=3,G=!1,W=!1,nt=!1,it=!1,dt=typeof setTimeout=="function"?setTimeout:null,Tt=typeof clearTimeout=="function"?clearTimeout:null,yt=typeof setImmediate<"u"?setImmediate:null;function bt(F){for(var tt=i(_);tt!==null;){if(tt.callback===null)s(_);else if(tt.startTime<=F)s(_),tt.sortIndex=tt.expirationTime,t(y,tt);else break;tt=i(_)}}function Wt(F){if(nt=!1,bt(F),!W)if(i(y)!==null)W=!0,Pt||(Pt=!0,L());else{var tt=i(_);tt!==null&&Ne(Wt,tt.startTime-F)}}var Pt=!1,I=-1,b=5,C=-1;function M(){return it?!0:!(r.unstable_now()-C<b)}function x(){if(it=!1,Pt){var F=r.unstable_now();C=F;var tt=!0;try{t:{W=!1,nt&&(nt=!1,Tt(I),I=-1),G=!0;var ht=V;try{e:{for(bt(F),S=i(y);S!==null&&!(S.expirationTime>F&&M());){var Ut=S.callback;if(typeof Ut=="function"){S.callback=null,V=S.priorityLevel;var Ft=Ut(S.expirationTime<=F);if(F=r.unstable_now(),typeof Ft=="function"){S.callback=Ft,bt(F),tt=!0;break e}S===i(y)&&s(y),bt(F)}else s(y);S=i(y)}if(S!==null)tt=!0;else{var O=i(_);O!==null&&Ne(Wt,O.startTime-F),tt=!1}}break t}finally{S=null,V=ht,G=!1}tt=void 0}}finally{tt?L():Pt=!1}}}var L;if(typeof yt=="function")L=function(){yt(x)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,se=w.port2;w.port1.onmessage=x,L=function(){se.postMessage(null)}}else L=function(){dt(x,0)};function Ne(F,tt){I=dt(function(){F(r.unstable_now())},tt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_next=function(F){switch(V){case 1:case 2:case 3:var tt=3;break;default:tt=V}var ht=V;V=tt;try{return F()}finally{V=ht}},r.unstable_requestPaint=function(){it=!0},r.unstable_runWithPriority=function(F,tt){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ht=V;V=F;try{return tt()}finally{V=ht}},r.unstable_scheduleCallback=function(F,tt,ht){var Ut=r.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Ut+ht:Ut):ht=Ut,F){case 1:var Ft=-1;break;case 2:Ft=250;break;case 5:Ft=1073741823;break;case 4:Ft=1e4;break;default:Ft=5e3}return Ft=ht+Ft,F={id:A++,callback:tt,priorityLevel:F,startTime:ht,expirationTime:Ft,sortIndex:-1},ht>Ut?(F.sortIndex=ht,t(_,F),i(y)===null&&F===i(_)&&(nt?(Tt(I),I=-1):nt=!0,Ne(Wt,ht-Ut))):(F.sortIndex=Ft,t(y,F),W||G||(W=!0,Pt||(Pt=!0,L()))),F},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(F){var tt=V;return function(){var ht=V;V=tt;try{return F.apply(this,arguments)}finally{V=ht}}}})(Ld)),Ld}var B_;function PA(){return B_||(B_=1,kd.exports=UA()),kd.exports}var Ud={exports:{}},Ye={};var q_;function zA(){if(q_)return Ye;q_=1;var r=bm();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:y,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ye.createPortal=function(y,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,A)},Ye.flushSync=function(y){var _=d.T,A=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=_,s.p=A,s.d.f()}},Ye.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(y,_))},Ye.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Ye.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var A=_.as,S=p(A,_.crossOrigin),V=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?s.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:V,fetchPriority:G}):A==="script"&&s.d.X(y,{crossOrigin:S,integrity:V,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ye.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);s.d.M(y,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(y)},Ye.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,S=p(A,_.crossOrigin);s.d.L(y,A,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ye.preloadModule=function(y,_){if(typeof y=="string")if(_){var A=p(_.as,_.crossOrigin);s.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(y)},Ye.requestFormReset=function(y){s.d.r(y)},Ye.unstable_batchedUpdates=function(y,_){return y(_)},Ye.useFormState=function(y,_,A){return d.H.useFormState(y,_,A)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.3",Ye}var H_;function jA(){if(H_)return Ud.exports;H_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Ud.exports=zA(),Ud.exports}var F_;function BA(){if(F_)return Al;F_=1;var r=PA(),t=bm(),i=jA();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(s(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===a){g=!0,a=h,o=f;break}if(E===o){g=!0,o=h,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,o=h;break}if(E===o){g=!0,o=f,a=h;break}E=E.sibling}if(!g)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,V=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),nt=Symbol.for("react.fragment"),it=Symbol.for("react.strict_mode"),dt=Symbol.for("react.profiler"),Tt=Symbol.for("react.consumer"),yt=Symbol.for("react.context"),bt=Symbol.for("react.forward_ref"),Wt=Symbol.for("react.suspense"),Pt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=x&&e[x]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function se(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nt:return"Fragment";case dt:return"Profiler";case it:return"StrictMode";case Wt:return"Suspense";case Pt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case yt:return e.displayName||"Context";case Tt:return(e._context.displayName||"Context")+".Consumer";case bt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:se(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return se(e(n))}catch{}}return null}var Ne=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Ut=[],Ft=-1;function O(e){return{current:e}}function Y(e){0>Ft||(e.current=Ut[Ft],Ut[Ft]=null,Ft--)}function et(e,n){Ft++,Ut[Ft]=e.current,e.current=n}var st=O(null),gt=O(null),wt=O(null),kt=O(null);function De(e,n){switch(et(wt,n),et(gt,e),et(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?s_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=s_(n),e=a_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(st),et(st,e)}function ae(){Y(st),Y(gt),Y(wt)}function ss(e){e.memoizedState!==null&&et(kt,e);var n=st.current,a=a_(n,e.type);n!==a&&(et(gt,e),et(st,a))}function Zs(e){gt.current===e&&(Y(st),Y(gt)),kt.current===e&&(Y(kt),yl._currentValue=ht)}var Ws,ta;function ni(e){if(Ws===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ws=n&&n[1]||"",ta=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ws+e+ta}var yo=!1;function as(e,n){if(!e||yo)return"";yo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(q){var j=q}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(q){j=q}e.call(Q.prototype)}}else{try{throw Error()}catch(q){j=q}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),z=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===z.length)for(o=R.length-1,h=z.length-1;1<=o&&0<=h&&R[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==z[h]){var H=`
`+R[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=h);break}}}finally{yo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ni(a):""}function _o(e,n){switch(e.tag){case 26:case 27:case 5:return ni(e.type);case 16:return ni("Lazy");case 13:return e.child!==n&&n!==null?ni("Suspense Fallback"):ni("Suspense");case 19:return ni("SuspenseList");case 0:case 15:return as(e.type,!1);case 11:return as(e.type.render,!1);case 1:return as(e.type,!0);case 31:return ni("Activity");default:return""}}function vo(e){try{var n="",a=null;do n+=_o(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ye=Object.prototype.hasOwnProperty,xe=r.unstable_scheduleCallback,lr=r.unstable_cancelCallback,Vh=r.unstable_shouldYield,ru=r.unstable_requestPaint,tn=r.unstable_now,os=r.unstable_getCurrentPriorityLevel,Eo=r.unstable_ImmediatePriority,To=r.unstable_UserBlockingPriority,ur=r.unstable_NormalPriority,Mh=r.unstable_LowPriority,su=r.unstable_IdlePriority,au=r.log,ou=r.unstable_setDisableYieldValue,Pn=null,ze=null;function Sn(e){if(typeof au=="function"&&ou(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(Pn,e)}catch{}}var fe=Math.clz32?Math.clz32:uu,lu=Math.log,ea=Math.LN2;function uu(e){return e>>>=0,e===0?32:31-(lu(e)/ea|0)|0}var ii=256,ls=262144,_e=4194304;function ri(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function si(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ri(o):(g&=E,g!==0?h=ri(g):a||(a=E&~e,a!==0&&(h=ri(a))))):(E=o&~f,E!==0?h=ri(E):g!==0?h=ri(g):a||(a=o&~e,a!==0&&(h=ri(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function zn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function kh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cu(){var e=_e;return _e<<=1,(_e&62914560)===0&&(_e=4194304),e}function ai(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function us(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Lh(e,n,a,o,h,f){var g=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,z=e.hiddenUpdates;for(a=g&~a;0<a;){var H=31-fe(a),Q=1<<H;E[H]=0,R[H]=-1;var j=z[H];if(j!==null)for(z[H]=null,H=0;H<j.length;H++){var q=j[H];q!==null&&(q.lane&=-536870913)}a&=~Q}o!==0&&cs(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function cs(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-fe(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function Ao(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-fe(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function So(e,n){var a=n&-n;return a=(a&42)!==0?1:hs(a),(a&(e.suspendedLanes|n))!==0?0:a}function hs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Mi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function hu(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:N_(e.type))}function jn(e,n){var a=tt.p;try{return tt.p=e,n()}finally{tt.p=a}}var Bn=Math.random().toString(36).slice(2),ve="__reactFiber$"+Bn,ke="__reactProps$"+Bn,oi="__reactContainer$"+Bn,na="__reactEvents$"+Bn,Uh="__reactListeners$"+Bn,fu="__reactHandles$"+Bn,du="__reactResources$"+Bn,li="__reactMarker$"+Bn;function ia(e){delete e[ve],delete e[ke],delete e[na],delete e[Uh],delete e[fu]}function ui(e){var n=e[ve];if(n)return n;for(var a=e.parentNode;a;){if(n=a[oi]||a[ve]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=d_(e);e!==null;){if(a=e[ve])return a;e=d_(e)}return n}e=a,a=e.parentNode}return null}function bn(e){if(e=e[ve]||e[oi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function dn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function ci(e){var n=e[du];return n||(n=e[du]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ee(e){e[li]=!0}var bo=new Set,wo={};function hi(e,n){fi(e,n),fi(e+"Capture",n)}function fi(e,n){for(wo[e]=n,e=0;e<n.length;e++)bo.add(n[e])}var Ro=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Co={},Io={};function mu(e){return ye.call(Io,e)?!0:ye.call(Co,e)?!1:Ro.test(e)?Io[e]=!0:(Co[e]=!0,!1)}function ra(e,n,a){if(mu(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function mn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Te(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function Le(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function No(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Gt(e){if(!e._valueTracker){var n=cr(e)?"checked":"value";e._valueTracker=No(e,n,""+e[n])}}function fs(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=cr(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function di(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ds=/[\n"\\]/g;function rn(e){return e.replace(ds,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function sa(e,n,a,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Le(n)):e.value!==""+Le(n)&&(e.value=""+Le(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Do(e,g,Le(n)):a!=null?Do(e,g,Le(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Le(E):e.removeAttribute("name")}function pu(e,n,a,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Gt(e);return}a=a!=null?""+Le(a):"",n=n!=null?""+Le(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Gt(e)}function Do(e,n,a){n==="number"&&di(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function hr(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Le(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function gu(e,n,a){if(n!=null&&(n=""+Le(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Le(a):""}function fr(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(Ne(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Le(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Gt(e)}function sn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var yu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xo(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||yu.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Oo(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&xo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&xo(e,f,n[f])}function aa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _u=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oa(e){return dr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function qn(){}var Vo=null;function wn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var mr=null,mi=null;function ms(e){var n=bn(e);if(n&&(e=n.stateNode)){var a=e[ke]||null;t:switch(e=n.stateNode,n.type){case"input":if(sa(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[ke]||null;if(!h)throw Error(s(90));sa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&fs(o)}break t;case"textarea":gu(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&hr(e,!!a.multiple,n,!1)}}}var la=!1;function pr(e,n,a){if(la)return e(n,a);la=!0;try{var o=e(n);return o}finally{if(la=!1,(mr!==null||mi!==null)&&(hc(),mr&&(n=mr,e=mi,mi=mr=null,ms(n),e)))for(n=0;n<e.length;n++)ms(e[n])}}function Hn(e,n){var a=e.stateNode;if(a===null)return null;var o=a[ke]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ps=!1;if(Rn)try{var Yt={};Object.defineProperty(Yt,"passive",{get:function(){ps=!0}}),window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch{ps=!1}var pi=null,Mo=null,gs=null;function ko(){if(gs)return gs;var e,n=Mo,a=n.length,o,h="value"in pi?pi.value:pi.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var g=a-e;for(o=1;o<=g&&n[a-o]===h[f-o];o++);return gs=h.slice(e,1<o?1-o:void 0)}function ys(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ki(){return!0}function Fn(){return!1}function je(e){function n(a,o,h,f,g){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ki:Fn,this.isPropagationStopped=Fn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ki)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ki)},persist:function(){},isPersistent:ki}),n}var Li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gi=je(Li),gr=S({},Li,{view:0,detail:0}),Lo=je(gr),yr,ua,yi,ca=S({},gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_r,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yi&&(yi&&e.type==="mousemove"?(yr=e.screenX-yi.screenX,ua=e.screenY-yi.screenY):ua=yr=0,yi=e),yr)},movementY:function(e){return"movementY"in e?e.movementY:ua}}),Uo=je(ca),_s=S({},ca,{dataTransfer:0}),vu=je(_s),Eu=S({},gr,{relatedTarget:0}),vs=je(Eu),Po=S({},Li,{animationName:0,elapsedTime:0,pseudoElement:0}),Tu=je(Po),ha=S({},Li,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Au=je(ha),Su=S({},Li,{data:0}),_i=je(Su),bu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Ru[e])?!!n[e]:!1}function _r(){return Cu}var en=S({},gr,{key:function(e){if(e.key){var n=bu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ys(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_r,charCode:function(e){return e.type==="keypress"?ys(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ys(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Iu=je(en),Nu=S({},ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ui=je(Nu),u=S({},gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_r}),m=je(u),v=S({},Li,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=je(v),U=S({},ca,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=je(U),Z=S({},Li,{newState:0,oldState:0}),At=je(Z),de=[9,13,27,32],Bt=Rn&&"CompositionEvent"in window,oe=null;Rn&&"documentMode"in document&&(oe=document.documentMode);var Cn=Rn&&"TextEvent"in window&&!oe,vi=Rn&&(!Bt||oe&&8<oe&&11>=oe),Gn=" ",Kn=!1;function Es(e,n){switch(e){case"keyup":return de.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var da=!1;function r1(e,n){switch(e){case"compositionend":return fa(n);case"keypress":return n.which!==32?null:(Kn=!0,Gn);case"textInput":return e=n.data,e===Gn&&Kn?null:e;default:return null}}function s1(e,n){if(da)return e==="compositionend"||!Bt&&Es(e,n)?(e=ko(),gs=Mo=pi=null,da=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return vi&&n.locale!=="ko"?null:n.data;default:return null}}var a1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!a1[e.type]:n==="textarea"}function yp(e,n,a,o){mr?mi?mi.push(o):mi=[o]:mr=o,n=_c(n,"onChange"),0<n.length&&(a=new gi("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var zo=null,jo=null;function o1(e){Wy(e,0)}function Du(e){var n=dn(e);if(fs(n))return e}function _p(e,n){if(e==="change")return n}var vp=!1;if(Rn){var Ph;if(Rn){var zh="oninput"in document;if(!zh){var Ep=document.createElement("div");Ep.setAttribute("oninput","return;"),zh=typeof Ep.oninput=="function"}Ph=zh}else Ph=!1;vp=Ph&&(!document.documentMode||9<document.documentMode)}function Tp(){zo&&(zo.detachEvent("onpropertychange",Ap),jo=zo=null)}function Ap(e){if(e.propertyName==="value"&&Du(jo)){var n=[];yp(n,jo,e,wn(e)),pr(o1,n)}}function l1(e,n,a){e==="focusin"?(Tp(),zo=n,jo=a,zo.attachEvent("onpropertychange",Ap)):e==="focusout"&&Tp()}function u1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Du(jo)}function c1(e,n){if(e==="click")return Du(n)}function h1(e,n){if(e==="input"||e==="change")return Du(n)}function f1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var pn=typeof Object.is=="function"?Object.is:f1;function Bo(e,n){if(pn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!ye.call(n,h)||!pn(e[h],n[h]))return!1}return!0}function Sp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bp(e,n){var a=Sp(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Sp(a)}}function wp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?wp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Rp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=di(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=di(e.document)}return n}function jh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var d1=Rn&&"documentMode"in document&&11>=document.documentMode,ma=null,Bh=null,qo=null,qh=!1;function Cp(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;qh||ma==null||ma!==di(o)||(o=ma,"selectionStart"in o&&jh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),qo&&Bo(qo,o)||(qo=o,o=_c(Bh,"onSelect"),0<o.length&&(n=new gi("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=ma)))}function Ts(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var pa={animationend:Ts("Animation","AnimationEnd"),animationiteration:Ts("Animation","AnimationIteration"),animationstart:Ts("Animation","AnimationStart"),transitionrun:Ts("Transition","TransitionRun"),transitionstart:Ts("Transition","TransitionStart"),transitioncancel:Ts("Transition","TransitionCancel"),transitionend:Ts("Transition","TransitionEnd")},Hh={},Ip={};Rn&&(Ip=document.createElement("div").style,"AnimationEvent"in window||(delete pa.animationend.animation,delete pa.animationiteration.animation,delete pa.animationstart.animation),"TransitionEvent"in window||delete pa.transitionend.transition);function As(e){if(Hh[e])return Hh[e];if(!pa[e])return e;var n=pa[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Ip)return Hh[e]=n[a];return e}var Np=As("animationend"),Dp=As("animationiteration"),xp=As("animationstart"),m1=As("transitionrun"),p1=As("transitionstart"),g1=As("transitioncancel"),Op=As("transitionend"),Vp=new Map,Fh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fh.push("scrollEnd");function Qn(e,n){Vp.set(e,n),hi(n,[e])}var xu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},In=[],ga=0,Gh=0;function Ou(){for(var e=ga,n=Gh=ga=0;n<e;){var a=In[n];In[n++]=null;var o=In[n];In[n++]=null;var h=In[n];In[n++]=null;var f=In[n];if(In[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Mp(a,h,f)}}function Vu(e,n,a,o){In[ga++]=e,In[ga++]=n,In[ga++]=a,In[ga++]=o,Gh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Kh(e,n,a,o){return Vu(e,n,a,o),Mu(e)}function Ss(e,n){return Vu(e,null,null,n),Mu(e)}function Mp(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-fe(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Mu(e){if(50<cl)throw cl=0,nd=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ya={};function y1(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,n,a,o){return new y1(e,n,a,o)}function Qh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pi(e,n){var a=e.alternate;return a===null?(a=gn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function kp(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function ku(e,n,a,o,h,f){var g=0;if(o=e,typeof e=="function")Qh(e)&&(g=1);else if(typeof e=="string")g=AA(e,a,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=gn(31,a,n,h),e.elementType=C,e.lanes=f,e;case nt:return bs(a.children,h,f,n);case it:g=8,h|=24;break;case dt:return e=gn(12,a,n,h|2),e.elementType=dt,e.lanes=f,e;case Wt:return e=gn(13,a,n,h),e.elementType=Wt,e.lanes=f,e;case Pt:return e=gn(19,a,n,h),e.elementType=Pt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case yt:g=10;break t;case Tt:g=9;break t;case bt:g=11;break t;case I:g=14;break t;case b:g=16,o=null;break t}g=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=gn(g,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function bs(e,n,a,o){return e=gn(7,e,o,n),e.lanes=a,e}function Yh(e,n,a){return e=gn(6,e,null,n),e.lanes=a,e}function Lp(e){var n=gn(18,null,null,0);return n.stateNode=e,n}function Xh(e,n,a){return n=gn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Up=new WeakMap;function Nn(e,n){if(typeof e=="object"&&e!==null){var a=Up.get(e);return a!==void 0?a:(n={value:e,source:n,stack:vo(n)},Up.set(e,n),n)}return{value:e,source:n,stack:vo(n)}}var _a=[],va=0,Lu=null,Ho=0,Dn=[],xn=0,vr=null,Ei=1,Ti="";function zi(e,n){_a[va++]=Ho,_a[va++]=Lu,Lu=e,Ho=n}function Pp(e,n,a){Dn[xn++]=Ei,Dn[xn++]=Ti,Dn[xn++]=vr,vr=e;var o=Ei;e=Ti;var h=32-fe(o)-1;o&=~(1<<h),a+=1;var f=32-fe(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Ei=1<<32-fe(n)+h|a<<h|o,Ti=f+e}else Ei=1<<f|a<<h|o,Ti=e}function $h(e){e.return!==null&&(zi(e,1),Pp(e,1,0))}function Jh(e){for(;e===Lu;)Lu=_a[--va],_a[va]=null,Ho=_a[--va],_a[va]=null;for(;e===vr;)vr=Dn[--xn],Dn[xn]=null,Ti=Dn[--xn],Dn[xn]=null,Ei=Dn[--xn],Dn[xn]=null}function zp(e,n){Dn[xn++]=Ei,Dn[xn++]=Ti,Dn[xn++]=vr,Ei=n.id,Ti=n.overflow,vr=e}var Be=null,ee=null,Mt=!1,Er=null,On=!1,Zh=Error(s(519));function Tr(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fo(Nn(n,e)),Zh}function jp(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[ve]=e,n[ke]=o,a){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(a=0;a<fl.length;a++)It(fl[a],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),pu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),fr(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||i_(n.textContent,a)?(o.popover!=null&&(It("beforetoggle",n),It("toggle",n)),o.onScroll!=null&&It("scroll",n),o.onScrollEnd!=null&&It("scrollend",n),o.onClick!=null&&(n.onclick=qn),n=!0):n=!1,n||Tr(e,!0)}function Bp(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:On=!1;return;case 27:case 3:On=!0;return;default:Be=Be.return}}function Ea(e){if(e!==Be)return!1;if(!Mt)return Bp(e),Mt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||yd(e.type,e.memoizedProps)),a=!a),a&&ee&&Tr(e),Bp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ee=f_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ee=f_(e)}else n===27?(n=ee,kr(e.type)?(e=Ad,Ad=null,ee=e):ee=n):ee=Be?Mn(e.stateNode.nextSibling):null;return!0}function ws(){ee=Be=null,Mt=!1}function Wh(){var e=Er;return e!==null&&(un===null?un=e:un.push.apply(un,e),Er=null),e}function Fo(e){Er===null?Er=[e]:Er.push(e)}var tf=O(null),Rs=null,ji=null;function Ar(e,n,a){et(tf,n._currentValue),n._currentValue=a}function Bi(e){e._currentValue=tf.current,Y(tf)}function ef(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function nf(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),ef(f.return,a,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(s(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),ef(g,a,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Ta(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var E=h.type;pn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===kt.current){if(g=h.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(yl):e=[yl])}h=h.return}e!==null&&nf(n,e,a,o),n.flags|=262144}function Uu(e){for(e=e.firstContext;e!==null;){if(!pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Cs(e){Rs=e,ji=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return qp(Rs,e)}function Pu(e,n){return Rs===null&&Cs(e),qp(e,n)}function qp(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},ji===null){if(e===null)throw Error(s(308));ji=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ji=ji.next=n;return a}var _1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},v1=r.unstable_scheduleCallback,E1=r.unstable_NormalPriority,Ae={$$typeof:yt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rf(){return{controller:new _1,data:new Map,refCount:0}}function Go(e){e.refCount--,e.refCount===0&&v1(E1,function(){e.controller.abort()})}var Ko=null,sf=0,Aa=0,Sa=null;function T1(e,n){if(Ko===null){var a=Ko=[];sf=0,Aa=ld(),Sa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return sf++,n.then(Hp,Hp),n}function Hp(){if(--sf===0&&Ko!==null){Sa!==null&&(Sa.status="fulfilled");var e=Ko;Ko=null,Aa=0,Sa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function A1(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Fp=F.S;F.S=function(e,n){Cy=tn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&T1(e,n),Fp!==null&&Fp(e,n)};var Is=O(null);function af(){var e=Is.current;return e!==null?e:Zt.pooledCache}function zu(e,n){n===null?et(Is,Is.current):et(Is,n.pool)}function Gp(){var e=af();return e===null?null:{parent:Ae._currentValue,pool:e}}var ba=Error(s(460)),of=Error(s(474)),ju=Error(s(542)),Bu={then:function(){}};function Kp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Qp(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(qn,qn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Xp(e),e;default:if(typeof n.status=="string")n.then(qn,qn);else{if(e=Zt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Xp(e),e}throw Ds=n,ba}}function Ns(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ds=a,ba):a}}var Ds=null;function Yp(){if(Ds===null)throw Error(s(459));var e=Ds;return Ds=null,e}function Xp(e){if(e===ba||e===ju)throw Error(s(483))}var wa=null,Qo=0;function qu(e){var n=Qo;return Qo+=1,wa===null&&(wa=[]),Qp(wa,e,n)}function Yo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Hu(e,n){throw n.$$typeof===V?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function $p(e){function n(k,D){if(e){var P=k.deletions;P===null?(k.deletions=[D],k.flags|=16):P.push(D)}}function a(k,D){if(!e)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function o(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Pi(k,D),k.index=0,k.sibling=null,k}function f(k,D,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<D?(k.flags|=67108866,D):P):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,D,P,K){return D===null||D.tag!==6?(D=Yh(P,k.mode,K),D.return=k,D):(D=h(D,P),D.return=k,D)}function R(k,D,P,K){var ut=P.type;return ut===nt?H(k,D,P.props.children,K,P.key):D!==null&&(D.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===b&&Ns(ut)===D.type)?(D=h(D,P.props),Yo(D,P),D.return=k,D):(D=ku(P.type,P.key,P.props,null,k.mode,K),Yo(D,P),D.return=k,D)}function z(k,D,P,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Xh(P,k.mode,K),D.return=k,D):(D=h(D,P.children||[]),D.return=k,D)}function H(k,D,P,K,ut){return D===null||D.tag!==7?(D=bs(P,k.mode,K,ut),D.return=k,D):(D=h(D,P),D.return=k,D)}function Q(k,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Yh(""+D,k.mode,P),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case G:return P=ku(D.type,D.key,D.props,null,k.mode,P),Yo(P,D),P.return=k,P;case W:return D=Xh(D,k.mode,P),D.return=k,D;case b:return D=Ns(D),Q(k,D,P)}if(Ne(D)||L(D))return D=bs(D,k.mode,P,null),D.return=k,D;if(typeof D.then=="function")return Q(k,qu(D),P);if(D.$$typeof===yt)return Q(k,Pu(k,D),P);Hu(k,D)}return null}function j(k,D,P,K){var ut=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ut!==null?null:E(k,D,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case G:return P.key===ut?R(k,D,P,K):null;case W:return P.key===ut?z(k,D,P,K):null;case b:return P=Ns(P),j(k,D,P,K)}if(Ne(P)||L(P))return ut!==null?null:H(k,D,P,K,null);if(typeof P.then=="function")return j(k,D,qu(P),K);if(P.$$typeof===yt)return j(k,D,Pu(k,P),K);Hu(k,P)}return null}function q(k,D,P,K,ut){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(P)||null,E(D,k,""+K,ut);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case G:return k=k.get(K.key===null?P:K.key)||null,R(D,k,K,ut);case W:return k=k.get(K.key===null?P:K.key)||null,z(D,k,K,ut);case b:return K=Ns(K),q(k,D,P,K,ut)}if(Ne(K)||L(K))return k=k.get(P)||null,H(D,k,K,ut,null);if(typeof K.then=="function")return q(k,D,P,qu(K),ut);if(K.$$typeof===yt)return q(k,D,P,Pu(D,K),ut);Hu(D,K)}return null}function ot(k,D,P,K){for(var ut=null,zt=null,lt=D,Rt=D=0,Dt=null;lt!==null&&Rt<P.length;Rt++){lt.index>Rt?(Dt=lt,lt=null):Dt=lt.sibling;var jt=j(k,lt,P[Rt],K);if(jt===null){lt===null&&(lt=Dt);break}e&&lt&&jt.alternate===null&&n(k,lt),D=f(jt,D,Rt),zt===null?ut=jt:zt.sibling=jt,zt=jt,lt=Dt}if(Rt===P.length)return a(k,lt),Mt&&zi(k,Rt),ut;if(lt===null){for(;Rt<P.length;Rt++)lt=Q(k,P[Rt],K),lt!==null&&(D=f(lt,D,Rt),zt===null?ut=lt:zt.sibling=lt,zt=lt);return Mt&&zi(k,Rt),ut}for(lt=o(lt);Rt<P.length;Rt++)Dt=q(lt,k,Rt,P[Rt],K),Dt!==null&&(e&&Dt.alternate!==null&&lt.delete(Dt.key===null?Rt:Dt.key),D=f(Dt,D,Rt),zt===null?ut=Dt:zt.sibling=Dt,zt=Dt);return e&&lt.forEach(function(jr){return n(k,jr)}),Mt&&zi(k,Rt),ut}function ft(k,D,P,K){if(P==null)throw Error(s(151));for(var ut=null,zt=null,lt=D,Rt=D=0,Dt=null,jt=P.next();lt!==null&&!jt.done;Rt++,jt=P.next()){lt.index>Rt?(Dt=lt,lt=null):Dt=lt.sibling;var jr=j(k,lt,jt.value,K);if(jr===null){lt===null&&(lt=Dt);break}e&&lt&&jr.alternate===null&&n(k,lt),D=f(jr,D,Rt),zt===null?ut=jr:zt.sibling=jr,zt=jr,lt=Dt}if(jt.done)return a(k,lt),Mt&&zi(k,Rt),ut;if(lt===null){for(;!jt.done;Rt++,jt=P.next())jt=Q(k,jt.value,K),jt!==null&&(D=f(jt,D,Rt),zt===null?ut=jt:zt.sibling=jt,zt=jt);return Mt&&zi(k,Rt),ut}for(lt=o(lt);!jt.done;Rt++,jt=P.next())jt=q(lt,k,Rt,jt.value,K),jt!==null&&(e&&jt.alternate!==null&&lt.delete(jt.key===null?Rt:jt.key),D=f(jt,D,Rt),zt===null?ut=jt:zt.sibling=jt,zt=jt);return e&&lt.forEach(function(VA){return n(k,VA)}),Mt&&zi(k,Rt),ut}function Jt(k,D,P,K){if(typeof P=="object"&&P!==null&&P.type===nt&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case G:t:{for(var ut=P.key;D!==null;){if(D.key===ut){if(ut=P.type,ut===nt){if(D.tag===7){a(k,D.sibling),K=h(D,P.props.children),K.return=k,k=K;break t}}else if(D.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===b&&Ns(ut)===D.type){a(k,D.sibling),K=h(D,P.props),Yo(K,P),K.return=k,k=K;break t}a(k,D);break}else n(k,D);D=D.sibling}P.type===nt?(K=bs(P.props.children,k.mode,K,P.key),K.return=k,k=K):(K=ku(P.type,P.key,P.props,null,k.mode,K),Yo(K,P),K.return=k,k=K)}return g(k);case W:t:{for(ut=P.key;D!==null;){if(D.key===ut)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){a(k,D.sibling),K=h(D,P.children||[]),K.return=k,k=K;break t}else{a(k,D);break}else n(k,D);D=D.sibling}K=Xh(P,k.mode,K),K.return=k,k=K}return g(k);case b:return P=Ns(P),Jt(k,D,P,K)}if(Ne(P))return ot(k,D,P,K);if(L(P)){if(ut=L(P),typeof ut!="function")throw Error(s(150));return P=ut.call(P),ft(k,D,P,K)}if(typeof P.then=="function")return Jt(k,D,qu(P),K);if(P.$$typeof===yt)return Jt(k,D,Pu(k,P),K);Hu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(a(k,D.sibling),K=h(D,P),K.return=k,k=K):(a(k,D),K=Yh(P,k.mode,K),K.return=k,k=K),g(k)):a(k,D)}return function(k,D,P,K){try{Qo=0;var ut=Jt(k,D,P,K);return wa=null,ut}catch(lt){if(lt===ba||lt===ju)throw lt;var zt=gn(29,lt,null,k.mode);return zt.lanes=K,zt.return=k,zt}}}var xs=$p(!0),Jp=$p(!1),Sr=!1;function lf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function br(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function wr(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(qt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Mu(e),Mp(e,null,a),n}return Vu(e,o,n,a),Mu(e)}function Xo(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Ao(e,a)}}function cf(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var hf=!1;function $o(){if(hf){var e=Sa;if(e!==null)throw e}}function Jo(e,n,a,o){hf=!1;var h=e.updateQueue;Sr=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,z=R.next;R.next=null,g===null?f=z:g.next=z,g=R;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==g&&(E===null?H.firstBaseUpdate=z:E.next=z,H.lastBaseUpdate=R))}if(f!==null){var Q=h.baseState;g=0,H=z=R=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(Nt&j)===j:(o&j)===j){j!==0&&j===Aa&&(hf=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=e,ft=E;j=n;var Jt=a;switch(ft.tag){case 1:if(ot=ft.payload,typeof ot=="function"){Q=ot.call(Jt,Q,j);break t}Q=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=ft.payload,j=typeof ot=="function"?ot.call(Jt,Q,j):ot,j==null)break t;Q=S({},Q,j);break t;case 2:Sr=!0}}j=E.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(z=H=q,R=Q):H=H.next=q,g|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);H===null&&(R=Q),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=H,f===null&&(h.shared.lanes=0),Dr|=g,e.lanes=g,e.memoizedState=Q}}function Zp(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function Wp(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Zp(a[e],n)}var Ra=O(null),Fu=O(0);function tg(e,n){e=$i,et(Fu,e),et(Ra,n),$i=e|n.baseLanes}function ff(){et(Fu,$i),et(Ra,Ra.current)}function df(){$i=Fu.current,Y(Ra),Y(Fu)}var yn=O(null),Vn=null;function Rr(e){var n=e.alternate;et(me,me.current&1),et(yn,e),Vn===null&&(n===null||Ra.current!==null||n.memoizedState!==null)&&(Vn=e)}function mf(e){et(me,me.current),et(yn,e),Vn===null&&(Vn=e)}function eg(e){e.tag===22?(et(me,me.current),et(yn,e),Vn===null&&(Vn=e)):Cr()}function Cr(){et(me,me.current),et(yn,yn.current)}function _n(e){Y(yn),Vn===e&&(Vn=null),Y(me)}var me=O(0);function Gu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ed(a)||Td(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var qi=0,St=null,Xt=null,Se=null,Ku=!1,Ca=!1,Os=!1,Qu=0,Zo=0,Ia=null,S1=0;function ce(){throw Error(s(321))}function pf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!pn(e[a],n[a]))return!1;return!0}function gf(e,n,a,o,h,f){return qi=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?Pg:xf,Os=!1,f=a(o,h),Os=!1,Ca&&(f=ig(n,a,o,h)),ng(e),f}function ng(e){F.H=el;var n=Xt!==null&&Xt.next!==null;if(qi=0,Se=Xt=St=null,Ku=!1,Zo=0,Ia=null,n)throw Error(s(300));e===null||be||(e=e.dependencies,e!==null&&Uu(e)&&(be=!0))}function ig(e,n,a,o){St=e;var h=0;do{if(Ca&&(Ia=null),Zo=0,Ca=!1,25<=h)throw Error(s(301));if(h+=1,Se=Xt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=zg,f=n(a,o)}while(Ca);return f}function b1(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?Wo(n):n,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(St.flags|=1024),n}function yf(){var e=Qu!==0;return Qu=0,e}function _f(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function vf(e){if(Ku){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Ku=!1}qi=0,Se=Xt=St=null,Ca=!1,Zo=Qu=0,Ia=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?St.memoizedState=Se=e:Se=Se.next=e,Se}function pe(){if(Xt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var n=Se===null?St.memoizedState:Se.next;if(n!==null)Se=n,Xt=e;else{if(e===null)throw St.alternate===null?Error(s(467)):Error(s(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Se===null?St.memoizedState=Se=e:Se=Se.next=e}return Se}function Yu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wo(e){var n=Zo;return Zo+=1,Ia===null&&(Ia=[]),e=Qp(Ia,e,n),n=St,(Se===null?n.memoizedState:Se.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Pg:xf),e}function Xu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Wo(e);if(e.$$typeof===yt)return qe(e)}throw Error(s(438,String(e)))}function Ef(e){var n=null,a=St.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=St.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Yu(),St.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=M;return n.index++,a}function Hi(e,n){return typeof n=="function"?n(e):n}function $u(e){var n=pe();return Tf(n,Xt,e)}function Tf(e,n,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,R=null,z=n,H=!1;do{var Q=z.lane&-536870913;if(Q!==z.lane?(Nt&Q)===Q:(qi&Q)===Q){var j=z.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Q===Aa&&(H=!0);else if((qi&j)===j){z=z.next,j===Aa&&(H=!0);continue}else Q={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=Q,g=f):R=R.next=Q,St.lanes|=j,Dr|=j;Q=z.action,Os&&a(f,Q),f=z.hasEagerState?z.eagerState:a(f,Q)}else j={lane:Q,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=j,g=f):R=R.next=j,St.lanes|=Q,Dr|=Q;z=z.next}while(z!==null&&z!==n);if(R===null?g=f:R.next=E,!pn(f,e.memoizedState)&&(be=!0,H&&(a=Sa,a!==null)))throw a;e.memoizedState=f,e.baseState=g,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Af(e){var n=pe(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);pn(f,n.memoizedState)||(be=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function rg(e,n,a){var o=St,h=pe(),f=Mt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var g=!pn((Xt||h).memoizedState,a);if(g&&(h.memoizedState=a,be=!0),h=h.queue,wf(og.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Se!==null&&Se.memoizedState.tag&1){if(o.flags|=2048,Na(9,{destroy:void 0},ag.bind(null,o,h,a,n),null),Zt===null)throw Error(s(349));f||(qi&127)!==0||sg(o,n,a)}return a}function sg(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=St.updateQueue,n===null?(n=Yu(),St.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function ag(e,n,a,o){n.value=a,n.getSnapshot=o,lg(n)&&ug(e)}function og(e,n,a){return a(function(){lg(n)&&ug(e)})}function lg(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!pn(e,a)}catch{return!0}}function ug(e){var n=Ss(e,2);n!==null&&cn(n,e,2)}function Sf(e){var n=nn();if(typeof e=="function"){var a=e;if(e=a(),Os){Sn(!0);try{a()}finally{Sn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:e},n}function cg(e,n,a,o){return e.baseState=a,Tf(e,Xt,typeof o=="function"?o:Hi)}function w1(e,n,a,o,h){if(Wu(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};F.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,hg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function hg(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=F.T,g={};F.T=g;try{var E=a(h,o),R=F.S;R!==null&&R(g,E),fg(e,n,E)}catch(z){bf(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),F.T=f}}else try{f=a(h,o),fg(e,n,f)}catch(z){bf(e,n,z)}}function fg(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){dg(e,n,o)},function(o){return bf(e,n,o)}):dg(e,n,a)}function dg(e,n,a){n.status="fulfilled",n.value=a,mg(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,hg(e,a)))}function bf(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,mg(n),n=n.next;while(n!==o)}e.action=null}function mg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function pg(e,n){return n}function gg(e,n){if(Mt){var a=Zt.formState;if(a!==null){t:{var o=St;if(Mt){if(ee){e:{for(var h=ee,f=On;h.nodeType!==8;){if(!f){h=null;break e}if(h=Mn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ee=Mn(h.nextSibling),o=h.data==="F!";break t}}Tr(o)}o=!1}o&&(n=a[0])}}return a=nn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pg,lastRenderedState:n},a.queue=o,a=kg.bind(null,St,o),o.dispatch=a,o=Sf(!1),f=Df.bind(null,St,!1,o.queue),o=nn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=w1.bind(null,St,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function yg(e){var n=pe();return _g(n,Xt,e)}function _g(e,n,a){if(n=Tf(e,n,pg)[0],e=$u(Hi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Wo(n)}catch(g){throw g===ba?ju:g}else o=n;n=pe();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(St.flags|=2048,Na(9,{destroy:void 0},R1.bind(null,h,a),null)),[o,f,e]}function R1(e,n){e.action=n}function vg(e){var n=pe(),a=Xt;if(a!==null)return _g(n,a,e);pe(),n=n.memoizedState,a=pe();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function Na(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=St.updateQueue,n===null&&(n=Yu(),St.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function Eg(){return pe().memoizedState}function Ju(e,n,a,o){var h=nn();St.flags|=e,h.memoizedState=Na(1|n,{destroy:void 0},a,o===void 0?null:o)}function Zu(e,n,a,o){var h=pe();o=o===void 0?null:o;var f=h.memoizedState.inst;Xt!==null&&o!==null&&pf(o,Xt.memoizedState.deps)?h.memoizedState=Na(n,f,a,o):(St.flags|=e,h.memoizedState=Na(1|n,f,a,o))}function Tg(e,n){Ju(8390656,8,e,n)}function wf(e,n){Zu(2048,8,e,n)}function C1(e){St.flags|=4;var n=St.updateQueue;if(n===null)n=Yu(),St.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Ag(e){var n=pe().memoizedState;return C1({ref:n,nextImpl:e}),function(){if((qt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Sg(e,n){return Zu(4,2,e,n)}function bg(e,n){return Zu(4,4,e,n)}function wg(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Rg(e,n,a){a=a!=null?a.concat([e]):null,Zu(4,4,wg.bind(null,n,e),a)}function Rf(){}function Cg(e,n){var a=pe();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&pf(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function Ig(e,n){var a=pe();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&pf(n,o[1]))return o[0];if(o=e(),Os){Sn(!0);try{e()}finally{Sn(!1)}}return a.memoizedState=[o,n],o}function Cf(e,n,a){return a===void 0||(qi&1073741824)!==0&&(Nt&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=Ny(),St.lanes|=e,Dr|=e,a)}function Ng(e,n,a,o){return pn(a,n)?a:Ra.current!==null?(e=Cf(e,a,o),pn(e,n)||(be=!0),e):(qi&42)===0||(qi&1073741824)!==0&&(Nt&261930)===0?(be=!0,e.memoizedState=a):(e=Ny(),St.lanes|=e,Dr|=e,n)}function Dg(e,n,a,o,h){var f=tt.p;tt.p=f!==0&&8>f?f:8;var g=F.T,E={};F.T=E,Df(e,!1,n,a);try{var R=h(),z=F.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var H=A1(R,o);tl(e,n,H,Tn(e))}else tl(e,n,o,Tn(e))}catch(Q){tl(e,n,{then:function(){},status:"rejected",reason:Q},Tn())}finally{tt.p=f,g!==null&&E.types!==null&&(g.types=E.types),F.T=g}}function I1(){}function If(e,n,a,o){if(e.tag!==5)throw Error(s(476));var h=xg(e).queue;Dg(e,h,n,ht,a===null?I1:function(){return Og(e),a(o)})}function xg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:ht},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Og(e){var n=xg(e);n.next===null&&(n=e.alternate.memoizedState),tl(e,n.next.queue,{},Tn())}function Nf(){return qe(yl)}function Vg(){return pe().memoizedState}function Mg(){return pe().memoizedState}function N1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Tn();e=br(a);var o=wr(n,e,a);o!==null&&(cn(o,n,a),Xo(o,n,a)),n={cache:rf()},e.payload=n;return}n=n.return}}function D1(e,n,a){var o=Tn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Wu(e)?Lg(n,a):(a=Kh(e,n,a,o),a!==null&&(cn(a,e,o),Ug(a,n,o)))}function kg(e,n,a){var o=Tn();tl(e,n,a,o)}function tl(e,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Wu(e))Lg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(h.hasEagerState=!0,h.eagerState=E,pn(E,g))return Vu(e,n,h,0),Zt===null&&Ou(),!1}catch{}if(a=Kh(e,n,h,o),a!==null)return cn(a,e,o),Ug(a,n,o),!0}return!1}function Df(e,n,a,o){if(o={lane:2,revertLane:ld(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Wu(e)){if(n)throw Error(s(479))}else n=Kh(e,a,o,2),n!==null&&cn(n,e,2)}function Wu(e){var n=e.alternate;return e===St||n!==null&&n===St}function Lg(e,n){Ca=Ku=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Ug(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Ao(e,a)}}var el={readContext:qe,use:Xu,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};el.useEffectEvent=ce;var Pg={readContext:qe,use:Xu,useCallback:function(e,n){return nn().memoizedState=[e,n===void 0?null:n],e},useContext:qe,useEffect:Tg,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Ju(4194308,4,wg.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Ju(4194308,4,e,n)},useInsertionEffect:function(e,n){Ju(4,2,e,n)},useMemo:function(e,n){var a=nn();n=n===void 0?null:n;var o=e();if(Os){Sn(!0);try{e()}finally{Sn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=nn();if(a!==void 0){var h=a(n);if(Os){Sn(!0);try{a(n)}finally{Sn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=D1.bind(null,St,e),[o.memoizedState,e]},useRef:function(e){var n=nn();return e={current:e},n.memoizedState=e},useState:function(e){e=Sf(e);var n=e.queue,a=kg.bind(null,St,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Rf,useDeferredValue:function(e,n){var a=nn();return Cf(a,e,n)},useTransition:function(){var e=Sf(!1);return e=Dg.bind(null,St,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=St,h=nn();if(Mt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Zt===null)throw Error(s(349));(Nt&127)!==0||sg(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Tg(og.bind(null,o,f,e),[e]),o.flags|=2048,Na(9,{destroy:void 0},ag.bind(null,o,f,a,n),null),a},useId:function(){var e=nn(),n=Zt.identifierPrefix;if(Mt){var a=Ti,o=Ei;a=(o&~(1<<32-fe(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Qu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=S1++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Nf,useFormState:gg,useActionState:gg,useOptimistic:function(e){var n=nn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Df.bind(null,St,!0,a),a.dispatch=n,[e,n]},useMemoCache:Ef,useCacheRefresh:function(){return nn().memoizedState=N1.bind(null,St)},useEffectEvent:function(e){var n=nn(),a={impl:e};return n.memoizedState=a,function(){if((qt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},xf={readContext:qe,use:Xu,useCallback:Cg,useContext:qe,useEffect:wf,useImperativeHandle:Rg,useInsertionEffect:Sg,useLayoutEffect:bg,useMemo:Ig,useReducer:$u,useRef:Eg,useState:function(){return $u(Hi)},useDebugValue:Rf,useDeferredValue:function(e,n){var a=pe();return Ng(a,Xt.memoizedState,e,n)},useTransition:function(){var e=$u(Hi)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:Wo(e),n]},useSyncExternalStore:rg,useId:Vg,useHostTransitionStatus:Nf,useFormState:yg,useActionState:yg,useOptimistic:function(e,n){var a=pe();return cg(a,Xt,e,n)},useMemoCache:Ef,useCacheRefresh:Mg};xf.useEffectEvent=Ag;var zg={readContext:qe,use:Xu,useCallback:Cg,useContext:qe,useEffect:wf,useImperativeHandle:Rg,useInsertionEffect:Sg,useLayoutEffect:bg,useMemo:Ig,useReducer:Af,useRef:Eg,useState:function(){return Af(Hi)},useDebugValue:Rf,useDeferredValue:function(e,n){var a=pe();return Xt===null?Cf(a,e,n):Ng(a,Xt.memoizedState,e,n)},useTransition:function(){var e=Af(Hi)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:Wo(e),n]},useSyncExternalStore:rg,useId:Vg,useHostTransitionStatus:Nf,useFormState:vg,useActionState:vg,useOptimistic:function(e,n){var a=pe();return Xt!==null?cg(a,Xt,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Ef,useCacheRefresh:Mg};zg.useEffectEvent=Ag;function Of(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:S({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Vf={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=Tn(),h=br(o);h.payload=n,a!=null&&(h.callback=a),n=wr(e,h,o),n!==null&&(cn(n,e,o),Xo(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=Tn(),h=br(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=wr(e,h,o),n!==null&&(cn(n,e,o),Xo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Tn(),o=br(a);o.tag=2,n!=null&&(o.callback=n),n=wr(e,o,a),n!==null&&(cn(n,e,a),Xo(n,e,a))}};function jg(e,n,a,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Bo(a,o)||!Bo(h,f):!0}function Bg(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&Vf.enqueueReplaceState(n,n.state,null)}function Vs(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function qg(e){xu(e)}function Hg(e){console.error(e)}function Fg(e){xu(e)}function tc(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Gg(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Mf(e,n,a){return a=br(a),a.tag=3,a.payload={element:null},a.callback=function(){tc(e,n)},a}function Kg(e){return e=br(e),e.tag=3,e}function Qg(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Gg(n,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Gg(n,a,o),typeof h!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function x1(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Ta(n,a,h,!0),a=yn.current,a!==null){switch(a.tag){case 31:case 13:return Vn===null?fc():a.alternate===null&&he===0&&(he=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Bu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),sd(e,o,h)),!1;case 22:return a.flags|=65536,o===Bu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),sd(e,o,h)),!1}throw Error(s(435,a.tag))}return sd(e,o,h),fc(),!1}if(Mt)return n=yn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Zh&&(e=Error(s(422),{cause:o}),Fo(Nn(e,a)))):(o!==Zh&&(n=Error(s(423),{cause:o}),Fo(Nn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Nn(o,a),h=Mf(e.stateNode,o,h),cf(e,h),he!==4&&(he=2)),!1;var f=Error(s(520),{cause:o});if(f=Nn(f,a),ul===null?ul=[f]:ul.push(f),he!==4&&(he=2),n===null)return!0;o=Nn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Mf(a.stateNode,o,e),cf(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(xr===null||!xr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Kg(h),Qg(h,e,a,o),cf(a,h),!1}a=a.return}while(a!==null);return!1}var kf=Error(s(461)),be=!1;function He(e,n,a,o){n.child=e===null?Jp(n,null,a,o):xs(n,e.child,a,o)}function Yg(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Cs(n),o=gf(e,n,a,g,f,h),E=yf(),e!==null&&!be?(_f(e,n,h),Fi(e,n,h)):(Mt&&E&&$h(n),n.flags|=1,He(e,n,o,h),n.child)}function Xg(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Qh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,$g(e,n,f,o,h)):(e=ku(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Hf(e,h)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:Bo,a(g,o)&&e.ref===n.ref)return Fi(e,n,h)}return n.flags|=1,e=Pi(f,o),e.ref=n.ref,e.return=n,n.child=e}function $g(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if(Bo(f,o)&&e.ref===n.ref)if(be=!1,n.pendingProps=o=f,Hf(e,h))(e.flags&131072)!==0&&(be=!0);else return n.lanes=e.lanes,Fi(e,n,h)}return Lf(e,n,a,o,h)}function Jg(e,n,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Zg(e,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&zu(n,f!==null?f.cachePool:null),f!==null?tg(n,f):ff(),eg(n);else return o=n.lanes=536870912,Zg(e,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(zu(n,f.cachePool),tg(n,f),Cr(),n.memoizedState=null):(e!==null&&zu(n,null),ff(),Cr());return He(e,n,h,a),n.child}function nl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Zg(e,n,a,o,h){var f=af();return f=f===null?null:{parent:Ae._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&zu(n,null),ff(),eg(n),e!==null&&Ta(e,n,o,!0),n.childLanes=h,null}function ec(e,n){return n=ic({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Wg(e,n,a){return xs(n,e.child,null,a),e=ec(n,n.pendingProps),e.flags|=2,_n(n),n.memoizedState=null,e}function O1(e,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Mt){if(o.mode==="hidden")return e=ec(n,o),n.lanes=536870912,nl(null,e);if(mf(n),(e=ee)?(e=h_(e,On),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:vr!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},a=Lp(e),a.return=n,n.child=a,Be=n,ee=null)):e=null,e===null)throw Tr(n);return n.lanes=536870912,null}return ec(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(mf(n),h)if(n.flags&256)n.flags&=-257,n=Wg(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(be||Ta(e,n,a,!1),h=(a&e.childLanes)!==0,be||h){if(o=Zt,o!==null&&(g=So(o,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,Ss(e,g),cn(o,e,g),kf;fc(),n=Wg(e,n,a)}else e=f.treeContext,ee=Mn(g.nextSibling),Be=n,Mt=!0,Er=null,On=!1,e!==null&&zp(n,e),n=ec(n,o),n.flags|=4096;return n}return e=Pi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function nc(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Lf(e,n,a,o,h){return Cs(n),a=gf(e,n,a,o,void 0,h),o=yf(),e!==null&&!be?(_f(e,n,h),Fi(e,n,h)):(Mt&&o&&$h(n),n.flags|=1,He(e,n,a,h),n.child)}function ty(e,n,a,o,h,f){return Cs(n),n.updateQueue=null,a=ig(n,o,a,h),ng(e),o=yf(),e!==null&&!be?(_f(e,n,f),Fi(e,n,f)):(Mt&&o&&$h(n),n.flags|=1,He(e,n,a,f),n.child)}function ey(e,n,a,o,h){if(Cs(n),n.stateNode===null){var f=ya,g=a.contextType;typeof g=="object"&&g!==null&&(f=qe(g)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Vf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},lf(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?qe(g):ya,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Of(n,a,g,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Vf.enqueueReplaceState(f,f.state,null),Jo(n,o,f,h),$o(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Vs(a,E);f.props=R;var z=f.context,H=a.contextType;g=ya,typeof H=="object"&&H!==null&&(g=qe(H));var Q=a.getDerivedStateFromProps;H=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&Bg(n,f,o,g),Sr=!1;var j=n.memoizedState;f.state=j,Jo(n,o,f,h),$o(),z=n.memoizedState,E||j!==z||Sr?(typeof Q=="function"&&(Of(n,a,Q,o),z=n.memoizedState),(R=Sr||jg(n,a,R,o,j,z,g))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,uf(e,n),g=n.memoizedProps,H=Vs(a,g),f.props=H,Q=n.pendingProps,j=f.context,z=a.contextType,R=ya,typeof z=="object"&&z!==null&&(R=qe(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Q||j!==R)&&Bg(n,f,o,R),Sr=!1,j=n.memoizedState,f.state=j,Jo(n,o,f,h),$o();var q=n.memoizedState;g!==Q||j!==q||Sr||e!==null&&e.dependencies!==null&&Uu(e.dependencies)?(typeof E=="function"&&(Of(n,a,E,o),q=n.memoizedState),(H=Sr||jg(n,a,H,o,j,q,R)||e!==null&&e.dependencies!==null&&Uu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=R,o=H):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,nc(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=xs(n,e.child,null,h),n.child=xs(n,null,a,h)):He(e,n,a,h),n.memoizedState=f.state,e=n.child):e=Fi(e,n,h),e}function ny(e,n,a,o){return ws(),n.flags|=256,He(e,n,a,o),n.child}var Uf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pf(e){return{baseLanes:e,cachePool:Gp()}}function zf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=En),e}function iy(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(me.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Mt){if(h?Rr(n):Cr(),(e=ee)?(e=h_(e,On),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:vr!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},a=Lp(e),a.return=n,n.child=a,Be=n,ee=null)):e=null,e===null)throw Tr(n);return Td(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Cr(),h=n.mode,E=ic({mode:"hidden",children:E},h),o=bs(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Pf(a),o.childLanes=zf(e,g,a),n.memoizedState=Uf,nl(null,o)):(Rr(n),jf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Rr(n),n.flags&=-257,n=Bf(e,n,a)):n.memoizedState!==null?(Cr(),n.child=e.child,n.flags|=128,n=null):(Cr(),E=o.fallback,h=n.mode,o=ic({mode:"visible",children:o.children},h),E=bs(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,xs(n,e.child,null,a),o=n.child,o.memoizedState=Pf(a),o.childLanes=zf(e,g,a),n.memoizedState=Uf,n=nl(null,o));else if(Rr(n),Td(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(s(419)),o.stack="",o.digest=g,Fo({value:o,source:null,stack:null}),n=Bf(e,n,a)}else if(be||Ta(e,n,a,!1),g=(a&e.childLanes)!==0,be||g){if(g=Zt,g!==null&&(o=So(g,a),o!==0&&o!==R.retryLane))throw R.retryLane=o,Ss(e,o),cn(g,e,o),kf;Ed(E)||fc(),n=Bf(e,n,a)}else Ed(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,ee=Mn(E.nextSibling),Be=n,Mt=!0,Er=null,On=!1,e!==null&&zp(n,e),n=jf(n,o.children),n.flags|=4096);return n}return h?(Cr(),E=o.fallback,h=n.mode,R=e.child,z=R.sibling,o=Pi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,z!==null?E=Pi(z,E):(E=bs(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,nl(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Pf(a):(h=E.cachePool,h!==null?(R=Ae._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Gp(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=zf(e,g,a),n.memoizedState=Uf,nl(e.child,o)):(Rr(n),a=e.child,e=a.sibling,a=Pi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=a,n.memoizedState=null,a)}function jf(e,n){return n=ic({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function ic(e,n){return e=gn(22,e,null,n),e.lanes=0,e}function Bf(e,n,a){return xs(n,e.child,null,a),e=jf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ry(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),ef(e.return,n,a)}function qf(e,n,a,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=a,g.tailMode=h,g.treeForkCount=f)}function sy(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=me.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,et(me,g),He(e,n,o,a),o=Mt?Ho:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ry(e,a,n);else if(e.tag===19)ry(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&Gu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),qf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Gu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}qf(n,!0,a,null,f,o);break;case"together":qf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Fi(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Dr|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Ta(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=Pi(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Pi(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Hf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Uu(e)))}function V1(e,n,a){switch(n.tag){case 3:De(n,n.stateNode.containerInfo),Ar(n,Ae,e.memoizedState.cache),ws();break;case 27:case 5:ss(n);break;case 4:De(n,n.stateNode.containerInfo);break;case 10:Ar(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,mf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Rr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?iy(e,n,a):(Rr(n),e=Fi(e,n,a),e!==null?e.sibling:null);Rr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Ta(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return sy(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(me,me.current),o)break;return null;case 22:return n.lanes=0,Jg(e,n,a,n.pendingProps);case 24:Ar(n,Ae,e.memoizedState.cache)}return Fi(e,n,a)}function ay(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)be=!0;else{if(!Hf(e,a)&&(n.flags&128)===0)return be=!1,V1(e,n,a);be=(e.flags&131072)!==0}else be=!1,Mt&&(n.flags&1048576)!==0&&Pp(n,Ho,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Ns(n.elementType),n.type=e,typeof e=="function")Qh(e)?(o=Vs(e,o),n.tag=1,n=ey(null,n,e,o,a)):(n.tag=0,n=Lf(null,n,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===bt){n.tag=11,n=Yg(null,n,e,o,a);break t}else if(h===I){n.tag=14,n=Xg(null,n,e,o,a);break t}}throw n=se(e)||e,Error(s(306,n,""))}}return n;case 0:return Lf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Vs(o,n.pendingProps),ey(e,n,o,h,a);case 3:t:{if(De(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,uf(e,n),Jo(n,o,null,a);var g=n.memoizedState;if(o=g.cache,Ar(n,Ae,o),o!==f.cache&&nf(n,[Ae],a,!0),$o(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ny(e,n,o,a);break t}else if(o!==h){h=Nn(Error(s(424)),n),Fo(h),n=ny(e,n,o,a);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ee=Mn(e.firstChild),Be=n,Mt=!0,Er=null,On=!0,a=Jp(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ws(),o===h){n=Fi(e,n,a);break t}He(e,n,o,a)}n=n.child}return n;case 26:return nc(e,n),e===null?(a=y_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Mt||(a=n.type,e=n.pendingProps,o=vc(wt.current).createElement(a),o[ve]=n,o[ke]=e,Fe(o,a,e),Ee(o),n.stateNode=o):n.memoizedState=y_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ss(n),e===null&&Mt&&(o=n.stateNode=m_(n.type,n.pendingProps,wt.current),Be=n,On=!0,h=ee,kr(n.type)?(Ad=h,ee=Mn(o.firstChild)):ee=h),He(e,n,n.pendingProps.children,a),nc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Mt&&((h=o=ee)&&(o=uA(o,n.type,n.pendingProps,On),o!==null?(n.stateNode=o,Be=n,ee=Mn(o.firstChild),On=!1,h=!0):h=!1),h||Tr(n)),ss(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,yd(h,f)?o=null:g!==null&&yd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=gf(e,n,b1,null,null,a),yl._currentValue=h),nc(e,n),He(e,n,o,a),n.child;case 6:return e===null&&Mt&&((e=a=ee)&&(a=cA(a,n.pendingProps,On),a!==null?(n.stateNode=a,Be=n,ee=null,e=!0):e=!1),e||Tr(n)),null;case 13:return iy(e,n,a);case 4:return De(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=xs(n,null,o,a):He(e,n,o,a),n.child;case 11:return Yg(e,n,n.type,n.pendingProps,a);case 7:return He(e,n,n.pendingProps,a),n.child;case 8:return He(e,n,n.pendingProps.children,a),n.child;case 12:return He(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Ar(n,n.type,o.value),He(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Cs(n),h=qe(h),o=o(h),n.flags|=1,He(e,n,o,a),n.child;case 14:return Xg(e,n,n.type,n.pendingProps,a);case 15:return $g(e,n,n.type,n.pendingProps,a);case 19:return sy(e,n,a);case 31:return O1(e,n,a);case 22:return Jg(e,n,a,n.pendingProps);case 24:return Cs(n),o=qe(Ae),e===null?(h=af(),h===null&&(h=Zt,f=rf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},lf(n),Ar(n,Ae,h)):((e.lanes&a)!==0&&(uf(e,n),Jo(n,null,null,a),$o()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ar(n,Ae,o)):(o=f.cache,Ar(n,Ae,o),o!==h.cache&&nf(n,[Ae],a,!0))),He(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Gi(e){e.flags|=4}function Ff(e,n,a,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Vy())e.flags|=8192;else throw Ds=Bu,of}else e.flags&=-16777217}function oy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!A_(n))if(Vy())e.flags|=8192;else throw Ds=Bu,of}function rc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?cu():536870912,e.lanes|=n,Va|=n)}function il(e,n){if(!Mt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ne(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function M1(e,n,a){var o=n.pendingProps;switch(Jh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Bi(Ae),ae(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ea(n)?Gi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Wh())),ne(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Gi(n),f!==null?(ne(n),oy(n,f)):(ne(n),Ff(n,h,null,o,a))):f?f!==e.memoizedState?(Gi(n),ne(n),oy(n,f)):(ne(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Gi(n),ne(n),Ff(n,h,e,o,a)),null;case 27:if(Zs(n),a=wt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Gi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ne(n),null}e=st.current,Ea(n)?jp(n):(e=m_(h,o,a),n.stateNode=e,Gi(n))}return ne(n),null;case 5:if(Zs(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Gi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ne(n),null}if(f=st.current,Ea(n))jp(n);else{var g=vc(wt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[ve]=n,f[ke]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Fe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Gi(n)}}return ne(n),Ff(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Gi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=wt.current,Ea(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=Be,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ve]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||i_(e.nodeValue,a)),e||Tr(n,!0)}else e=vc(e).createTextNode(o),e[ve]=n,n.stateNode=e}return ne(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=Ea(n),a!==null){if(e===null){if(!o)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[ve]=n}else ws(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),e=!1}else a=Wh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(_n(n),n):(_n(n),null);if((n.flags&128)!==0)throw Error(s(558))}return ne(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ea(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ve]=n}else ws(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),h=!1}else h=Wh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(_n(n),n):(_n(n),null)}return _n(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),rc(n,n.updateQueue),ne(n),null);case 4:return ae(),e===null&&fd(n.stateNode.containerInfo),ne(n),null;case 10:return Bi(n.type),ne(n),null;case 19:if(Y(me),o=n.memoizedState,o===null)return ne(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)il(o,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Gu(e),f!==null){for(n.flags|=128,il(o,!1),e=f.updateQueue,n.updateQueue=e,rc(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)kp(a,e),a=a.sibling;return et(me,me.current&1|2),Mt&&zi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&tn()>uc&&(n.flags|=128,h=!0,il(o,!1),n.lanes=4194304)}else{if(!h)if(e=Gu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,rc(n,e),il(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Mt)return ne(n),null}else 2*tn()-o.renderingStartTime>uc&&a!==536870912&&(n.flags|=128,h=!0,il(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=tn(),e.sibling=null,a=me.current,et(me,h?a&1|2:a&1),Mt&&zi(n,o.treeForkCount),e):(ne(n),null);case 22:case 23:return _n(n),df(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),a=n.updateQueue,a!==null&&rc(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&Y(Is),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Bi(Ae),ne(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function k1(e,n){switch(Jh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Bi(Ae),ae(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Zs(n),null;case 31:if(n.memoizedState!==null){if(_n(n),n.alternate===null)throw Error(s(340));ws()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(_n(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));ws()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(me),null;case 4:return ae(),null;case 10:return Bi(n.type),null;case 22:case 23:return _n(n),df(),e!==null&&Y(Is),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Bi(Ae),null;case 25:return null;default:return null}}function ly(e,n){switch(Jh(n),n.tag){case 3:Bi(Ae),ae();break;case 26:case 27:case 5:Zs(n);break;case 4:ae();break;case 31:n.memoizedState!==null&&_n(n);break;case 13:_n(n);break;case 19:Y(me);break;case 10:Bi(n.type);break;case 22:case 23:_n(n),df(),e!==null&&Y(Is);break;case 24:Bi(Ae)}}function rl(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,g=a.inst;o=f(),g.destroy=o}a=a.next}while(a!==h)}}catch(E){Qt(n,n.return,E)}}function Ir(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var R=a,z=E;try{z()}catch(H){Qt(h,R,H)}}}o=o.next}while(o!==f)}}catch(H){Qt(n,n.return,H)}}function uy(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{Wp(n,a)}catch(o){Qt(e,e.return,o)}}}function cy(e,n,a){a.props=Vs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Qt(e,n,o)}}function sl(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Qt(e,n,h)}}function Ai(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Qt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Qt(e,n,h)}else a.current=null}function hy(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Qt(e,e.return,h)}}function Gf(e,n,a){try{var o=e.stateNode;iA(o,e.type,a,n),o[ke]=n}catch(h){Qt(e,e.return,h)}}function fy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&kr(e.type)||e.tag===4}function Kf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||fy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&kr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qf(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=qn));else if(o!==4&&(o===27&&kr(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Qf(e,n,a),e=e.sibling;e!==null;)Qf(e,n,a),e=e.sibling}function sc(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&kr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(sc(e,n,a),e=e.sibling;e!==null;)sc(e,n,a),e=e.sibling}function dy(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Fe(n,o,a),n[ve]=e,n[ke]=a}catch(f){Qt(e,e.return,f)}}var Ki=!1,we=!1,Yf=!1,my=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function L1(e,n){if(e=e.containerInfo,pd=Rc,e=Rp(e),jh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,E=-1,R=-1,z=0,H=0,Q=e,j=null;e:for(;;){for(var q;Q!==a||h!==0&&Q.nodeType!==3||(E=g+h),Q!==f||o!==0&&Q.nodeType!==3||(R=g+o),Q.nodeType===3&&(g+=Q.nodeValue.length),(q=Q.firstChild)!==null;)j=Q,Q=q;for(;;){if(Q===e)break e;if(j===a&&++z===h&&(E=g),j===f&&++H===o&&(R=g),(q=Q.nextSibling)!==null)break;Q=j,j=Q.parentNode}Q=q}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(gd={focusedElem:e,selectionRange:a},Rc=!1,Ue=n;Ue!==null;)if(n=Ue,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ue=e;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ot=Vs(a.type,h);e=o.getSnapshotBeforeUpdate(ot,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ft){Qt(a,a.return,ft)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)vd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":vd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Ue=e;break}Ue=n.return}}function py(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Yi(e,a),o&4&&rl(5,a);break;case 1:if(Yi(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(g){Qt(a,a.return,g)}else{var h=Vs(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Qt(a,a.return,g)}}o&64&&uy(a),o&512&&sl(a,a.return);break;case 3:if(Yi(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Wp(e,n)}catch(g){Qt(a,a.return,g)}}break;case 27:n===null&&o&4&&dy(a);case 26:case 5:Yi(e,a),n===null&&o&4&&hy(a),o&512&&sl(a,a.return);break;case 12:Yi(e,a);break;case 31:Yi(e,a),o&4&&_y(e,a);break;case 13:Yi(e,a),o&4&&vy(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=G1.bind(null,a),hA(e,a))));break;case 22:if(o=a.memoizedState!==null||Ki,!o){n=n!==null&&n.memoizedState!==null||we,h=Ki;var f=we;Ki=o,(we=n)&&!f?Xi(e,a,(a.subtreeFlags&8772)!==0):Yi(e,a),Ki=h,we=f}break;case 30:break;default:Yi(e,a)}}function gy(e){var n=e.alternate;n!==null&&(e.alternate=null,gy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ia(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var le=null,an=!1;function Qi(e,n,a){for(a=a.child;a!==null;)yy(e,n,a),a=a.sibling}function yy(e,n,a){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Pn,a)}catch{}switch(a.tag){case 26:we||Ai(a,n),Qi(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:we||Ai(a,n);var o=le,h=an;kr(a.type)&&(le=a.stateNode,an=!1),Qi(e,n,a),ml(a.stateNode),le=o,an=h;break;case 5:we||Ai(a,n);case 6:if(o=le,h=an,le=null,Qi(e,n,a),le=o,an=h,le!==null)if(an)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(a.stateNode)}catch(f){Qt(a,n,f)}else try{le.removeChild(a.stateNode)}catch(f){Qt(a,n,f)}break;case 18:le!==null&&(an?(e=le,u_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ba(e)):u_(le,a.stateNode));break;case 4:o=le,h=an,le=a.stateNode.containerInfo,an=!0,Qi(e,n,a),le=o,an=h;break;case 0:case 11:case 14:case 15:Ir(2,a,n),we||Ir(4,a,n),Qi(e,n,a);break;case 1:we||(Ai(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&cy(a,n,o)),Qi(e,n,a);break;case 21:Qi(e,n,a);break;case 22:we=(o=we)||a.memoizedState!==null,Qi(e,n,a),we=o;break;default:Qi(e,n,a)}}function _y(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ba(e)}catch(a){Qt(n,n.return,a)}}}function vy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ba(e)}catch(a){Qt(n,n.return,a)}}function U1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new my),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new my),n;default:throw Error(s(435,e.tag))}}function ac(e,n){var a=U1(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=K1.bind(null,e,o);o.then(h,h)}})}function on(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(kr(E.type)){le=E.stateNode,an=!1;break t}break;case 5:le=E.stateNode,an=!1;break t;case 3:case 4:le=E.stateNode.containerInfo,an=!0;break t}E=E.return}if(le===null)throw Error(s(160));yy(f,g,h),le=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ey(n,e),n=n.sibling}var Yn=null;function Ey(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(n,e),ln(e),o&4&&(Ir(3,e,e.return),rl(3,e),Ir(5,e,e.return));break;case 1:on(n,e),ln(e),o&512&&(we||a===null||Ai(a,a.return)),o&64&&Ki&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Yn;if(on(n,e),ln(e),o&512&&(we||a===null||Ai(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[li]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Fe(f,o,a),f[ve]=e,Ee(f),o=f;break t;case"link":var g=E_("link","href",h).get(o+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),Fe(f,o,a),h.head.appendChild(f);break;case"meta":if(g=E_("meta","content",h).get(o+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}f=h.createElement(o),Fe(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[ve]=e,Ee(f),o=f}e.stateNode=o}else T_(h,e.type,e.stateNode);else e.stateNode=v_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?T_(h,e.type,e.stateNode):v_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Gf(e,e.memoizedProps,a.memoizedProps)}break;case 27:on(n,e),ln(e),o&512&&(we||a===null||Ai(a,a.return)),a!==null&&o&4&&Gf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(on(n,e),ln(e),o&512&&(we||a===null||Ai(a,a.return)),e.flags&32){h=e.stateNode;try{sn(h,"")}catch(ot){Qt(e,e.return,ot)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Gf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Yf=!0);break;case 6:if(on(n,e),ln(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(ot){Qt(e,e.return,ot)}}break;case 3:if(Ac=null,h=Yn,Yn=Ec(n.containerInfo),on(n,e),Yn=h,ln(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Ba(n.containerInfo)}catch(ot){Qt(e,e.return,ot)}Yf&&(Yf=!1,Ty(e));break;case 4:o=Yn,Yn=Ec(e.stateNode.containerInfo),on(n,e),ln(e),Yn=o;break;case 12:on(n,e),ln(e);break;case 31:on(n,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ac(e,o)));break;case 13:on(n,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(lc=tn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ac(e,o)));break;case 22:h=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,z=Ki,H=we;if(Ki=z||h,we=H||R,on(n,e),we=H,Ki=z,ln(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||R||Ki||we||Ms(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var Q=R.memoizedProps.style,j=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ot){Qt(R,R.return,ot)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(ot){Qt(R,R.return,ot)}}}else if(n.tag===18){if(a===null){R=n;try{var q=R.stateNode;h?c_(q,!0):c_(R.stateNode,!1)}catch(ot){Qt(R,R.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,ac(e,a))));break;case 19:on(n,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ac(e,o)));break;case 30:break;case 21:break;default:on(n,e),ln(e)}}function ln(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(fy(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=Kf(e);sc(e,f,h);break;case 5:var g=a.stateNode;a.flags&32&&(sn(g,""),a.flags&=-33);var E=Kf(e);sc(e,E,g);break;case 3:case 4:var R=a.stateNode.containerInfo,z=Kf(e);Qf(e,z,R);break;default:throw Error(s(161))}}catch(H){Qt(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ty(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ty(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Yi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)py(e,n.alternate,n),n=n.sibling}function Ms(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ir(4,n,n.return),Ms(n);break;case 1:Ai(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&cy(n,n.return,a),Ms(n);break;case 27:ml(n.stateNode);case 26:case 5:Ai(n,n.return),Ms(n);break;case 22:n.memoizedState===null&&Ms(n);break;case 30:Ms(n);break;default:Ms(n)}e=e.sibling}}function Xi(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Xi(h,f,a),rl(4,f);break;case 1:if(Xi(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Qt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Zp(R[h],E)}catch(z){Qt(o,o.return,z)}}a&&g&64&&uy(f),sl(f,f.return);break;case 27:dy(f);case 26:case 5:Xi(h,f,a),a&&o===null&&g&4&&hy(f),sl(f,f.return);break;case 12:Xi(h,f,a);break;case 31:Xi(h,f,a),a&&g&4&&_y(h,f);break;case 13:Xi(h,f,a),a&&g&4&&vy(h,f);break;case 22:f.memoizedState===null&&Xi(h,f,a),sl(f,f.return);break;case 30:break;default:Xi(h,f,a)}n=n.sibling}}function Xf(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Go(a))}function $f(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Go(e))}function Xn(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ay(e,n,a,o),n=n.sibling}function Ay(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Xn(e,n,a,o),h&2048&&rl(9,n);break;case 1:Xn(e,n,a,o);break;case 3:Xn(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Go(e)));break;case 12:if(h&2048){Xn(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Qt(n,n.return,R)}}else Xn(e,n,a,o);break;case 31:Xn(e,n,a,o);break;case 13:Xn(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Xn(e,n,a,o):al(e,n):f._visibility&2?Xn(e,n,a,o):(f._visibility|=2,Da(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Xf(g,n);break;case 24:Xn(e,n,a,o),h&2048&&$f(n.alternate,n);break;default:Xn(e,n,a,o)}}function Da(e,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=a,R=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:Da(f,g,E,R,h),rl(8,g);break;case 23:break;case 22:var H=g.stateNode;g.memoizedState!==null?H._visibility&2?Da(f,g,E,R,h):al(f,g):(H._visibility|=2,Da(f,g,E,R,h)),h&&z&2048&&Xf(g.alternate,g);break;case 24:Da(f,g,E,R,h),h&&z&2048&&$f(g.alternate,g);break;default:Da(f,g,E,R,h)}n=n.sibling}}function al(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:al(a,o),h&2048&&Xf(o.alternate,o);break;case 24:al(a,o),h&2048&&$f(o.alternate,o);break;default:al(a,o)}n=n.sibling}}var ol=8192;function xa(e,n,a){if(e.subtreeFlags&ol)for(e=e.child;e!==null;)Sy(e,n,a),e=e.sibling}function Sy(e,n,a){switch(e.tag){case 26:xa(e,n,a),e.flags&ol&&e.memoizedState!==null&&SA(a,Yn,e.memoizedState,e.memoizedProps);break;case 5:xa(e,n,a);break;case 3:case 4:var o=Yn;Yn=Ec(e.stateNode.containerInfo),xa(e,n,a),Yn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=ol,ol=16777216,xa(e,n,a),ol=o):xa(e,n,a));break;default:xa(e,n,a)}}function by(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ll(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ue=o,Ry(o,e)}by(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)wy(e),e=e.sibling}function wy(e){switch(e.tag){case 0:case 11:case 15:ll(e),e.flags&2048&&Ir(9,e,e.return);break;case 3:ll(e);break;case 12:ll(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,oc(e)):ll(e);break;default:ll(e)}}function oc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ue=o,Ry(o,e)}by(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ir(8,n,n.return),oc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,oc(n));break;default:oc(n)}e=e.sibling}}function Ry(e,n){for(;Ue!==null;){var a=Ue;switch(a.tag){case 0:case 11:case 15:Ir(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Go(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ue=o;else t:for(a=e;Ue!==null;){o=Ue;var h=o.sibling,f=o.return;if(gy(o),o===a){Ue=null;break t}if(h!==null){h.return=f,Ue=h;break t}Ue=f}}}var P1={getCacheForType:function(e){var n=qe(Ae),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return qe(Ae).controller.signal}},z1=typeof WeakMap=="function"?WeakMap:Map,qt=0,Zt=null,Ct=null,Nt=0,Kt=0,vn=null,Nr=!1,Oa=!1,Jf=!1,$i=0,he=0,Dr=0,ks=0,Zf=0,En=0,Va=0,ul=null,un=null,Wf=!1,lc=0,Cy=0,uc=1/0,cc=null,xr=null,Oe=0,Or=null,Ma=null,Ji=0,td=0,ed=null,Iy=null,cl=0,nd=null;function Tn(){return(qt&2)!==0&&Nt!==0?Nt&-Nt:F.T!==null?ld():hu()}function Ny(){if(En===0)if((Nt&536870912)===0||Mt){var e=ls;ls<<=1,(ls&3932160)===0&&(ls=262144),En=e}else En=536870912;return e=yn.current,e!==null&&(e.flags|=32),En}function cn(e,n,a){(e===Zt&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(ka(e,0),Vr(e,Nt,En,!1)),us(e,a),((qt&2)===0||e!==Zt)&&(e===Zt&&((qt&2)===0&&(ks|=a),he===4&&Vr(e,Nt,En,!1)),Si(e))}function Dy(e,n,a){if((qt&6)!==0)throw Error(s(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||zn(e,n),h=o?q1(e,n):rd(e,n,!0),f=o;do{if(h===0){Oa&&!o&&Vr(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!j1(a)){h=rd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=ul;var R=E.current.memoizedState.isDehydrated;if(R&&(ka(E,g).flags|=256),g=rd(E,g,!1),g!==2){if(Jf&&!R){E.errorRecoveryDisabledLanes|=f,ks|=f,h=4;break t}f=un,un=h,f!==null&&(un===null?un=f:un.push.apply(un,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){ka(e,0),Vr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Vr(o,n,En,!Nr);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=lc+300-tn(),10<h)){if(Vr(o,n,En,!Nr),si(o,0,!0)!==0)break t;Ji=n,o.timeoutHandle=o_(xy.bind(null,o,a,un,cc,Wf,n,En,ks,Va,Nr,f,"Throttled",-0,0),h);break t}xy(o,a,un,cc,Wf,n,En,ks,Va,Nr,f,null,-0,0)}}break}while(!0);Si(e)}function xy(e,n,a,o,h,f,g,E,R,z,H,Q,j,q){if(e.timeoutHandle=-1,Q=n.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},Sy(n,f,Q);var ot=(f&62914560)===f?lc-tn():(f&4194048)===f?Cy-tn():0;if(ot=bA(Q,ot),ot!==null){Ji=f,e.cancelPendingCommit=ot(zy.bind(null,e,n,f,a,o,h,g,E,R,H,Q,null,j,q)),Vr(e,f,g,!z);return}}zy(e,n,f,a,o,h,g,E,R)}function j1(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!pn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Vr(e,n,a,o){n&=~Zf,n&=~ks,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-fe(h),g=1<<f;o[f]=-1,h&=~g}a!==0&&cs(e,a,n)}function hc(){return(qt&6)===0?(hl(0),!1):!0}function id(){if(Ct!==null){if(Kt===0)var e=Ct.return;else e=Ct,ji=Rs=null,vf(e),wa=null,Qo=0,e=Ct;for(;e!==null;)ly(e.alternate,e),e=e.return;Ct=null}}function ka(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,aA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ji=0,id(),Zt=e,Ct=a=Pi(e.current,null),Nt=n,Kt=0,vn=null,Nr=!1,Oa=zn(e,n),Jf=!1,Va=En=Zf=ks=Dr=he=0,un=ul=null,Wf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-fe(o),f=1<<h;n|=e[h],o&=~f}return $i=n,Ou(),a}function Oy(e,n){St=null,F.H=el,n===ba||n===ju?(n=Yp(),Kt=3):n===of?(n=Yp(),Kt=4):Kt=n===kf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,vn=n,Ct===null&&(he=1,tc(e,Nn(n,e.current)))}function Vy(){var e=yn.current;return e===null?!0:(Nt&4194048)===Nt?Vn===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?e===Vn:!1}function My(){var e=F.H;return F.H=el,e===null?el:e}function ky(){var e=F.A;return F.A=P1,e}function fc(){he=4,Nr||(Nt&4194048)!==Nt&&yn.current!==null||(Oa=!0),(Dr&134217727)===0&&(ks&134217727)===0||Zt===null||Vr(Zt,Nt,En,!1)}function rd(e,n,a){var o=qt;qt|=2;var h=My(),f=ky();(Zt!==e||Nt!==n)&&(cc=null,ka(e,n)),n=!1;var g=he;t:do try{if(Kt!==0&&Ct!==null){var E=Ct,R=vn;switch(Kt){case 8:id(),g=6;break t;case 3:case 2:case 9:case 6:yn.current===null&&(n=!0);var z=Kt;if(Kt=0,vn=null,La(e,E,R,z),a&&Oa){g=0;break t}break;default:z=Kt,Kt=0,vn=null,La(e,E,R,z)}}B1(),g=he;break}catch(H){Oy(e,H)}while(!0);return n&&e.shellSuspendCounter++,ji=Rs=null,qt=o,F.H=h,F.A=f,Ct===null&&(Zt=null,Nt=0,Ou()),g}function B1(){for(;Ct!==null;)Ly(Ct)}function q1(e,n){var a=qt;qt|=2;var o=My(),h=ky();Zt!==e||Nt!==n?(cc=null,uc=tn()+500,ka(e,n)):Oa=zn(e,n);t:do try{if(Kt!==0&&Ct!==null){n=Ct;var f=vn;e:switch(Kt){case 1:Kt=0,vn=null,La(e,n,f,1);break;case 2:case 9:if(Kp(f)){Kt=0,vn=null,Uy(n);break}n=function(){Kt!==2&&Kt!==9||Zt!==e||(Kt=7),Si(e)},f.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:Kp(f)?(Kt=0,vn=null,Uy(n)):(Kt=0,vn=null,La(e,n,f,7));break;case 5:var g=null;switch(Ct.tag){case 26:g=Ct.memoizedState;case 5:case 27:var E=Ct;if(g?A_(g):E.stateNode.complete){Kt=0,vn=null;var R=E.sibling;if(R!==null)Ct=R;else{var z=E.return;z!==null?(Ct=z,dc(z)):Ct=null}break e}}Kt=0,vn=null,La(e,n,f,5);break;case 6:Kt=0,vn=null,La(e,n,f,6);break;case 8:id(),he=6;break t;default:throw Error(s(462))}}H1();break}catch(H){Oy(e,H)}while(!0);return ji=Rs=null,F.H=o,F.A=h,qt=a,Ct!==null?0:(Zt=null,Nt=0,Ou(),he)}function H1(){for(;Ct!==null&&!Vh();)Ly(Ct)}function Ly(e){var n=ay(e.alternate,e,$i);e.memoizedProps=e.pendingProps,n===null?dc(e):Ct=n}function Uy(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=ty(a,n,n.pendingProps,n.type,void 0,Nt);break;case 11:n=ty(a,n,n.pendingProps,n.type.render,n.ref,Nt);break;case 5:vf(n);default:ly(a,n),n=Ct=kp(n,$i),n=ay(a,n,$i)}e.memoizedProps=e.pendingProps,n===null?dc(e):Ct=n}function La(e,n,a,o){ji=Rs=null,vf(n),wa=null,Qo=0;var h=n.return;try{if(x1(e,h,n,a,Nt)){he=1,tc(e,Nn(a,e.current)),Ct=null;return}}catch(f){if(h!==null)throw Ct=h,f;he=1,tc(e,Nn(a,e.current)),Ct=null;return}n.flags&32768?(Mt||o===1?e=!0:Oa||(Nt&536870912)!==0?e=!1:(Nr=e=!0,(o===2||o===9||o===3||o===6)&&(o=yn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Py(n,e)):dc(n)}function dc(e){var n=e;do{if((n.flags&32768)!==0){Py(n,Nr);return}e=n.return;var a=M1(n.alternate,n,$i);if(a!==null){Ct=a;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=e}while(n!==null);he===0&&(he=5)}function Py(e,n){do{var a=k1(e.alternate,e);if(a!==null){a.flags&=32767,Ct=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Ct=e;return}Ct=e=a}while(e!==null);he=6,Ct=null}function zy(e,n,a,o,h,f,g,E,R){e.cancelPendingCommit=null;do mc();while(Oe!==0);if((qt&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Gh,Lh(e,a,f,g,E,R),e===Zt&&(Ct=Zt=null,Nt=0),Ma=n,Or=e,Ji=a,td=f,ed=h,Iy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Q1(ur,function(){return Fy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=tt.p,tt.p=2,g=qt,qt|=4;try{L1(e,n,a)}finally{qt=g,tt.p=h,F.T=o}}Oe=1,jy(),By(),qy()}}function jy(){if(Oe===1){Oe=0;var e=Or,n=Ma,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var o=tt.p;tt.p=2;var h=qt;qt|=4;try{Ey(n,e);var f=gd,g=Rp(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&wp(E.ownerDocument.documentElement,E)){if(R!==null&&jh(E)){var z=R.start,H=R.end;if(H===void 0&&(H=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(H,E.value.length);else{var Q=E.ownerDocument||document,j=Q&&Q.defaultView||window;if(j.getSelection){var q=j.getSelection(),ot=E.textContent.length,ft=Math.min(R.start,ot),Jt=R.end===void 0?ft:Math.min(R.end,ot);!q.extend&&ft>Jt&&(g=Jt,Jt=ft,ft=g);var k=bp(E,ft),D=bp(E,Jt);if(k&&D&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var P=Q.createRange();P.setStart(k.node,k.offset),q.removeAllRanges(),ft>Jt?(q.addRange(P),q.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),q.addRange(P))}}}}for(Q=[],q=E;q=q.parentNode;)q.nodeType===1&&Q.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var K=Q[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Rc=!!pd,gd=pd=null}finally{qt=h,tt.p=o,F.T=a}}e.current=n,Oe=2}}function By(){if(Oe===2){Oe=0;var e=Or,n=Ma,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var o=tt.p;tt.p=2;var h=qt;qt|=4;try{py(e,n.alternate,n)}finally{qt=h,tt.p=o,F.T=a}}Oe=3}}function qy(){if(Oe===4||Oe===3){Oe=0,ru();var e=Or,n=Ma,a=Ji,o=Iy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Oe=5:(Oe=0,Ma=Or=null,Hy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(xr=null),Mi(a),n=n.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Pn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=tt.p,tt.p=2,F.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{F.T=n,tt.p=h}}(Ji&3)!==0&&mc(),Si(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===nd?cl++:(cl=0,nd=e):cl=0,hl(0)}}function Hy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Go(n)))}function mc(){return jy(),By(),qy(),Fy()}function Fy(){if(Oe!==5)return!1;var e=Or,n=td;td=0;var a=Mi(Ji),o=F.T,h=tt.p;try{tt.p=32>a?32:a,F.T=null,a=ed,ed=null;var f=Or,g=Ji;if(Oe=0,Ma=Or=null,Ji=0,(qt&6)!==0)throw Error(s(331));var E=qt;if(qt|=4,wy(f.current),Ay(f,f.current,g,a),qt=E,hl(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Pn,f)}catch{}return!0}finally{tt.p=h,F.T=o,Hy(e,n)}}function Gy(e,n,a){n=Nn(a,n),n=Mf(e.stateNode,n,2),e=wr(e,n,2),e!==null&&(us(e,2),Si(e))}function Qt(e,n,a){if(e.tag===3)Gy(e,e,a);else for(;n!==null;){if(n.tag===3){Gy(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(xr===null||!xr.has(o))){e=Nn(a,e),a=Kg(2),o=wr(n,a,2),o!==null&&(Qg(a,o,n,e),us(o,2),Si(o));break}}n=n.return}}function sd(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new z1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(Jf=!0,h.add(a),e=F1.bind(null,e,n,a),n.then(e,e))}function F1(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Zt===e&&(Nt&a)===a&&(he===4||he===3&&(Nt&62914560)===Nt&&300>tn()-lc?(qt&2)===0&&ka(e,0):Zf|=a,Va===Nt&&(Va=0)),Si(e)}function Ky(e,n){n===0&&(n=cu()),e=Ss(e,n),e!==null&&(us(e,n),Si(e))}function G1(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),Ky(e,a)}function K1(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),Ky(e,a)}function Q1(e,n){return xe(e,n)}var pc=null,Ua=null,ad=!1,gc=!1,od=!1,Mr=0;function Si(e){e!==Ua&&e.next===null&&(Ua===null?pc=Ua=e:Ua=Ua.next=e),gc=!0,ad||(ad=!0,X1())}function hl(e,n){if(!od&&gc){od=!0;do for(var a=!1,o=pc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-fe(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,$y(o,f))}else f=Nt,f=si(o,o===Zt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||zn(o,f)||(a=!0,$y(o,f));o=o.next}while(a);od=!1}}function Y1(){Qy()}function Qy(){gc=ad=!1;var e=0;Mr!==0&&sA()&&(e=Mr);for(var n=tn(),a=null,o=pc;o!==null;){var h=o.next,f=Yy(o,n);f===0?(o.next=null,a===null?pc=h:a.next=h,h===null&&(Ua=a)):(a=o,(e!==0||(f&3)!==0)&&(gc=!0)),o=h}Oe!==0&&Oe!==5||hl(e),Mr!==0&&(Mr=0)}function Yy(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-fe(f),E=1<<g,R=h[g];R===-1?((E&a)===0||(E&o)!==0)&&(h[g]=kh(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=Zt,a=Nt,a=si(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&lr(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||zn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&lr(o),Mi(a)){case 2:case 8:a=To;break;case 32:a=ur;break;case 268435456:a=su;break;default:a=ur}return o=Xy.bind(null,e),a=xe(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&lr(o),e.callbackPriority=2,e.callbackNode=null,2}function Xy(e,n){if(Oe!==0&&Oe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(mc()&&e.callbackNode!==a)return null;var o=Nt;return o=si(e,e===Zt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Dy(e,o,n),Yy(e,tn()),e.callbackNode!=null&&e.callbackNode===a?Xy.bind(null,e):null)}function $y(e,n){if(mc())return null;Dy(e,n,!0)}function X1(){oA(function(){(qt&6)!==0?xe(Eo,Y1):Qy()})}function ld(){if(Mr===0){var e=Aa;e===0&&(e=ii,ii<<=1,(ii&261888)===0&&(ii=256)),Mr=e}return Mr}function Jy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:oa(""+e)}function Zy(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function $1(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=Jy((h[ke]||null).action),g=o.submitter;g&&(n=(n=g[ke]||null)?Jy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new gi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Mr!==0){var R=g?Zy(h,g):new FormData(h);If(a,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?Zy(h,g):new FormData(h),If(a,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var ud=0;ud<Fh.length;ud++){var cd=Fh[ud],J1=cd.toLowerCase(),Z1=cd[0].toUpperCase()+cd.slice(1);Qn(J1,"on"+Z1)}Qn(Np,"onAnimationEnd"),Qn(Dp,"onAnimationIteration"),Qn(xp,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(m1,"onTransitionRun"),Qn(p1,"onTransitionStart"),Qn(g1,"onTransitionCancel"),Qn(Op,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fl));function Wy(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(H){xu(H)}h.currentTarget=null,f=R}else for(g=0;g<o.length;g++){if(E=o[g],R=E.instance,z=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(H){xu(H)}h.currentTarget=null,f=R}}}}function It(e,n){var a=n[na];a===void 0&&(a=n[na]=new Set);var o=e+"__bubble";a.has(o)||(t_(n,e,2,!1),a.add(o))}function hd(e,n,a){var o=0;n&&(o|=4),t_(a,e,o,n)}var yc="_reactListening"+Math.random().toString(36).slice(2);function fd(e){if(!e[yc]){e[yc]=!0,bo.forEach(function(a){a!=="selectionchange"&&(W1.has(a)||hd(a,!1,e),hd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[yc]||(n[yc]=!0,hd("selectionchange",!1,n))}}function t_(e,n,a,o){switch(N_(n)){case 2:var h=CA;break;case 8:h=IA;break;default:h=Cd}a=h.bind(null,n,a,e),h=void 0,!ps||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function dd(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=ui(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){o=f=g;continue t}E=E.parentNode}}o=o.return}pr(function(){var z=f,H=wn(a),Q=[];t:{var j=Vp.get(e);if(j!==void 0){var q=gi,ot=e;switch(e){case"keypress":if(ys(a)===0)break t;case"keydown":case"keyup":q=Iu;break;case"focusin":ot="focus",q=vs;break;case"focusout":ot="blur",q=vs;break;case"beforeblur":case"afterblur":q=vs;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Uo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=vu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Np:case Dp:case xp:q=Tu;break;case Op:q=T;break;case"scroll":case"scrollend":q=Lo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=Au;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Ui;break;case"toggle":case"beforetoggle":q=At}var ft=(n&4)!==0,Jt=!ft&&(e==="scroll"||e==="scrollend"),k=ft?j!==null?j+"Capture":null:j;ft=[];for(var D=z,P;D!==null;){var K=D;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||k===null||(K=Hn(D,k),K!=null&&ft.push(dl(D,K,P))),Jt)break;D=D.return}0<ft.length&&(j=new q(j,ot,null,a,H),Q.push({event:j,listeners:ft}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&a!==Vo&&(ot=a.relatedTarget||a.fromElement)&&(ui(ot)||ot[oi]))break t;if((q||j)&&(j=H.window===H?H:(j=H.ownerDocument)?j.defaultView||j.parentWindow:window,q?(ot=a.relatedTarget||a.toElement,q=z,ot=ot?ui(ot):null,ot!==null&&(Jt=c(ot),ft=ot.tag,ot!==Jt||ft!==5&&ft!==27&&ft!==6)&&(ot=null)):(q=null,ot=z),q!==ot)){if(ft=Uo,K="onMouseLeave",k="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(ft=Ui,K="onPointerLeave",k="onPointerEnter",D="pointer"),Jt=q==null?j:dn(q),P=ot==null?j:dn(ot),j=new ft(K,D+"leave",q,a,H),j.target=Jt,j.relatedTarget=P,K=null,ui(H)===z&&(ft=new ft(k,D+"enter",ot,a,H),ft.target=P,ft.relatedTarget=Jt,K=ft),Jt=K,q&&ot)e:{for(ft=tA,k=q,D=ot,P=0,K=k;K;K=ft(K))P++;K=0;for(var ut=D;ut;ut=ft(ut))K++;for(;0<P-K;)k=ft(k),P--;for(;0<K-P;)D=ft(D),K--;for(;P--;){if(k===D||D!==null&&k===D.alternate){ft=k;break e}k=ft(k),D=ft(D)}ft=null}else ft=null;q!==null&&e_(Q,j,q,ft,!1),ot!==null&&Jt!==null&&e_(Q,Jt,ot,ft,!0)}}t:{if(j=z?dn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var zt=_p;else if(gp(j))if(vp)zt=h1;else{zt=u1;var lt=l1}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&aa(z.elementType)&&(zt=_p):zt=c1;if(zt&&(zt=zt(e,z))){yp(Q,zt,a,H);break t}lt&&lt(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Do(j,"number",j.value)}switch(lt=z?dn(z):window,e){case"focusin":(gp(lt)||lt.contentEditable==="true")&&(ma=lt,Bh=z,qo=null);break;case"focusout":qo=Bh=ma=null;break;case"mousedown":qh=!0;break;case"contextmenu":case"mouseup":case"dragend":qh=!1,Cp(Q,a,H);break;case"selectionchange":if(d1)break;case"keydown":case"keyup":Cp(Q,a,H)}var Rt;if(Bt)t:{switch(e){case"compositionstart":var Dt="onCompositionStart";break t;case"compositionend":Dt="onCompositionEnd";break t;case"compositionupdate":Dt="onCompositionUpdate";break t}Dt=void 0}else da?Es(e,a)&&(Dt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Dt="onCompositionStart");Dt&&(vi&&a.locale!=="ko"&&(da||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&da&&(Rt=ko()):(pi=H,Mo="value"in pi?pi.value:pi.textContent,da=!0)),lt=_c(z,Dt),0<lt.length&&(Dt=new _i(Dt,e,null,a,H),Q.push({event:Dt,listeners:lt}),Rt?Dt.data=Rt:(Rt=fa(a),Rt!==null&&(Dt.data=Rt)))),(Rt=Cn?r1(e,a):s1(e,a))&&(Dt=_c(z,"onBeforeInput"),0<Dt.length&&(lt=new _i("onBeforeInput","beforeinput",null,a,H),Q.push({event:lt,listeners:Dt}),lt.data=Rt)),$1(Q,e,z,a,H)}Wy(Q,n)})}function dl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function _c(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Hn(e,a),h!=null&&o.unshift(dl(e,h,f)),h=Hn(e,n),h!=null&&o.push(dl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function tA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function e_(e,n,a,o,h){for(var f=n._reactName,g=[];a!==null&&a!==o;){var E=a,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||z===null||(R=z,h?(z=Hn(a,f),z!=null&&g.unshift(dl(a,z,R))):h||(z=Hn(a,f),z!=null&&g.push(dl(a,z,R)))),a=a.return}g.length!==0&&e.push({event:n,listeners:g})}var eA=/\r\n?/g,nA=/\u0000|\uFFFD/g;function n_(e){return(typeof e=="string"?e:""+e).replace(eA,`
`).replace(nA,"")}function i_(e,n){return n=n_(n),n_(e)===n}function $t(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||sn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&sn(e,""+o);break;case"className":mn(e,"class",o);break;case"tabIndex":mn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(e,a,o);break;case"style":Oo(e,o,f);break;case"data":if(n!=="object"){mn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=oa(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&$t(e,n,"name",h.name,h,null),$t(e,n,"formEncType",h.formEncType,h,null),$t(e,n,"formMethod",h.formMethod,h,null),$t(e,n,"formTarget",h.formTarget,h,null)):($t(e,n,"encType",h.encType,h,null),$t(e,n,"method",h.method,h,null),$t(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=oa(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=qn);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=oa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":It("beforetoggle",e),It("toggle",e),ra(e,"popover",o);break;case"xlinkActuate":Te(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Te(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Te(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Te(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Te(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Te(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Te(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Te(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Te(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ra(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=_u.get(a)||a,ra(e,a,o))}}function md(e,n,a,o,h,f){switch(a){case"style":Oo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?sn(e,o):(typeof o=="number"||typeof o=="bigint")&&sn(e,""+o);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"onClick":o!=null&&(e.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[ke]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):ra(e,a,o)}}}function Fe(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",e),It("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:$t(e,n,f,g,a,null)}}h&&$t(e,n,"srcSet",a.srcSet,a,null),o&&$t(e,n,"src",a.src,a,null);return;case"input":It("invalid",e);var E=f=g=h=null,R=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var H=a[o];if(H!=null)switch(o){case"name":h=H;break;case"type":g=H;break;case"checked":R=H;break;case"defaultChecked":z=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:$t(e,n,o,H,a,null)}}pu(e,f,E,R,z,g,h,!1);return;case"select":It("invalid",e),o=g=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:$t(e,n,h,E,a,null)}n=f,a=g,e.multiple=!!o,n!=null?hr(e,!!o,n,!1):a!=null&&hr(e,!!o,a,!0);return;case"textarea":It("invalid",e),f=h=o=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:$t(e,n,g,E,a,null)}fr(e,o,h,f);return;case"option":for(R in a)a.hasOwnProperty(R)&&(o=a[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":$t(e,n,R,o,a,null));return;case"dialog":It("beforetoggle",e),It("toggle",e),It("cancel",e),It("close",e);break;case"iframe":case"object":It("load",e);break;case"video":case"audio":for(o=0;o<fl.length;o++)It(fl[o],e);break;case"image":It("error",e),It("load",e);break;case"details":It("toggle",e);break;case"embed":case"source":case"link":It("error",e),It("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:$t(e,n,z,o,a,null)}return;default:if(aa(n)){for(H in a)a.hasOwnProperty(H)&&(o=a[H],o!==void 0&&md(e,n,H,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&$t(e,n,E,o,a,null))}function iA(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,R=null,z=null,H=null;for(q in a){var Q=a[q];if(a.hasOwnProperty(q)&&Q!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=Q;default:o.hasOwnProperty(q)||$t(e,n,q,null,o,Q)}}for(var j in o){var q=o[j];if(Q=a[j],o.hasOwnProperty(j)&&(q!=null||Q!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":H=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:q!==Q&&$t(e,n,j,q,o,Q)}}sa(e,g,E,R,z,H,f,h);return;case"select":q=g=E=j=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||$t(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=a[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&$t(e,n,h,f,o,R)}n=E,a=g,o=q,j!=null?hr(e,!!a,j,!1):!!o!=!!a&&(n!=null?hr(e,!!a,n,!0):hr(e,!!a,a?[]:"",!1));return;case"textarea":q=j=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:$t(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=a[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&$t(e,n,g,h,o,f)}gu(e,j,q);return;case"option":for(var ot in a)j=a[ot],a.hasOwnProperty(ot)&&j!=null&&!o.hasOwnProperty(ot)&&(ot==="selected"?e.selected=!1:$t(e,n,ot,null,o,j));for(R in o)j=o[R],q=a[R],o.hasOwnProperty(R)&&j!==q&&(j!=null||q!=null)&&(R==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":$t(e,n,R,j,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in a)j=a[ft],a.hasOwnProperty(ft)&&j!=null&&!o.hasOwnProperty(ft)&&$t(e,n,ft,null,o,j);for(z in o)if(j=o[z],q=a[z],o.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:$t(e,n,z,j,o,q)}return;default:if(aa(n)){for(var Jt in a)j=a[Jt],a.hasOwnProperty(Jt)&&j!==void 0&&!o.hasOwnProperty(Jt)&&md(e,n,Jt,void 0,o,j);for(H in o)j=o[H],q=a[H],!o.hasOwnProperty(H)||j===q||j===void 0&&q===void 0||md(e,n,H,j,o,q);return}}for(var k in a)j=a[k],a.hasOwnProperty(k)&&j!=null&&!o.hasOwnProperty(k)&&$t(e,n,k,null,o,j);for(Q in o)j=o[Q],q=a[Q],!o.hasOwnProperty(Q)||j===q||j==null&&q==null||$t(e,n,Q,j,o,q)}function r_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function rA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&r_(g)){for(g=0,E=h.responseEnd,o+=1;o<a.length;o++){var R=a[o],z=R.startTime;if(z>E)break;var H=R.transferSize,Q=R.initiatorType;H&&r_(Q)&&(R=R.responseEnd,g+=H*(R<E?1:(E-z)/(R-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var pd=null,gd=null;function vc(e){return e.nodeType===9?e:e.ownerDocument}function s_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function a_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function yd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var _d=null;function sA(){var e=window.event;return e&&e.type==="popstate"?e===_d?!1:(_d=e,!0):(_d=null,!1)}var o_=typeof setTimeout=="function"?setTimeout:void 0,aA=typeof clearTimeout=="function"?clearTimeout:void 0,l_=typeof Promise=="function"?Promise:void 0,oA=typeof queueMicrotask=="function"?queueMicrotask:typeof l_<"u"?function(e){return l_.resolve(null).then(e).catch(lA)}:o_;function lA(e){setTimeout(function(){throw e})}function kr(e){return e==="head"}function u_(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),Ba(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")ml(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,ml(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[li]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&ml(e.ownerDocument.body);a=h}while(a);Ba(n)}function c_(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function vd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":vd(a),ia(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function uA(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[li])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Mn(e.nextSibling),e===null)break}return null}function cA(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Mn(e.nextSibling),e===null))return null;return e}function h_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Mn(e.nextSibling),e===null))return null;return e}function Ed(e){return e.data==="$?"||e.data==="$~"}function Td(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function hA(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Mn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Ad=null;function f_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Mn(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function d_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function m_(e,n,a){switch(n=vc(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function ml(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ia(e)}var kn=new Map,p_=new Set;function Ec(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Zi=tt.d;tt.d={f:fA,r:dA,D:mA,C:pA,L:gA,m:yA,X:vA,S:_A,M:EA};function fA(){var e=Zi.f(),n=hc();return e||n}function dA(e){var n=bn(e);n!==null&&n.tag===5&&n.type==="form"?Og(n):Zi.r(e)}var Pa=typeof document>"u"?null:document;function g_(e,n,a){var o=Pa;if(o&&typeof n=="string"&&n){var h=rn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),p_.has(h)||(p_.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Fe(n,"link",e),Ee(n),o.head.appendChild(n)))}}function mA(e){Zi.D(e),g_("dns-prefetch",e,null)}function pA(e,n){Zi.C(e,n),g_("preconnect",e,n)}function gA(e,n,a){Zi.L(e,n,a);var o=Pa;if(o&&e&&n){var h='link[rel="preload"][as="'+rn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rn(a.imageSizes)+'"]')):h+='[href="'+rn(e)+'"]';var f=h;switch(n){case"style":f=za(e);break;case"script":f=ja(e)}kn.has(f)||(e=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),kn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(pl(f))||n==="script"&&o.querySelector(gl(f))||(n=o.createElement("link"),Fe(n,"link",e),Ee(n),o.head.appendChild(n)))}}function yA(e,n){Zi.m(e,n);var a=Pa;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+rn(o)+'"][href="'+rn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ja(e)}if(!kn.has(f)&&(e=S({rel:"modulepreload",href:e},n),kn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(gl(f)))return}o=a.createElement("link"),Fe(o,"link",e),Ee(o),a.head.appendChild(o)}}}function _A(e,n,a){Zi.S(e,n,a);var o=Pa;if(o&&e){var h=ci(o).hoistableStyles,f=za(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(pl(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},a),(a=kn.get(f))&&Sd(e,a);var R=g=o.createElement("link");Ee(R),Fe(R,"link",e),R._p=new Promise(function(z,H){R.onload=z,R.onerror=H}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Tc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function vA(e,n){Zi.X(e,n);var a=Pa;if(a&&e){var o=ci(a).hoistableScripts,h=ja(e),f=o.get(h);f||(f=a.querySelector(gl(h)),f||(e=S({src:e,async:!0},n),(n=kn.get(h))&&bd(e,n),f=a.createElement("script"),Ee(f),Fe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function EA(e,n){Zi.M(e,n);var a=Pa;if(a&&e){var o=ci(a).hoistableScripts,h=ja(e),f=o.get(h);f||(f=a.querySelector(gl(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=kn.get(h))&&bd(e,n),f=a.createElement("script"),Ee(f),Fe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function y_(e,n,a,o){var h=(h=wt.current)?Ec(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=za(a.href),a=ci(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=za(a.href);var f=ci(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(pl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),kn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},kn.set(e,a),f||TA(h,e,a,g.state))),n&&o===null)throw Error(s(528,""));return g}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ja(a),a=ci(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function za(e){return'href="'+rn(e)+'"'}function pl(e){return'link[rel="stylesheet"]['+e+"]"}function __(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function TA(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Fe(n,"link",a),Ee(n),e.head.appendChild(n))}function ja(e){return'[src="'+rn(e)+'"]'}function gl(e){return"script[async]"+e}function v_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+rn(a.href)+'"]');if(o)return n.instance=o,Ee(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ee(o),Fe(o,"style",h),Tc(o,a.precedence,e),n.instance=o;case"stylesheet":h=za(a.href);var f=e.querySelector(pl(h));if(f)return n.state.loading|=4,n.instance=f,Ee(f),f;o=__(a),(h=kn.get(h))&&Sd(o,h),f=(e.ownerDocument||e).createElement("link"),Ee(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Fe(f,"link",o),n.state.loading|=4,Tc(f,a.precedence,e),n.instance=f;case"script":return f=ja(a.src),(h=e.querySelector(gl(f)))?(n.instance=h,Ee(h),h):(o=a,(h=kn.get(f))&&(o=S({},a),bd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ee(h),Fe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Tc(o,a.precedence,e));return n.instance}function Tc(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Sd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function bd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Ac=null;function E_(e,n,a){if(Ac===null){var o=new Map,h=Ac=new Map;h.set(a,o)}else h=Ac,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[li]||f[ve]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function T_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function AA(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function A_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function SA(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=za(o.href),f=n.querySelector(pl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Sc.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,Ee(f);return}f=n.ownerDocument||n,o=__(o),(h=kn.get(h))&&Sd(o,h),f=f.createElement("link"),Ee(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Fe(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Sc.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var wd=0;function bA(e,n){return e.stylesheets&&e.count===0&&wc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&wc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&wd===0&&(wd=62500*rA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&wc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>wd?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Sc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var bc=null;function wc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,bc=new Map,n.forEach(wA,e),bc=null,Sc.call(e))}function wA(e,n){if(!(n.state.loading&4)){var a=bc.get(e);if(a)var o=a.get(null);else{a=new Map,bc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=a.get(g)||o,f===o&&a.set(null,h),a.set(g,h),this.count++,o=Sc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var yl={$$typeof:yt,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function RA(e,n,a,o,h,f,g,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.hiddenUpdates=ai(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function S_(e,n,a,o,h,f,g,E,R,z,H,Q){return e=new RA(e,n,a,g,R,z,H,Q,E),n=1,f===!0&&(n|=24),f=gn(3,null,null,n),e.current=f,f.stateNode=e,n=rf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},lf(f),e}function b_(e){return e?(e=ya,e):ya}function w_(e,n,a,o,h,f){h=b_(h),o.context===null?o.context=h:o.pendingContext=h,o=br(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=wr(e,o,n),a!==null&&(cn(a,e,n),Xo(a,e,n))}function R_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Rd(e,n){R_(e,n),(e=e.alternate)&&R_(e,n)}function C_(e){if(e.tag===13||e.tag===31){var n=Ss(e,67108864);n!==null&&cn(n,e,67108864),Rd(e,67108864)}}function I_(e){if(e.tag===13||e.tag===31){var n=Tn();n=hs(n);var a=Ss(e,n);a!==null&&cn(a,e,n),Rd(e,n)}}var Rc=!0;function CA(e,n,a,o){var h=F.T;F.T=null;var f=tt.p;try{tt.p=2,Cd(e,n,a,o)}finally{tt.p=f,F.T=h}}function IA(e,n,a,o){var h=F.T;F.T=null;var f=tt.p;try{tt.p=8,Cd(e,n,a,o)}finally{tt.p=f,F.T=h}}function Cd(e,n,a,o){if(Rc){var h=Id(o);if(h===null)dd(e,n,o,Cc,a),D_(e,o);else if(DA(h,e,n,a,o))o.stopPropagation();else if(D_(e,o),n&4&&-1<NA.indexOf(e)){for(;h!==null;){var f=bn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ri(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-fe(g);E.entanglements[1]|=R,g&=~R}Si(f),(qt&6)===0&&(uc=tn()+500,hl(0))}}break;case 31:case 13:E=Ss(f,2),E!==null&&cn(E,f,2),hc(),Rd(f,2)}if(f=Id(o),f===null&&dd(e,n,o,Cc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else dd(e,n,o,null,a)}}function Id(e){return e=wn(e),Nd(e)}var Cc=null;function Nd(e){if(Cc=null,e=ui(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=p(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Cc=e,null}function N_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(os()){case Eo:return 2;case To:return 8;case ur:case Mh:return 32;case su:return 268435456;default:return 32}default:return 32}}var Dd=!1,Lr=null,Ur=null,Pr=null,_l=new Map,vl=new Map,zr=[],NA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function D_(e,n){switch(e){case"focusin":case"focusout":Lr=null;break;case"dragenter":case"dragleave":Ur=null;break;case"mouseover":case"mouseout":Pr=null;break;case"pointerover":case"pointerout":_l.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":vl.delete(n.pointerId)}}function El(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=bn(n),n!==null&&C_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function DA(e,n,a,o,h){switch(n){case"focusin":return Lr=El(Lr,e,n,a,o,h),!0;case"dragenter":return Ur=El(Ur,e,n,a,o,h),!0;case"mouseover":return Pr=El(Pr,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return _l.set(f,El(_l.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,vl.set(f,El(vl.get(f)||null,e,n,a,o,h)),!0}return!1}function x_(e){var n=ui(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,jn(e.priority,function(){I_(a)});return}}else if(n===31){if(n=p(a),n!==null){e.blockedOn=n,jn(e.priority,function(){I_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ic(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Id(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Vo=o,a.target.dispatchEvent(o),Vo=null}else return n=bn(a),n!==null&&C_(n),e.blockedOn=a,!1;n.shift()}return!0}function O_(e,n,a){Ic(e)&&a.delete(n)}function xA(){Dd=!1,Lr!==null&&Ic(Lr)&&(Lr=null),Ur!==null&&Ic(Ur)&&(Ur=null),Pr!==null&&Ic(Pr)&&(Pr=null),_l.forEach(O_),vl.forEach(O_)}function Nc(e,n){e.blockedOn===n&&(e.blockedOn=null,Dd||(Dd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,xA)))}var Dc=null;function V_(e){Dc!==e&&(Dc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Dc===e&&(Dc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Nd(o||a)===null)continue;break}var f=bn(a);f!==null&&(e.splice(n,3),n-=3,If(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Ba(e){function n(R){return Nc(R,e)}Lr!==null&&Nc(Lr,e),Ur!==null&&Nc(Ur,e),Pr!==null&&Nc(Pr,e),_l.forEach(n),vl.forEach(n);for(var a=0;a<zr.length;a++){var o=zr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<zr.length&&(a=zr[0],a.blockedOn===null);)x_(a),a.blockedOn===null&&zr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],g=h[ke]||null;if(typeof f=="function")g||V_(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[ke]||null)E=g.formAction;else if(Nd(h)!==null)continue}else E=g.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),V_(a)}}}function M_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function xd(e){this._internalRoot=e}xc.prototype.render=xd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=Tn();w_(a,o,e,n,null,null)},xc.prototype.unmount=xd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;w_(e.current,2,null,e,null,null),hc(),n[oi]=null}};function xc(e){this._internalRoot=e}xc.prototype.unstable_scheduleHydration=function(e){if(e){var n=hu();e={blockedOn:null,target:e,priority:n};for(var a=0;a<zr.length&&n!==0&&n<zr[a].priority;a++);zr.splice(a,0,e),a===0&&x_(e)}};var k_=t.version;if(k_!=="19.2.3")throw Error(s(527,k_,"19.2.3"));tt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=_(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var OA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oc.isDisabled&&Oc.supportsFiber)try{Pn=Oc.inject(OA),ze=Oc}catch{}}return Al.createRoot=function(e,n){if(!l(e))throw Error(s(299));var a=!1,o="",h=qg,f=Hg,g=Fg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=S_(e,1,!1,null,null,a,o,null,h,f,g,M_),e[oi]=n.current,fd(e),new xd(n)},Al.hydrateRoot=function(e,n,a){if(!l(e))throw Error(s(299));var o=!1,h="",f=qg,g=Hg,E=Fg,R=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),n=S_(e,1,!0,n,a??null,o,h,R,f,g,E,M_),n.context=b_(null),a=n.current,o=Tn(),o=hs(o),h=br(o),h.callback=null,wr(a,h,o),a=o,n.current.lanes=a,us(n,a),Si(n),e[oi]=n.current,fd(e),new xc(n)},Al.version="19.2.3",Al}var G_;function qA(){if(G_)return Md.exports;G_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Md.exports=BA(),Md.exports}var HA=qA();const wE=(...r)=>r.filter((t,i,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===i).join(" ").trim();const FA=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const GA=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,s)=>s?s.toUpperCase():i.toLowerCase());const K_=r=>{const t=GA(r);return t.charAt(0).toUpperCase()+t.slice(1)};var KA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const QA=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const YA=ie.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:d,...p},y)=>ie.createElement("svg",{ref:y,...KA,width:t,height:t,stroke:r,strokeWidth:s?Number(i)*24/Number(t):i,className:wE("lucide",l),...!c&&!QA(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,A])=>ie.createElement(_,A)),...Array.isArray(c)?c:[c]]));const An=(r,t)=>{const i=ie.forwardRef(({className:s,...l},c)=>ie.createElement(YA,{ref:c,iconNode:t,className:wE(`lucide-${FA(K_(r))}`,`lucide-${r}`,s),...l}));return i.displayName=K_(r),i};const XA=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],$A=An("award",XA);const JA=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],RE=An("car",JA);const ZA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],WA=An("chevron-right",ZA);const tS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],eS=An("circle-plus",tS);const nS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],iS=An("clock",nS);const rS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],sS=An("globe",rS);const aS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],oS=An("log-out",aS);const lS=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],uS=An("mail",lS);const cS=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],hS=An("map-pin",cS);const fS=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],dS=An("menu",fS);const mS=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],pS=An("phone",mS);const gS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],yS=An("shield-check",gS);const _S=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],vS=An("x",_S),ES=()=>{};var Q_={};const CE=function(r){const t=[];let i=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},TS=function(r){const t=[];let i=0,s=0;for(;i<r.length;){const l=r[i++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[s++]=String.fromCharCode(55296+(y>>10)),t[s++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},IE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,y=l+2<r.length,_=y?r[l+2]:0,A=c>>2,S=(c&3)<<4|p>>4;let V=(p&15)<<2|_>>6,G=_&63;y||(G=64,d||(V=64)),s.push(i[A],i[S],i[V],i[G])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(CE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):TS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const S=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||_==null||S==null)throw new AS;const V=c<<2|p>>4;if(s.push(V),_!==64){const G=p<<4&240|_>>2;if(s.push(G),S!==64){const W=_<<6&192|S;s.push(W)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class AS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SS=function(r){const t=CE(r);return IE.encodeByteArray(t,!0)},Xc=function(r){return SS(r).replace(/\./g,"")},NE=function(r){try{return IE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function bS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const wS=()=>bS().__FIREBASE_DEFAULTS__,RS=()=>{if(typeof process>"u"||typeof Q_>"u")return;const r=Q_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},CS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&NE(r[1]);return t&&JSON.parse(t)},gh=()=>{try{return ES()||wS()||RS()||CS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},DE=r=>gh()?.emulatorHosts?.[r],IS=r=>{const t=DE(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},xE=()=>gh()?.config,OE=r=>gh()?.[`_${r}`];class NS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}function oo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function VE(r){return(await fetch(r,{credentials:"include"})).ok}function DS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Xc(JSON.stringify(i)),Xc(JSON.stringify(d)),""].join(".")}const Dl={};function xS(){const r={prod:[],emulator:[]};for(const t of Object.keys(Dl))Dl[t]?r.emulator.push(t):r.prod.push(t);return r}function OS(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let Y_=!1;function ME(r,t){if(typeof window>"u"||typeof document>"u"||!oo(window.location.host)||Dl[r]===t||Dl[r]||Y_)return;Dl[r]=t;function i(V){return`__firebase__banner__${V}`}const s="__firebase__banner",c=xS().prod.length>0;function d(){const V=document.getElementById(s);V&&V.remove()}function p(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function y(V,G){V.setAttribute("width","24"),V.setAttribute("id",G),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function _(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{Y_=!0,d()},V}function A(V,G){V.setAttribute("id",G),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function S(){const V=OS(s),G=i("text"),W=document.getElementById(G)||document.createElement("span"),nt=i("learnmore"),it=document.getElementById(nt)||document.createElement("a"),dt=i("preprendIcon"),Tt=document.getElementById(dt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const yt=V.element;p(yt),A(it,nt);const bt=_();y(Tt,dt),yt.append(Tt,W,it,bt),document.body.appendChild(yt)}c?(W.innerText="Preview backend disconnected.",Tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function MS(){const r=gh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function LS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function US(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PS(){const r=Ze();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function zS(){return!MS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jS(){try{return typeof indexedDB=="object"}catch{return!1}}function BS(){return new Promise((r,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const qS="FirebaseError";class sr extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=qS,Object.setPrototypeOf(this,sr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ql.prototype.create)}}class Ql{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?HS(c,s):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new sr(l,p,s)}}function HS(r,t){return r.replace(FS,(i,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const FS=/\{\$([^}]+)}/g;function GS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Hs(r,t){if(r===t)return!0;const i=Object.keys(r),s=Object.keys(t);for(const l of i){if(!s.includes(l))return!1;const c=r[l],d=t[l];if(X_(c)&&X_(d)){if(!Hs(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function X_(r){return r!==null&&typeof r=="object"}function Yl(r){const t=[];for(const[i,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function bl(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,c]=s.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function wl(r){const t=r.indexOf("?");if(!t)return"";const i=r.indexOf("#",t);return r.substring(t,i>0?i:void 0)}function KS(r,t){const i=new QS(r,t);return i.subscribe.bind(i)}class QS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,s){let l;if(t===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");YS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:s},l.next===void 0&&(l.next=Pd),l.error===void 0&&(l.error=Pd),l.complete===void 0&&(l.complete=Pd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YS(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Pd(){}function We(r){return r&&r._delegate?r._delegate:r}class Fs{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ls="[DEFAULT]";class XS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new NS;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(JS(t))try{this.getOrInitializeService({instanceIdentifier:Ls})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=Ls){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ls){return this.instances.has(t)}getOptions(t=Ls){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&d.resolve(l)}return l}onInit(t,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&t(c,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:$S(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ls){return this.component?this.component.multipleInstances?t:Ls:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $S(r){return r===Ls?void 0:r}function JS(r){return r.instantiationMode==="EAGER"}class ZS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new XS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var xt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(xt||(xt={}));const WS={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},tb=xt.INFO,eb={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},nb=(r,t,...i)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=eb[t];if(l)console[l](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class wm{constructor(t){this.name=t,this._logLevel=tb,this._logHandler=nb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in xt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?WS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...t),this._logHandler(this,xt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...t),this._logHandler(this,xt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...t),this._logHandler(this,xt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...t),this._logHandler(this,xt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...t),this._logHandler(this,xt.ERROR,...t)}}const ib=(r,t)=>t.some(i=>r instanceof i);let $_,J_;function rb(){return $_||($_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sb(){return J_||(J_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kE=new WeakMap,Jd=new WeakMap,LE=new WeakMap,zd=new WeakMap,Rm=new WeakMap;function ab(r){const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Qr(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&kE.set(i,r)}).catch(()=>{}),Rm.set(t,r),t}function ob(r){if(Jd.has(r))return;const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Jd.set(r,t)}let Zd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Jd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||LE.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Qr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function lb(r){Zd=r(Zd)}function ub(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=r.call(jd(this),t,...i);return LE.set(s,t.sort?t.sort():[t]),Qr(s)}:sb().includes(r)?function(...t){return r.apply(jd(this),t),Qr(kE.get(this))}:function(...t){return Qr(r.apply(jd(this),t))}}function cb(r){return typeof r=="function"?ub(r):(r instanceof IDBTransaction&&ob(r),ib(r,rb())?new Proxy(r,Zd):r)}function Qr(r){if(r instanceof IDBRequest)return ab(r);if(zd.has(r))return zd.get(r);const t=cb(r);return t!==r&&(zd.set(r,t),Rm.set(t,r)),t}const jd=r=>Rm.get(r);function hb(r,t,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=Qr(d);return s&&d.addEventListener("upgradeneeded",y=>{s(Qr(d.result),y.oldVersion,y.newVersion,Qr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const fb=["get","getKey","getAll","getAllKeys","count"],db=["put","add","delete","clear"],Bd=new Map;function Z_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Bd.get(t))return Bd.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,l=db.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||fb.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return s&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&y.done]))[0]};return Bd.set(t,c),c}lb(r=>({...r,get:(t,i,s)=>Z_(t,i)||r.get(t,i,s),has:(t,i)=>!!Z_(t,i)||r.has(t,i)}));class mb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(pb(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function pb(r){return r.getComponent()?.type==="VERSION"}const Wd="@firebase/app",W_="0.14.7";const er=new wm("@firebase/app"),gb="@firebase/app-compat",yb="@firebase/analytics-compat",_b="@firebase/analytics",vb="@firebase/app-check-compat",Eb="@firebase/app-check",Tb="@firebase/auth",Ab="@firebase/auth-compat",Sb="@firebase/database",bb="@firebase/data-connect",wb="@firebase/database-compat",Rb="@firebase/functions",Cb="@firebase/functions-compat",Ib="@firebase/installations",Nb="@firebase/installations-compat",Db="@firebase/messaging",xb="@firebase/messaging-compat",Ob="@firebase/performance",Vb="@firebase/performance-compat",Mb="@firebase/remote-config",kb="@firebase/remote-config-compat",Lb="@firebase/storage",Ub="@firebase/storage-compat",Pb="@firebase/firestore",zb="@firebase/ai",jb="@firebase/firestore-compat",Bb="firebase",qb="12.8.0";const tm="[DEFAULT]",Hb={[Wd]:"fire-core",[gb]:"fire-core-compat",[_b]:"fire-analytics",[yb]:"fire-analytics-compat",[Eb]:"fire-app-check",[vb]:"fire-app-check-compat",[Tb]:"fire-auth",[Ab]:"fire-auth-compat",[Sb]:"fire-rtdb",[bb]:"fire-data-connect",[wb]:"fire-rtdb-compat",[Rb]:"fire-fn",[Cb]:"fire-fn-compat",[Ib]:"fire-iid",[Nb]:"fire-iid-compat",[Db]:"fire-fcm",[xb]:"fire-fcm-compat",[Ob]:"fire-perf",[Vb]:"fire-perf-compat",[Mb]:"fire-rc",[kb]:"fire-rc-compat",[Lb]:"fire-gcs",[Ub]:"fire-gcs-compat",[Pb]:"fire-fst",[jb]:"fire-fst-compat",[zb]:"fire-vertex","fire-js":"fire-js",[Bb]:"fire-js-all"};const $c=new Map,Fb=new Map,em=new Map;function tv(r,t){try{r.container.addComponent(t)}catch(i){er.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function to(r){const t=r.name;if(em.has(t))return er.debug(`There were multiple attempts to register component ${t}.`),!1;em.set(t,r);for(const i of $c.values())tv(i,r);for(const i of Fb.values())tv(i,r);return!0}function Cm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function fn(r){return r==null?!1:r.settings!==void 0}const Gb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yr=new Ql("app","Firebase",Gb);class Kb{constructor(t,i,s){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Yr.create("app-deleted",{appName:this._name})}}const lo=qb;function UE(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const s={name:tm,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw Yr.create("bad-app-name",{appName:String(l)});if(i||(i=xE()),!i)throw Yr.create("no-options");const c=$c.get(l);if(c){if(Hs(i,c.options)&&Hs(s,c.config))return c;throw Yr.create("duplicate-app",{appName:l})}const d=new ZS(l);for(const y of em.values())d.addComponent(y);const p=new Kb(i,s,d);return $c.set(l,p),p}function PE(r=tm){const t=$c.get(r);if(!t&&r===tm&&xE())return UE();if(!t)throw Yr.create("no-app",{appName:r});return t}function Xr(r,t,i){let s=Hb[r]??r;i&&(s+=`-${i}`);const l=s.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${t}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),er.warn(d.join(" "));return}to(new Fs(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const Qb="firebase-heartbeat-database",Yb=1,Ll="firebase-heartbeat-store";let qd=null;function zE(){return qd||(qd=hb(Qb,Yb,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Ll)}catch(i){console.warn(i)}}}}).catch(r=>{throw Yr.create("idb-open",{originalErrorMessage:r.message})})),qd}async function Xb(r){try{const i=(await zE()).transaction(Ll),s=await i.objectStore(Ll).get(jE(r));return await i.done,s}catch(t){if(t instanceof sr)er.warn(t.message);else{const i=Yr.create("idb-get",{originalErrorMessage:t?.message});er.warn(i.message)}}}async function ev(r,t){try{const s=(await zE()).transaction(Ll,"readwrite");await s.objectStore(Ll).put(t,jE(r)),await s.done}catch(i){if(i instanceof sr)er.warn(i.message);else{const s=Yr.create("idb-set",{originalErrorMessage:i?.message});er.warn(s.message)}}}function jE(r){return`${r.name}!${r.options.appId}`}const $b=1024,Jb=30;class Zb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new tw(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=nv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Jb){const l=ew(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){er.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=nv(),{heartbeatsToSend:i,unsentEntries:s}=Wb(this._heartbeatsCache.heartbeats),l=Xc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return er.warn(t),""}}}function nv(){return new Date().toISOString().substring(0,10)}function Wb(r,t=$b){const i=[];let s=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),iv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),iv(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class tw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jS()?BS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Xb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return ev(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return ev(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function iv(r){return Xc(JSON.stringify({version:2,heartbeats:r})).length}function ew(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,t=s);return t}function nw(r){to(new Fs("platform-logger",t=>new mb(t),"PRIVATE")),to(new Fs("heartbeat",t=>new Zb(t),"PRIVATE")),Xr(Wd,W_,r),Xr(Wd,W_,"esm2020"),Xr("fire-js","")}nw("");var iw="firebase",rw="12.8.0";Xr(iw,rw,"app");function BE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sw=BE,qE=new Ql("auth","Firebase",BE());const Jc=new wm("@firebase/auth");function aw(r,...t){Jc.logLevel<=xt.WARN&&Jc.warn(`Auth (${lo}): ${r}`,...t)}function zc(r,...t){Jc.logLevel<=xt.ERROR&&Jc.error(`Auth (${lo}): ${r}`,...t)}function ti(r,...t){throw Im(r,...t)}function Ri(r,...t){return Im(r,...t)}function HE(r,t,i){const s={...sw(),[t]:i};return new Ql("auth","Firebase",s).create(t,{appName:r.name})}function Zn(r){return HE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Im(r,...t){if(typeof r!="string"){const i=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(i,...s)}return qE.create(r,...t)}function mt(r,t,...i){if(!r)throw Im(t,...i)}function Wi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw zc(t),new Error(t)}function nr(r,t){r||Wi(t)}function nm(){return typeof self<"u"&&self.location?.href||""}function ow(){return rv()==="http:"||rv()==="https:"}function rv(){return typeof self<"u"&&self.location?.protocol||null}function lw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ow()||LS()||"connection"in navigator)?navigator.onLine:!0}function uw(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Xl{constructor(t,i){this.shortDelay=t,this.longDelay=i,nr(i>t,"Short delay should be less than long delay!"),this.isMobile=VS()||US()}get(){return lw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Nm(r,t){nr(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class FE{static initialize(t,i,s){this.fetchImpl=t,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const cw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const hw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],fw=new Xl(3e4,6e4);function ar(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function rs(r,t,i,s,l={}){return GE(r,l,async()=>{let c={},d={};s&&(t==="GET"?d=s:c={body:JSON.stringify(s)});const p=Yl({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:y,...c};return kS()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&oo(r.emulatorConfig.host)&&(_.credentials="include"),FE.fetch()(await KE(r,r.config.apiHost,i,p),_)})}async function GE(r,t,i){r._canInitEmulator=!1;const s={...cw,...t};try{const l=new mw(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Vc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Vc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw Vc(r,"user-disabled",d);const A=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw HE(r,A,_);ti(r,A)}}catch(l){if(l instanceof sr)throw l;ti(r,"network-request-failed",{message:String(l)})}}async function uo(r,t,i,s,l={}){const c=await rs(r,t,i,s,l);return"mfaPendingCredential"in c&&ti(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function KE(r,t,i,s){const l=`${t}${i}?${s}`,c=r,d=c.config.emulator?Nm(r.config,l):`${r.config.apiScheme}://${l}`;return hw.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function dw(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class mw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(Ri(this.auth,"network-request-failed")),fw.get())})}}function Vc(r,t,i){const s={appName:r.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=Ri(r,t,s);return l.customData._tokenResponse=i,l}function sv(r){return r!==void 0&&r.enterprise!==void 0}class pw{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return dw(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function gw(r,t){return rs(r,"GET","/v2/recaptchaConfig",ar(r,t))}async function yw(r,t){return rs(r,"POST","/v1/accounts:delete",t)}async function Zc(r,t){return rs(r,"POST","/v1/accounts:lookup",t)}function xl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function _w(r,t=!1){const i=We(r),s=await i.getIdToken(t),l=Dm(s);mt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:s,authTime:xl(Hd(l.auth_time)),issuedAtTime:xl(Hd(l.iat)),expirationTime:xl(Hd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Hd(r){return Number(r)*1e3}function Dm(r){const[t,i,s]=r.split(".");if(t===void 0||i===void 0||s===void 0)return zc("JWT malformed, contained fewer than 3 sections"),null;try{const l=NE(i);return l?JSON.parse(l):(zc("Failed to decode base64 JWT payload"),null)}catch(l){return zc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function av(r){const t=Dm(r);return mt(t,"internal-error"),mt(typeof t.exp<"u","internal-error"),mt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Ul(r,t,i=!1){if(i)return t;try{return await t}catch(s){throw s instanceof sr&&vw(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function vw({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class Ew{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class im{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=xl(this.lastLoginAt),this.creationTime=xl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Wc(r){const t=r.auth,i=await r.getIdToken(),s=await Ul(r,Zc(t,{idToken:i}));mt(s?.users.length,t,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?QE(l.providerUserInfo):[],d=Aw(r.providerData,c),p=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!d?.length,_=p?y:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new im(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,A)}async function Tw(r){const t=We(r);await Wc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Aw(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function QE(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Sw(r,t){const i=await GE(r,{},async()=>{const s=Yl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await KE(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:s};return r.emulatorConfig&&oo(r.emulatorConfig.host)&&(y.credentials="include"),FE.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function bw(r,t){return rs(r,"POST","/v2/accounts:revokeToken",ar(r,t))}class Qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){mt(t.idToken,"internal-error"),mt(typeof t.idToken<"u","internal-error"),mt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):av(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){mt(t.length!==0,"internal-error");const i=av(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(mt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await Sw(t,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,i,s){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,d=new Qa;return s&&(mt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(mt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(mt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Qa,this.toJSON())}_performRefresh(){return Wi("not implemented")}}function Br(r,t){mt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class $n{constructor({uid:t,auth:i,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new Ew(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new im(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Ul(this,this.stsTokenManager.getToken(this.auth,t));return mt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return _w(this,t)}reload(){return Tw(this)}_assign(t){this!==t&&(mt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new $n({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),i&&await Wc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fn(this.auth.app))return Promise.reject(Zn(this.auth));const t=await this.getIdToken();return await Ul(this,yw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const s=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:V,isAnonymous:G,providerData:W,stsTokenManager:nt}=i;mt(S&&nt,t,"internal-error");const it=Qa.fromJSON(this.name,nt);mt(typeof S=="string",t,"internal-error"),Br(s,t.name),Br(l,t.name),mt(typeof V=="boolean",t,"internal-error"),mt(typeof G=="boolean",t,"internal-error"),Br(c,t.name),Br(d,t.name),Br(p,t.name),Br(y,t.name),Br(_,t.name),Br(A,t.name);const dt=new $n({uid:S,auth:t,email:l,emailVerified:V,displayName:s,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:it,createdAt:_,lastLoginAt:A});return W&&Array.isArray(W)&&(dt.providerData=W.map(Tt=>({...Tt}))),y&&(dt._redirectEventId=y),dt}static async _fromIdTokenResponse(t,i,s=!1){const l=new Qa;l.updateFromServerResponse(i);const c=new $n({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await Wc(c),c}static async _fromGetAccountInfoResponse(t,i,s){const l=i.users[0];mt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?QE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Qa;p.updateFromIdToken(s);const y=new $n({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new im(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const ov=new Map;function tr(r){nr(r instanceof Function,"Expected a class definition");let t=ov.get(r);return t?(nr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,ov.set(r,t),t)}class YE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}YE.type="NONE";const lv=YE;function jc(r,t,i){return`firebase:${r}:${t}:${i}`}class Ya{constructor(t,i,s){this.persistence=t,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=jc(this.userKey,l.apiKey,c),this.fullPersistenceKey=jc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Zc(this.auth,{idToken:t}).catch(()=>{});return i?$n._fromGetAccountInfoResponse(this.auth,i,t):null}return $n._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,s="authUser"){if(!i.length)return new Ya(tr(lv),t,s);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||tr(lv);const d=jc(s,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const A=await _._get(d);if(A){let S;if(typeof A=="string"){const V=await Zc(t,{idToken:A}).catch(()=>{});if(!V)break;S=await $n._fromGetAccountInfoResponse(t,V,A)}else S=$n._fromJSON(t,A);_!==c&&(p=S),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Ya(c,t,s):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Ya(c,t,s))}}function uv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ZE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(XE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(t0(t))return"Blackberry";if(e0(t))return"Webos";if($E(t))return"Safari";if((t.includes("chrome/")||JE(t))&&!t.includes("edge/"))return"Chrome";if(WE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(i);if(s?.length===2)return s[1]}return"Other"}function XE(r=Ze()){return/firefox\//i.test(r)}function $E(r=Ze()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function JE(r=Ze()){return/crios\//i.test(r)}function ZE(r=Ze()){return/iemobile/i.test(r)}function WE(r=Ze()){return/android/i.test(r)}function t0(r=Ze()){return/blackberry/i.test(r)}function e0(r=Ze()){return/webos/i.test(r)}function xm(r=Ze()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function ww(r=Ze()){return xm(r)&&!!window.navigator?.standalone}function Rw(){return PS()&&document.documentMode===10}function n0(r=Ze()){return xm(r)||WE(r)||e0(r)||t0(r)||/windows phone/i.test(r)||ZE(r)}function i0(r,t=[]){let i;switch(r){case"Browser":i=uv(Ze());break;case"Worker":i=`${uv(Ze())}-${r}`;break;default:i=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${lo}/${s}`}class Cw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const s=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const s of this.queue)await s(t),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function Iw(r,t={}){return rs(r,"GET","/v2/passwordPolicy",ar(r,t))}const Nw=6;class Dw{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Nw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=t.length>=s),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class xw{constructor(t,i,s,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cv(this),this.idTokenSubscription=new cv(this),this.beforeStateQueue=new Cw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=tr(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ya.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Zc(this,{idToken:t}),s=await $n._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(fn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(s=p.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Wc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=uw()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(fn(this.app))return Promise.reject(Zn(this));const i=t?We(t):null;return i&&mt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&mt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return fn(this.app)?Promise.reject(Zn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return fn(this.app)?Promise.reject(Zn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(tr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Iw(this),i=new Dw(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ql("auth","Firebase",t())}onAuthStateChanged(t,i,s){return this.registerStateListener(this.authStateSubscription,t,i,s)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,s){return this.registerStateListener(this.idTokenSubscription,t,i,s)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await bw(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const s=await this.getOrInitRedirectPersistenceManager(i);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&tr(t)||this._popupRedirectResolver;mt(i,this,"argument-error"),this.redirectPersistenceManager=await Ya.create(this,[tr(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(mt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,s,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=i0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&aw(`Error while retrieving App Check token: ${t.error}`),t?.token}}function or(r){return We(r)}class cv{constructor(t){this.auth=t,this.observer=null,this.addObserver=KS(i=>this.observer=i)}get next(){return mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let yh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ow(r){yh=r}function r0(r){return yh.loadJS(r)}function Vw(){return yh.recaptchaEnterpriseScript}function Mw(){return yh.gapiScript}function kw(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class Lw{constructor(){this.enterprise=new Uw}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class Uw{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const Pw="recaptcha-enterprise",s0="NO_RECAPTCHA";class zw{constructor(t){this.type=Pw,this.auth=or(t)}async verify(t="verify",i=!1){async function s(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{gw(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const _=new pw(y);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,d(_.siteKey)}}).catch(y=>{p(y)})})}function l(c,d,p){const y=window.grecaptcha;sv(y)?y.enterprise.ready(()=>{y.enterprise.execute(c,{action:t}).then(_=>{d(_)}).catch(()=>{d(s0)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Lw().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{s(this.auth).then(p=>{if(!i&&sv(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=Vw();y.length!==0&&(y+=p),r0(y).then(()=>{l(p,c,d)}).catch(_=>{d(_)})}}).catch(p=>{d(p)})})}}async function hv(r,t,i,s=!1,l=!1){const c=new zw(r);let d;if(l)d=s0;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const y=p.phoneEnrollmentInfo.phoneNumber,_=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const y=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function rm(r,t,i,s,l){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await hv(r,t,i,i==="getOobCode");return s(r,c)}else return s(r,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await hv(r,t,i,i==="getOobCode");return s(r,d)}else return Promise.reject(c)})}function jw(r,t){const i=Cm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Hs(c,t??{}))return l;ti(l,"already-initialized")}return i.initialize({options:t})}function Bw(r,t){const i=t?.persistence||[],s=(Array.isArray(i)?i:[i]).map(tr);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function qw(r,t,i){const s=or(r);mt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=a0(t),{host:d,port:p}=Hw(t),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){mt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),mt(Hs(_,s.config.emulator)&&Hs(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,oo(d)?(VE(`${c}//${d}${y}`),ME("Auth",!0)):Fw()}function a0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function Hw(r){const t=a0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:fv(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:fv(d)}}}function fv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function Fw(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Om{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Wi("not implemented")}_getIdTokenResponse(t){return Wi("not implemented")}_linkToIdToken(t,i){return Wi("not implemented")}_getReauthenticationResolver(t){return Wi("not implemented")}}async function Gw(r,t){return rs(r,"POST","/v1/accounts:signUp",t)}async function Kw(r,t){return uo(r,"POST","/v1/accounts:signInWithPassword",ar(r,t))}async function Qw(r,t){return uo(r,"POST","/v1/accounts:signInWithEmailLink",ar(r,t))}async function Yw(r,t){return uo(r,"POST","/v1/accounts:signInWithEmailLink",ar(r,t))}class Pl extends Om{constructor(t,i,s,l=null){super("password",s),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new Pl(t,i,"password")}static _fromEmailAndCode(t,i,s=null){return new Pl(t,i,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rm(t,i,"signInWithPassword",Kw);case"emailLink":return Qw(t,{email:this._email,oobCode:this._password});default:ti(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const s={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rm(t,s,"signUpPassword",Gw);case"emailLink":return Yw(t,{idToken:i,email:this._email,oobCode:this._password});default:ti(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Xa(r,t){return uo(r,"POST","/v1/accounts:signInWithIdp",ar(r,t))}const Xw="http://localhost";class Gs extends Om{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Gs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ti("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l,...c}=i;if(!s||!l)return null;const d=new Gs(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Xa(t,i)}_linkToIdToken(t,i){const s=this.buildRequest();return s.idToken=i,Xa(t,s)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Xa(t,i)}buildRequest(){const t={requestUri:Xw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Yl(i)}return t}}function $w(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Jw(r){const t=bl(wl(r)).link,i=t?bl(wl(t)).deep_link_id:null,s=bl(wl(r)).deep_link_id;return(s?bl(wl(s)).link:null)||s||i||t||r}class Vm{constructor(t){const i=bl(wl(t)),s=i.apiKey??null,l=i.oobCode??null,c=$w(i.mode??null);mt(s&&l&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=Jw(t);try{return new Vm(i)}catch{return null}}}class co{constructor(){this.providerId=co.PROVIDER_ID}static credential(t,i){return Pl._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const s=Vm.parseLink(i);return mt(s,"argument-error"),Pl._fromEmailAndCode(t,s.code,s.tenantId)}}co.PROVIDER_ID="password";co.EMAIL_PASSWORD_SIGN_IN_METHOD="password";co.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class o0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class $l extends o0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class qr extends $l{constructor(){super("facebook.com")}static credential(t){return Gs._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qr.credentialFromTaggedObject(t)}static credentialFromError(t){return qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qr.credential(t.oauthAccessToken)}catch{return null}}}qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";qr.PROVIDER_ID="facebook.com";class Hr extends $l{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Gs._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Hr.credentialFromTaggedObject(t)}static credentialFromError(t){return Hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:s}=t;if(!i&&!s)return null;try{return Hr.credential(i,s)}catch{return null}}}Hr.GOOGLE_SIGN_IN_METHOD="google.com";Hr.PROVIDER_ID="google.com";class Fr extends $l{constructor(){super("github.com")}static credential(t){return Gs._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fr.credentialFromTaggedObject(t)}static credentialFromError(t){return Fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fr.credential(t.oauthAccessToken)}catch{return null}}}Fr.GITHUB_SIGN_IN_METHOD="github.com";Fr.PROVIDER_ID="github.com";class Gr extends $l{constructor(){super("twitter.com")}static credential(t,i){return Gs._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Gr.credentialFromTaggedObject(t)}static credentialFromError(t){return Gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=t;if(!i||!s)return null;try{return Gr.credential(i,s)}catch{return null}}}Gr.TWITTER_SIGN_IN_METHOD="twitter.com";Gr.PROVIDER_ID="twitter.com";async function l0(r,t){return uo(r,"POST","/v1/accounts:signUp",ar(r,t))}class Oi{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,s,l=!1){const c=await $n._fromIdTokenResponse(t,s,l),d=dv(s);return new Oi({user:c,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(t,i,s){await t._updateTokensIfNecessary(s,!0);const l=dv(s);return new Oi({user:t,providerId:l,_tokenResponse:s,operationType:i})}}function dv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function Zw(r){if(fn(r.app))return Promise.reject(Zn(r));const t=or(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Oi({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await l0(t,{returnSecureToken:!0}),s=await Oi._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(s.user),s}class th extends sr{constructor(t,i,s,l){super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,th.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,i,s,l){return new th(t,i,s,l)}}function u0(r,t,i,s){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?th._fromErrorAndOperation(r,c,t,s):c})}async function Ww(r,t,i=!1){const s=await Ul(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return Oi._forOperation(r,"link",s)}async function tR(r,t,i=!1){const{auth:s}=r;if(fn(s.app))return Promise.reject(Zn(s));const l="reauthenticate";try{const c=await Ul(r,u0(s,l,t,r),i);mt(c.idToken,s,"internal-error");const d=Dm(c.idToken);mt(d,s,"internal-error");const{sub:p}=d;return mt(r.uid===p,s,"user-mismatch"),Oi._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ti(s,"user-mismatch"),c}}async function c0(r,t,i=!1){if(fn(r.app))return Promise.reject(Zn(r));const s="signIn",l=await u0(r,s,t),c=await Oi._fromIdTokenResponse(r,s,l);return i||await r._updateCurrentUser(c.user),c}async function eR(r,t){return c0(or(r),t)}async function nR(r,t){return uo(r,"POST","/v1/accounts:signInWithCustomToken",ar(r,t))}async function iR(r,t){if(fn(r.app))return Promise.reject(Zn(r));const i=or(r),s=await nR(i,{token:t,returnSecureToken:!0}),l=await Oi._fromIdTokenResponse(i,"signIn",s);return await i._updateCurrentUser(l.user),l}async function h0(r){const t=or(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function rR(r,t,i){if(fn(r.app))return Promise.reject(Zn(r));const s=or(r),d=await rm(s,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",l0).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&h0(r),y}),p=await Oi._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(p.user),p}function sR(r,t,i){return fn(r.app)?Promise.reject(Zn(r)):eR(We(r),co.credential(t,i)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&h0(r),s})}function aR(r,t,i,s){return We(r).onIdTokenChanged(t,i,s)}function oR(r,t,i){return We(r).beforeAuthStateChanged(t,i)}function lR(r,t,i,s){return We(r).onAuthStateChanged(t,i,s)}function uR(r){return We(r).signOut()}const eh="__sak";class f0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(eh,"1"),this.storage.removeItem(eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const cR=1e3,hR=10;class d0 extends f0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=n0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&t(i,l,s)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const s=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);Rw()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,hR):l()}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:s}),!0)})},cR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}d0.type="LOCAL";const fR=d0;class m0 extends f0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}m0.type="SESSION";const p0=m0;function dR(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class _h{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const s=new _h(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:s,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await dR(p);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_h.receivers=[];function Mm(r="",t=10){let i="";for(let s=0;s<t;s++)i+=Math.floor(Math.random()*10);return r+i}class mR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=Mm("",20);l.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(S){const V=S;if(V.data.eventId===_)switch(V.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(V.data.response);break;default:clearTimeout(A),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ci(){return window}function pR(r){Ci().location.href=r}function g0(){return typeof Ci().WorkerGlobalScope<"u"&&typeof Ci().importScripts=="function"}async function gR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yR(){return navigator?.serviceWorker?.controller||null}function _R(){return g0()?self:null}const y0="firebaseLocalStorageDb",vR=1,nh="firebaseLocalStorage",_0="fbase_key";class Jl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function vh(r,t){return r.transaction([nh],t?"readwrite":"readonly").objectStore(nh)}function ER(){const r=indexedDB.deleteDatabase(y0);return new Jl(r).toPromise()}function sm(){const r=indexedDB.open(y0,vR);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(nh,{keyPath:_0})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(nh)?t(s):(s.close(),await ER(),t(await sm()))})})}async function mv(r,t,i){const s=vh(r,!0).put({[_0]:t,value:i});return new Jl(s).toPromise()}async function TR(r,t){const i=vh(r,!1).get(t),s=await new Jl(i).toPromise();return s===void 0?null:s.value}function pv(r,t){const i=vh(r,!0).delete(t);return new Jl(i).toPromise()}const AR=800,SR=3;class v0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(i++>SR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return g0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_h._getInstance(_R()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await gR(),!this.activeServiceWorker)return;this.sender=new mR(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||yR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await sm();return await mv(t,eh,"1"),await pv(t,eh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>mv(s,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(s=>TR(s,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>pv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=vh(l,!1).getAll();return new Jl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),AR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}v0.type="LOCAL";const bR=v0;new Xl(3e4,6e4);function wR(r,t){return t?tr(t):(mt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class km extends Om{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Xa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Xa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Xa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function RR(r){return c0(r.auth,new km(r),r.bypassAuthState)}function CR(r){const{auth:t,user:i}=r;return mt(i,t,"internal-error"),tR(i,new km(r),r.bypassAuthState)}async function IR(r){const{auth:t,user:i}=r;return mt(i,t,"internal-error"),Ww(i,new km(r),r.bypassAuthState)}class E0{constructor(t,i,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return RR;case"linkViaPopup":case"linkViaRedirect":return IR;case"reauthViaPopup":case"reauthViaRedirect":return CR;default:ti(this.auth,"internal-error")}}resolve(t){nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const NR=new Xl(2e3,1e4);class Ka extends E0{constructor(t,i,s,l,c){super(t,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Ka.currentPopupAction&&Ka.currentPopupAction.cancel(),Ka.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return mt(t,this.auth,"internal-error"),t}async onExecution(){nr(this.filter.length===1,"Popup operations only handle one event");const t=Mm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ka.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,NR.get())};t()}}Ka.currentPopupAction=null;const DR="pendingRedirect",Bc=new Map;class xR extends E0{constructor(t,i,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let t=Bc.get(this.auth._key());if(!t){try{const s=await OR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(i){t=()=>Promise.reject(i)}Bc.set(this.auth._key(),t)}return this.bypassAuthState||Bc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function OR(r,t){const i=kR(t),s=MR(r);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function VR(r,t){Bc.set(r._key(),t)}function MR(r){return tr(r._redirectPersistence)}function kR(r){return jc(DR,r.config.apiKey,r.name)}async function LR(r,t,i=!1){if(fn(r.app))return Promise.reject(Zn(r));const s=or(r),l=wR(s,t),d=await new xR(s,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}const UR=600*1e3;class PR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(i=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!zR(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!T0(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ri(this.auth,s))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const s=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=UR&&this.cachedEventUids.clear(),this.cachedEventUids.has(gv(t))}saveEventToCache(t){this.cachedEventUids.add(gv(t)),this.lastProcessedEventTime=Date.now()}}function gv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function T0({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function zR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return T0(r);default:return!1}}async function jR(r,t={}){return rs(r,"GET","/v1/projects",t)}const BR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qR=/^https?/;async function HR(r){if(r.config.emulator)return;const{authorizedDomains:t}=await jR(r);for(const i of t)try{if(FR(i))return}catch{}ti(r,"unauthorized-domain")}function FR(r){const t=nm(),{protocol:i,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!qR.test(i))return!1;if(BR.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const GR=new Xl(3e4,6e4);function yv(){const r=Ci().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function KR(r){return new Promise((t,i)=>{function s(){yv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{yv(),i(Ri(r,"network-request-failed"))},timeout:GR.get()})}if(Ci().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ci().gapi?.load)s();else{const l=kw("iframefcb");return Ci()[l]=()=>{gapi.load?s():i(Ri(r,"network-request-failed"))},r0(`${Mw()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw qc=null,t})}let qc=null;function QR(r){return qc=qc||KR(r),qc}const YR=new Xl(5e3,15e3),XR="__/auth/iframe",$R="emulator/auth/iframe",JR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WR(r){const t=r.config;mt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Nm(t,$R):`https://${r.config.authDomain}/${XR}`,s={apiKey:t.apiKey,appName:r.name,v:lo},l=ZR.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${Yl(s).slice(1)}`}async function t2(r){const t=await QR(r),i=Ci().gapi;return mt(i,r,"internal-error"),t.open({where:document.body,url:WR(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JR,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=Ri(r,"network-request-failed"),p=Ci().setTimeout(()=>{c(d)},YR.get());function y(){Ci().clearTimeout(p),l(s)}s.ping(y).then(y,()=>{c(d)})}))}const e2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},n2=500,i2=600,r2="_blank",s2="http://localhost";class _v{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function a2(r,t,i,s=n2,l=i2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const y={...e2,width:s.toString(),height:l.toString(),top:c,left:d},_=Ze().toLowerCase();i&&(p=JE(_)?r2:i),XE(_)&&(t=t||s2,y.scrollbars="yes");const A=Object.entries(y).reduce((V,[G,W])=>`${V}${G}=${W},`,"");if(ww(_)&&p!=="_self")return o2(t||"",p),new _v(null);const S=window.open(t||"",p,A);mt(S,r,"popup-blocked");try{S.focus()}catch{}return new _v(S)}function o2(r,t){const i=document.createElement("a");i.href=r,i.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}const l2="__/auth/handler",u2="emulator/auth/handler",c2=encodeURIComponent("fac");async function vv(r,t,i,s,l,c){mt(r.config.authDomain,r,"auth-domain-config-required"),mt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:s,v:lo,eventId:l};if(t instanceof o0){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",GS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(t instanceof $l){const A=t.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const y=await r._getAppCheckToken(),_=y?`#${c2}=${encodeURIComponent(y)}`:"";return`${h2(r)}?${Yl(p).slice(1)}${_}`}function h2({config:r}){return r.emulator?Nm(r,u2):`https://${r.authDomain}/${l2}`}const Fd="webStorageSupport";class f2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=p0,this._completeRedirectFn=LR,this._overrideRedirectResult=VR}async _openPopup(t,i,s,l){nr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await vv(t,i,s,nm(),l);return a2(t,c,Mm())}async _openRedirect(t,i,s,l){await this._originValidation(t);const c=await vv(t,i,s,nm(),l);return pR(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(nr(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(t){const i=await t2(t),s=new PR(t);return i.register("authEvent",l=>(mt(l?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=i,s}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Fd,{type:Fd},l=>{const c=l?.[0]?.[Fd];c!==void 0&&i(!!c),ti(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=HR(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return n0()||$E()||xm()}}const d2=f2;var Ev="@firebase/auth",Tv="1.12.0";class m2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function p2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function g2(r){to(new Fs("auth",(t,{options:i})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=s.options;mt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:i0(r)},_=new xw(s,l,c,y);return Bw(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,s)=>{t.getProvider("auth-internal").initialize()})),to(new Fs("auth-internal",t=>{const i=or(t.getProvider("auth").getImmediate());return(s=>new m2(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xr(Ev,Tv,p2(r)),Xr(Ev,Tv,"esm2020")}const y2=300,_2=OE("authIdTokenMaxAge")||y2;let Av=null;const v2=r=>async t=>{const i=t&&await t.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>_2)return;const l=i?.token;Av!==l&&(Av=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function E2(r=PE()){const t=Cm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=jw(r,{popupRedirectResolver:d2,persistence:[bR,fR,p0]}),s=OE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=v2(c.toString());oR(i,d,()=>d(i.currentUser)),aR(i,p=>d(p))}}const l=DE("auth");return l&&qw(i,`http://${l}`),i}function T2(){return document.getElementsByTagName("head")?.[0]??document}Ow({loadJS(r){return new Promise((t,i)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const c=Ri("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",T2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});g2("Browser");var Sv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $r,A0;(function(){var r;function t(I,b){function C(){}C.prototype=b.prototype,I.F=b.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(M,x,L){for(var w=Array(arguments.length-2),se=2;se<arguments.length;se++)w[se-2]=arguments[se];return b.prototype[x].apply(M,w)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,b,C){C||(C=0);const M=Array(16);if(typeof b=="string")for(var x=0;x<16;++x)M[x]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(x=0;x<16;++x)M[x]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=I.g[0],C=I.g[1],x=I.g[2];let L=I.g[3],w;w=b+(L^C&(x^L))+M[0]+3614090360&4294967295,b=C+(w<<7&4294967295|w>>>25),w=L+(x^b&(C^x))+M[1]+3905402710&4294967295,L=b+(w<<12&4294967295|w>>>20),w=x+(C^L&(b^C))+M[2]+606105819&4294967295,x=L+(w<<17&4294967295|w>>>15),w=C+(b^x&(L^b))+M[3]+3250441966&4294967295,C=x+(w<<22&4294967295|w>>>10),w=b+(L^C&(x^L))+M[4]+4118548399&4294967295,b=C+(w<<7&4294967295|w>>>25),w=L+(x^b&(C^x))+M[5]+1200080426&4294967295,L=b+(w<<12&4294967295|w>>>20),w=x+(C^L&(b^C))+M[6]+2821735955&4294967295,x=L+(w<<17&4294967295|w>>>15),w=C+(b^x&(L^b))+M[7]+4249261313&4294967295,C=x+(w<<22&4294967295|w>>>10),w=b+(L^C&(x^L))+M[8]+1770035416&4294967295,b=C+(w<<7&4294967295|w>>>25),w=L+(x^b&(C^x))+M[9]+2336552879&4294967295,L=b+(w<<12&4294967295|w>>>20),w=x+(C^L&(b^C))+M[10]+4294925233&4294967295,x=L+(w<<17&4294967295|w>>>15),w=C+(b^x&(L^b))+M[11]+2304563134&4294967295,C=x+(w<<22&4294967295|w>>>10),w=b+(L^C&(x^L))+M[12]+1804603682&4294967295,b=C+(w<<7&4294967295|w>>>25),w=L+(x^b&(C^x))+M[13]+4254626195&4294967295,L=b+(w<<12&4294967295|w>>>20),w=x+(C^L&(b^C))+M[14]+2792965006&4294967295,x=L+(w<<17&4294967295|w>>>15),w=C+(b^x&(L^b))+M[15]+1236535329&4294967295,C=x+(w<<22&4294967295|w>>>10),w=b+(x^L&(C^x))+M[1]+4129170786&4294967295,b=C+(w<<5&4294967295|w>>>27),w=L+(C^x&(b^C))+M[6]+3225465664&4294967295,L=b+(w<<9&4294967295|w>>>23),w=x+(b^C&(L^b))+M[11]+643717713&4294967295,x=L+(w<<14&4294967295|w>>>18),w=C+(L^b&(x^L))+M[0]+3921069994&4294967295,C=x+(w<<20&4294967295|w>>>12),w=b+(x^L&(C^x))+M[5]+3593408605&4294967295,b=C+(w<<5&4294967295|w>>>27),w=L+(C^x&(b^C))+M[10]+38016083&4294967295,L=b+(w<<9&4294967295|w>>>23),w=x+(b^C&(L^b))+M[15]+3634488961&4294967295,x=L+(w<<14&4294967295|w>>>18),w=C+(L^b&(x^L))+M[4]+3889429448&4294967295,C=x+(w<<20&4294967295|w>>>12),w=b+(x^L&(C^x))+M[9]+568446438&4294967295,b=C+(w<<5&4294967295|w>>>27),w=L+(C^x&(b^C))+M[14]+3275163606&4294967295,L=b+(w<<9&4294967295|w>>>23),w=x+(b^C&(L^b))+M[3]+4107603335&4294967295,x=L+(w<<14&4294967295|w>>>18),w=C+(L^b&(x^L))+M[8]+1163531501&4294967295,C=x+(w<<20&4294967295|w>>>12),w=b+(x^L&(C^x))+M[13]+2850285829&4294967295,b=C+(w<<5&4294967295|w>>>27),w=L+(C^x&(b^C))+M[2]+4243563512&4294967295,L=b+(w<<9&4294967295|w>>>23),w=x+(b^C&(L^b))+M[7]+1735328473&4294967295,x=L+(w<<14&4294967295|w>>>18),w=C+(L^b&(x^L))+M[12]+2368359562&4294967295,C=x+(w<<20&4294967295|w>>>12),w=b+(C^x^L)+M[5]+4294588738&4294967295,b=C+(w<<4&4294967295|w>>>28),w=L+(b^C^x)+M[8]+2272392833&4294967295,L=b+(w<<11&4294967295|w>>>21),w=x+(L^b^C)+M[11]+1839030562&4294967295,x=L+(w<<16&4294967295|w>>>16),w=C+(x^L^b)+M[14]+4259657740&4294967295,C=x+(w<<23&4294967295|w>>>9),w=b+(C^x^L)+M[1]+2763975236&4294967295,b=C+(w<<4&4294967295|w>>>28),w=L+(b^C^x)+M[4]+1272893353&4294967295,L=b+(w<<11&4294967295|w>>>21),w=x+(L^b^C)+M[7]+4139469664&4294967295,x=L+(w<<16&4294967295|w>>>16),w=C+(x^L^b)+M[10]+3200236656&4294967295,C=x+(w<<23&4294967295|w>>>9),w=b+(C^x^L)+M[13]+681279174&4294967295,b=C+(w<<4&4294967295|w>>>28),w=L+(b^C^x)+M[0]+3936430074&4294967295,L=b+(w<<11&4294967295|w>>>21),w=x+(L^b^C)+M[3]+3572445317&4294967295,x=L+(w<<16&4294967295|w>>>16),w=C+(x^L^b)+M[6]+76029189&4294967295,C=x+(w<<23&4294967295|w>>>9),w=b+(C^x^L)+M[9]+3654602809&4294967295,b=C+(w<<4&4294967295|w>>>28),w=L+(b^C^x)+M[12]+3873151461&4294967295,L=b+(w<<11&4294967295|w>>>21),w=x+(L^b^C)+M[15]+530742520&4294967295,x=L+(w<<16&4294967295|w>>>16),w=C+(x^L^b)+M[2]+3299628645&4294967295,C=x+(w<<23&4294967295|w>>>9),w=b+(x^(C|~L))+M[0]+4096336452&4294967295,b=C+(w<<6&4294967295|w>>>26),w=L+(C^(b|~x))+M[7]+1126891415&4294967295,L=b+(w<<10&4294967295|w>>>22),w=x+(b^(L|~C))+M[14]+2878612391&4294967295,x=L+(w<<15&4294967295|w>>>17),w=C+(L^(x|~b))+M[5]+4237533241&4294967295,C=x+(w<<21&4294967295|w>>>11),w=b+(x^(C|~L))+M[12]+1700485571&4294967295,b=C+(w<<6&4294967295|w>>>26),w=L+(C^(b|~x))+M[3]+2399980690&4294967295,L=b+(w<<10&4294967295|w>>>22),w=x+(b^(L|~C))+M[10]+4293915773&4294967295,x=L+(w<<15&4294967295|w>>>17),w=C+(L^(x|~b))+M[1]+2240044497&4294967295,C=x+(w<<21&4294967295|w>>>11),w=b+(x^(C|~L))+M[8]+1873313359&4294967295,b=C+(w<<6&4294967295|w>>>26),w=L+(C^(b|~x))+M[15]+4264355552&4294967295,L=b+(w<<10&4294967295|w>>>22),w=x+(b^(L|~C))+M[6]+2734768916&4294967295,x=L+(w<<15&4294967295|w>>>17),w=C+(L^(x|~b))+M[13]+1309151649&4294967295,C=x+(w<<21&4294967295|w>>>11),w=b+(x^(C|~L))+M[4]+4149444226&4294967295,b=C+(w<<6&4294967295|w>>>26),w=L+(C^(b|~x))+M[11]+3174756917&4294967295,L=b+(w<<10&4294967295|w>>>22),w=x+(b^(L|~C))+M[2]+718787259&4294967295,x=L+(w<<15&4294967295|w>>>17),w=C+(L^(x|~b))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+b&4294967295,I.g[1]=I.g[1]+(x+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+x&4294967295,I.g[3]=I.g[3]+L&4294967295}s.prototype.v=function(I,b){b===void 0&&(b=I.length);const C=b-this.blockSize,M=this.C;let x=this.h,L=0;for(;L<b;){if(x==0)for(;L<=C;)l(this,I,L),L+=this.blockSize;if(typeof I=="string"){for(;L<b;)if(M[x++]=I.charCodeAt(L++),x==this.blockSize){l(this,M),x=0;break}}else for(;L<b;)if(M[x++]=I[L++],x==this.blockSize){l(this,M),x=0;break}}this.h=x,this.o+=b},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var b=1;b<I.length-8;++b)I[b]=0;b=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=b&255,b/=256;for(this.v(I),I=Array(16),b=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)I[b++]=this.g[C]>>>M&255;return I};function c(I,b){var C=p;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=b(I)}function d(I,b){this.h=b;const C=[];let M=!0;for(let x=I.length-1;x>=0;x--){const L=I[x]|0;M&&L==b||(C[x]=L,M=!1)}this.g=C}var p={};function y(I){return-128<=I&&I<128?c(I,function(b){return new d([b|0],b<0?-1:0)}):new d([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return it(_(-I));const b=[];let C=1;for(let M=0;I>=C;M++)b[M]=I/C|0,C*=4294967296;return new d(b,0)}function A(I,b){if(I.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(I.charAt(0)=="-")return it(A(I.substring(1),b));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(b,8));let M=S;for(let L=0;L<I.length;L+=8){var x=Math.min(8,I.length-L);const w=parseInt(I.substring(L,L+x),b);x<8?(x=_(Math.pow(b,x)),M=M.j(x).add(_(w))):(M=M.j(C),M=M.add(_(w)))}return M}var S=y(0),V=y(1),G=y(16777216);r=d.prototype,r.m=function(){if(nt(this))return-it(this).m();let I=0,b=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);I+=(M>=0?M:4294967296+M)*b,b*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(W(this))return"0";if(nt(this))return"-"+it(this).toString(I);const b=_(Math.pow(I,6));var C=this;let M="";for(;;){const x=bt(C,b).g;C=dt(C,x.j(b));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=x,W(C))return L+M;for(;L.length<6;)L="0"+L;M=L+M}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function W(I){if(I.h!=0)return!1;for(let b=0;b<I.g.length;b++)if(I.g[b]!=0)return!1;return!0}function nt(I){return I.h==-1}r.l=function(I){return I=dt(this,I),nt(I)?-1:W(I)?0:1};function it(I){const b=I.g.length,C=[];for(let M=0;M<b;M++)C[M]=~I.g[M];return new d(C,~I.h).add(V)}r.abs=function(){return nt(this)?it(this):this},r.add=function(I){const b=Math.max(this.g.length,I.g.length),C=[];let M=0;for(let x=0;x<=b;x++){let L=M+(this.i(x)&65535)+(I.i(x)&65535),w=(L>>>16)+(this.i(x)>>>16)+(I.i(x)>>>16);M=w>>>16,L&=65535,w&=65535,C[x]=w<<16|L}return new d(C,C[C.length-1]&-2147483648?-1:0)};function dt(I,b){return I.add(it(b))}r.j=function(I){if(W(this)||W(I))return S;if(nt(this))return nt(I)?it(this).j(it(I)):it(it(this).j(I));if(nt(I))return it(this.j(it(I)));if(this.l(G)<0&&I.l(G)<0)return _(this.m()*I.m());const b=this.g.length+I.g.length,C=[];for(var M=0;M<2*b;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let x=0;x<I.g.length;x++){const L=this.i(M)>>>16,w=this.i(M)&65535,se=I.i(x)>>>16,Ne=I.i(x)&65535;C[2*M+2*x]+=w*Ne,Tt(C,2*M+2*x),C[2*M+2*x+1]+=L*Ne,Tt(C,2*M+2*x+1),C[2*M+2*x+1]+=w*se,Tt(C,2*M+2*x+1),C[2*M+2*x+2]+=L*se,Tt(C,2*M+2*x+2)}for(I=0;I<b;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=b;I<2*b;I++)C[I]=0;return new d(C,0)};function Tt(I,b){for(;(I[b]&65535)!=I[b];)I[b+1]+=I[b]>>>16,I[b]&=65535,b++}function yt(I,b){this.g=I,this.h=b}function bt(I,b){if(W(b))throw Error("division by zero");if(W(I))return new yt(S,S);if(nt(I))return b=bt(it(I),b),new yt(it(b.g),it(b.h));if(nt(b))return b=bt(I,it(b)),new yt(it(b.g),b.h);if(I.g.length>30){if(nt(I)||nt(b))throw Error("slowDivide_ only works with positive integers.");for(var C=V,M=b;M.l(I)<=0;)C=Wt(C),M=Wt(M);var x=Pt(C,1),L=Pt(M,1);for(M=Pt(M,2),C=Pt(C,2);!W(M);){var w=L.add(M);w.l(I)<=0&&(x=x.add(C),L=w),M=Pt(M,1),C=Pt(C,1)}return b=dt(I,x.j(b)),new yt(x,b)}for(x=S;I.l(b)>=0;){for(C=Math.max(1,Math.floor(I.m()/b.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),L=_(C),w=L.j(b);nt(w)||w.l(I)>0;)C-=M,L=_(C),w=L.j(b);W(L)&&(L=V),x=x.add(L),I=dt(I,w)}return new yt(x,I)}r.B=function(I){return bt(this,I).h},r.and=function(I){const b=Math.max(this.g.length,I.g.length),C=[];for(let M=0;M<b;M++)C[M]=this.i(M)&I.i(M);return new d(C,this.h&I.h)},r.or=function(I){const b=Math.max(this.g.length,I.g.length),C=[];for(let M=0;M<b;M++)C[M]=this.i(M)|I.i(M);return new d(C,this.h|I.h)},r.xor=function(I){const b=Math.max(this.g.length,I.g.length),C=[];for(let M=0;M<b;M++)C[M]=this.i(M)^I.i(M);return new d(C,this.h^I.h)};function Wt(I){const b=I.g.length+1,C=[];for(let M=0;M<b;M++)C[M]=I.i(M)<<1|I.i(M-1)>>>31;return new d(C,I.h)}function Pt(I,b){const C=b>>5;b%=32;const M=I.g.length-C,x=[];for(let L=0;L<M;L++)x[L]=b>0?I.i(L+C)>>>b|I.i(L+C+1)<<32-b:I.i(L+C);return new d(x,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,A0=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,$r=d}).apply(typeof Sv<"u"?Sv:typeof self<"u"?self:typeof window<"u"?window:{});var Mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var S0,Rl,b0,Hc,am,w0,R0,C0;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mc=="object"&&Mc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function l(u,m){if(m)t:{var v=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in v))break t;v=v[U]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,U,B){for(var Z=Array(arguments.length-2),At=2;At<arguments.length;At++)Z[At-2]=arguments[At];return m.prototype[U].apply(T,Z)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function W(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const B=U.length||0;u.length=v+B;for(let Z=0;Z<B;Z++)u[v+Z]=U[Z]}else u.push(U)}}class nt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function it(u){d.setTimeout(()=>{throw u},0)}function dt(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Tt{constructor(){this.h=this.g=null}add(m,v){const T=yt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var yt=new nt(()=>new bt,u=>u.reset());class bt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Wt,Pt=!1,I=new Tt,b=()=>{const u=Promise.resolve(void 0);Wt=()=>{u.then(C)}};function C(){for(var u;u=dt();){try{u.h.call(u.g)}catch(v){it(v)}var m=yt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Pt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function se(u,m){x.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(se,x),se.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&se.Z.h.call(this)},se.prototype.h=function(){se.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ne="closure_listenable_"+(Math.random()*1e6|0),F=0;function tt(u,m,v,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=U,this.key=++F,this.da=this.fa=!1}function ht(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ut(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Ft(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(u,m){let v,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(v in T)u[v]=T[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,v,T,U){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const Z=wt(u,m,T,U);return Z>-1?(m=u[Z],v||(m.fa=!1)):(m=new tt(m,this.src,B,!!T,U),m.fa=v,u.push(m)),m};function gt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],U=Array.prototype.indexOf.call(T,m,void 0),B;(B=U>=0)&&Array.prototype.splice.call(T,U,1),B&&(ht(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function wt(u,m,v,T){for(let U=0;U<u.length;++U){const B=u[U];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return U}return-1}var kt="closure_lm_"+(Math.random()*1e6|0),De={};function ae(u,m,v,T,U){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ae(u,m[B],v,T,U);return null}return v=vo(v),u&&u[Ne]?u.J(m,v,p(T)?!!T.capture:!1,U):ss(u,m,v,!1,T,U)}function ss(u,m,v,T,U,B){if(!m)throw Error("Invalid event type");const Z=p(U)?!!U.capture:!!U;let At=as(u);if(At||(u[kt]=At=new st(u)),v=At.add(m,v,T,Z,B),v.proxy)return v;if(T=Zs(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)L||(U=Z),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(ni(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Zs(){function u(v){return m.call(u.src,u.listener,v)}const m=yo;return u}function Ws(u,m,v,T,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)Ws(u,m[B],v,T,U);else T=p(T)?!!T.capture:!!T,v=vo(v),u&&u[Ne]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=wt(m,v,T,U),v>-1&&(ht(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=as(u))&&(m=u.g[m.toString()],u=-1,m&&(u=wt(m,v,T,U)),(v=u>-1?m[u]:null)&&ta(v))}function ta(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ne])gt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(ni(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=as(m))?(gt(v,u),v.h==0&&(v.src=null,m[kt]=null)):ht(u)}}}function ni(u){return u in De?De[u]:De[u]="on"+u}function yo(u,m){if(u.da)u=!0;else{m=new se(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&ta(u),u=v.call(T,m)}return u}function as(u){return u=u[kt],u instanceof st?u:null}var _o="__closure_events_fn_"+(Math.random()*1e9>>>0);function vo(u){return typeof u=="function"?u:(u[_o]||(u[_o]=function(m){return u.handleEvent(m)}),u[_o])}function ye(){M.call(this),this.i=new st(this),this.M=this,this.G=null}S(ye,M),ye.prototype[Ne]=!0,ye.prototype.removeEventListener=function(u,m,v,T){Ws(this,u,m,v,T)};function xe(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new x(m,u);else if(m instanceof x)m.target=m.target||u;else{var U=m;m=new x(T,u),et(m,U)}U=!0;let B,Z;if(v)for(Z=v.length-1;Z>=0;Z--)B=m.g=v[Z],U=lr(B,T,!0,m)&&U;if(B=m.g=u,U=lr(B,T,!0,m)&&U,U=lr(B,T,!1,m)&&U,v)for(Z=0;Z<v.length;Z++)B=m.g=v[Z],U=lr(B,T,!1,m)&&U}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ht(v[T]);delete u.g[m],u.h--}}this.G=null},ye.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},ye.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function lr(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let B=0;B<m.length;++B){const Z=m[B];if(Z&&!Z.da&&Z.capture==v){const At=Z.listener,de=Z.ha||Z.src;Z.fa&&gt(u.i,Z),U=At.call(de,T)!==!1&&U}}return U&&!T.defaultPrevented}function Vh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function ru(u){u.g=Vh(()=>{u.g=null,u.i&&(u.i=!1,ru(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class tn extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ru(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function os(u){M.call(this),this.h=u,this.g={}}S(os,M);var Eo=[];function To(u){Ut(u.g,function(m,v){this.g.hasOwnProperty(v)&&ta(m)},u),u.g={}}os.prototype.N=function(){os.Z.N.call(this),To(this)},os.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ur=d.JSON.stringify,Mh=d.JSON.parse,su=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function au(){}function ou(){}var Pn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){x.call(this,"d")}S(ze,x);function Sn(){x.call(this,"c")}S(Sn,x);var fe={},lu=null;function ea(){return lu=lu||new ye}fe.Ia="serverreachability";function uu(u){x.call(this,fe.Ia,u)}S(uu,x);function ii(u){const m=ea();xe(m,new uu(m))}fe.STAT_EVENT="statevent";function ls(u,m){x.call(this,fe.STAT_EVENT,u),this.stat=m}S(ls,x);function _e(u){const m=ea();xe(m,new ls(m,u))}fe.Ja="timingevent";function ri(u,m){x.call(this,fe.Ja,u),this.size=m}S(ri,x);function si(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function kh(u,m,v,T,U,B){u.info(function(){if(u.g)if(B){var Z="",At=B.split("&");for(let Bt=0;Bt<At.length;Bt++){var de=At[Bt].split("=");if(de.length>1){const oe=de[0];de=de[1];const Cn=oe.split("_");Z=Cn.length>=2&&Cn[1]=="type"?Z+(oe+"="+de+"&"):Z+(oe+"=redacted&")}}}else Z=null;else Z=B;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+v+`
`+Z})}function cu(u,m,v,T,U,B,Z){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+v+`
`+B+" "+Z})}function ai(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Lh(u,v)+(T?" "+T:"")})}function us(u,m){u.info(function(){return"TIMEOUT: "+m})}zn.prototype.info=function(){};function Lh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let Z=1;Z<T.length;Z++)T[Z]=""}}}}return ur(B)}catch{return m}}var cs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ao={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},So;function hs(){}S(hs,au),hs.prototype.g=function(){return new XMLHttpRequest},So=new hs;function Mi(u){return encodeURIComponent(String(u))}function hu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function jn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new os(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var ve={},ke={};function oi(u,m,v){u.M=1,u.A=fs(Te(m)),u.u=v,u.R=!0,na(u,null)}function na(u,m){u.F=Date.now(),li(u),u.B=Te(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),aa(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Bn,u.g=Ru(u.j,v?m:null,!u.u),u.P>0&&(u.O=new tn(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(Eo[0]=U.toString()),U=Eo);for(let B=0;B<U.length;B++){const Z=ae(v,U[B],T||m.handleEvent,!1,m.h||m);if(!Z)break;m.g[Z.key]=Z}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ii(),kh(u.i,u.v,u.B,u.l,u.S,u.u)}jn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Fn(u)==3?m.j():this.Y(u)},jn.prototype.Y=function(u){try{if(u==this.g)t:{const At=Fn(this.g),de=this.g.ya(),Bt=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||je(this.g)))){this.K||At!=4||de==7||(de==8||Bt<=0?ii(3):ii(2)),ui(this);var m=this.g.ca();this.X=m;var v=Uh(this);if(this.o=m==200,cu(this.i,this.v,this.B,this.l,this.S,At,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var B=T;break e}}B=null}if(u=B)ai(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ci(this,u);else{this.o=!1,this.m=3,_e(12),dn(this),bn(this);break t}}if(this.R){u=!0;let oe;for(;!this.K&&this.C<v.length;)if(oe=du(this,v),oe==ke){At==4&&(this.m=4,_e(14),u=!1),ai(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==ve){this.m=4,_e(15),ai(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ai(this.i,this.l,oe,null),ci(this,oe);if(fu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||v.length!=0||this.h.h||(this.m=1,_e(16),u=!1),this.o=this.o&&u,!u)ai(this.i,this.l,v,"[Invalid Chunked Response]"),dn(this),bn(this);else if(v.length>0&&!this.W){this.W=!0;var Z=this.j;Z.g==this&&Z.aa&&!Z.P&&(Z.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Po(Z),Z.P=!0,_e(11))}}else ai(this.i,this.l,v,null),ci(this,v);At==4&&dn(this),this.o&&!this.K&&(At==4?Au(this.j,this):(this.o=!1,li(this)))}else Li(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,_e(12)):(this.m=0,_e(13)),dn(this),bn(this)}}}catch{}};function Uh(u){if(!fu(u))return u.g.la();const m=je(u.g);if(m==="")return"";let v="";const T=m.length,U=Fn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return dn(u),bn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(U&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function fu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function du(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?ke:(v=Number(m.substring(v,T)),isNaN(v)?ve:(T+=1,T+v>m.length?ke:(m=m.slice(T,T+v),u.C=T+v,m)))}jn.prototype.cancel=function(){this.K=!0,dn(this)};function li(u){u.T=Date.now()+u.H,ia(u,u.H)}function ia(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=si(_(u.aa,u),m)}function ui(u){u.D&&(d.clearTimeout(u.D),u.D=null)}jn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(us(this.i,this.B),this.M!=2&&(ii(),_e(17)),dn(this),this.m=2,bn(this)):ia(this,this.T-u)};function bn(u){u.j.I==0||u.K||Au(u.j,u)}function dn(u){ui(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,To(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ci(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||fi(v.h,u))){if(!u.L&&fi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ha(v),yr(v);else break t;vs(v),_e(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=si(_(v.Va,v),6e3));hi(v.h)<=1&&v.ta&&(v.ta=void 0)}else _i(v,11)}else if((u.L||v.g==u)&&ha(v),!w(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Bt=U[m];const oe=Bt[0];if(!(oe<=v.K))if(v.K=oe,Bt=Bt[1],v.I==2)if(Bt[0]=="c"){v.M=Bt[1],v.ba=Bt[2];const Cn=Bt[3];Cn!=null&&(v.ka=Cn,v.j.info("VER="+v.ka));const vi=Bt[4];vi!=null&&(v.za=vi,v.j.info("SVER="+v.za));const Gn=Bt[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(T=1.5*Gn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Kn=u.g;if(Kn){const Es=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Es){var B=T.h;B.g||Es.indexOf("spdy")==-1&&Es.indexOf("quic")==-1&&Es.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Ro(B,B.h),B.h=null))}if(T.G){const fa=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;fa&&(T.wa=fa,Gt(T.J,T.G,fa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var Z=u;if(T.na=wu(T,T.L?T.ba:null,T.W),Z.L){Co(T.h,Z);var At=Z,de=T.O;de&&(At.H=de),At.D&&(ui(At),li(At)),T.g=Z}else Eu(T);v.i.length>0&&yi(v)}else Bt[0]!="stop"&&Bt[0]!="close"||_i(v,7);else v.I==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?_i(v,7):Lo(v):Bt[0]!="noop"&&v.l&&v.l.qa(Bt),v.A=0)}}ii(4)}catch{}}var Ee=class{constructor(u,m){this.g=u,this.map=m}};function bo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function wo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function hi(u){return u.h?1:u.g?u.g.size:0}function fi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ro(u,m){u.g?u.g.add(m):u.h=m}function Co(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}bo.prototype.cancel=function(){if(this.i=Io(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Io(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return G(u.i)}var mu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ra(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let U,B=null;T>=0?(U=u[v].substring(0,T),B=u[v].substring(T+1)):U=u[v],m(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function mn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof mn?(this.l=u.l,Le(this,u.j),this.o=u.o,this.g=u.g,cr(this,u.u),this.h=u.h,No(this,_u(u.i)),this.m=u.m):u&&(m=String(u).match(mu))?(this.l=!1,Le(this,m[1]||"",!0),this.o=di(m[2]||""),this.g=di(m[3]||"",!0),cr(this,m[4]),this.h=di(m[5]||"",!0),No(this,m[6]||"",!0),this.m=di(m[7]||"")):(this.l=!1,this.i=new fr(null,this.l))}mn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ds(m,sa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ds(m,sa,!0),"@"),u.push(Mi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(ds(v,v.charAt(0)=="/"?Do:pu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",ds(v,gu)),u.join("")},mn.prototype.resolve=function(u){const m=Te(this);let v=!!u.j;v?Le(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)cr(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let Z=0;Z<U.length;){const At=U[Z++];At=="."?T&&Z==U.length&&B.push(""):At==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&Z==U.length&&B.push("")):(B.push(At),T=!0)}T=B.join("/")}else T=U}return v?m.h=T:v=u.i.toString()!=="",v?No(m,_u(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Te(u){return new mn(u)}function Le(u,m,v){u.j=v?di(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function cr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function No(u,m,v){m instanceof fr?(u.i=m,oa(u.i,u.l)):(v||(m=ds(m,hr)),u.i=new fr(m,u.l))}function Gt(u,m,v){u.i.set(m,v)}function fs(u){return Gt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function di(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ds(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,rn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function rn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var sa=/[#\/\?@]/g,pu=/[#\?:]/g,Do=/[#\?]/g,hr=/[#\?@]/g,gu=/#/g;function fr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function sn(u){u.g||(u.g=new Map,u.h=0,u.i&&ra(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=fr.prototype,r.add=function(u,m){sn(this),this.i=null,u=dr(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function yu(u,m){sn(u),m=dr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function xo(u,m){return sn(u),m=dr(u,m),u.g.has(m)}r.forEach=function(u,m){sn(this),this.g.forEach(function(v,T){v.forEach(function(U){u.call(m,U,T,this)},this)},this)};function Oo(u,m){sn(u);let v=[];if(typeof m=="string")xo(u,m)&&(v=v.concat(u.g.get(dr(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return sn(this),this.i=null,u=dr(this,u),xo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Oo(this,u),u.length>0?String(u[0]):m):m};function aa(u,m,v){yu(u,m),v.length>0&&(u.i=null,u.g.set(dr(u,m),G(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const U=Mi(v);v=Oo(this,v);for(let B=0;B<v.length;B++){let Z=U;v[B]!==""&&(Z+="="+Mi(v[B])),u.push(Z)}}return this.i=u.join("&")};function _u(u){const m=new fr;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function dr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function oa(u,m){m&&!u.j&&(sn(u),u.i=null,u.g.forEach(function(v,T){const U=T.toLowerCase();T!=U&&(yu(this,T),aa(this,U,v))},u)),u.j=m}function qn(u,m){const v=new zn;if(d.Image){const T=new Image;T.onload=A(wn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(wn,v,"TestLoadImage: error",!1,m,T),T.onabort=A(wn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(wn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Vo(u,m){const v=new zn,T=new AbortController,U=setTimeout(()=>{T.abort(),wn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(U),B.ok?wn(v,"TestPingServer: ok",!0,m):wn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),wn(v,"TestPingServer: error",!1,m)})}function wn(u,m,v,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(v)}catch{}}function mr(){this.g=new su}function mi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(mi,au),mi.prototype.g=function(){return new ms(this.i,this.h)};function ms(u,m){ye.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(ms,ye),r=ms.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Hn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,pr(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;la(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function la(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?pr(this):Hn(this),this.readyState==3&&la(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,pr(this))},r.Na=function(u){this.g&&(this.response=u,pr(this))},r.ga=function(){this.g&&pr(this)};function pr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Hn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Hn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ms.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Rn(u){let m="";return Ut(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function ps(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Rn(v),typeof u=="string"?v!=null&&Mi(v):Gt(u,m,v))}function Yt(u){ye.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Yt,ye);var pi=/^https?$/i,Mo=["POST","PUT"];r=Yt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():So.g(),this.g.onreadystatechange=V(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){gs(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)v.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Mo,m,void 0)>=0)||T||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,Z]of v)this.g.setRequestHeader(B,Z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){gs(this,B)}};function gs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,ko(u),ki(u)}function ko(u){u.A||(u.A=!0,xe(u,"complete"),xe(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,xe(this,"complete"),xe(this,"abort"),ki(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ki(this,!0)),Yt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ys(this):this.Xa())},r.Xa=function(){ys(this)};function ys(u){if(u.h&&typeof c<"u"){if(u.v&&Fn(u)==4)setTimeout(u.Ca.bind(u),0);else if(xe(u,"readystatechange"),Fn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let Z=String(u.D).match(mu)[1]||null;!Z&&d.self&&d.self.location&&(Z=d.self.location.protocol.slice(0,-1)),T=!pi.test(Z?Z.toLowerCase():"")}v=T}if(v)xe(u,"complete"),xe(u,"success");else{u.o=6;try{var U=Fn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",ko(u)}}finally{ki(u)}}}}function ki(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||xe(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Fn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Fn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Mh(m)}};function je(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Li(u){const m={};u=(u.g&&Fn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var v=hu(u[T]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[U]||[];m[U]=B,B.push(v)}Ft(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function gi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function gr(u){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=gi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=gi("baseRetryDelayMs",5e3,u),this.Za=gi("retryDelaySeedMs",1e4,u),this.Ta=gi("forwardChannelMaxRetries",2,u),this.va=gi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new bo(u&&u.concurrentRequestLimit),this.Ba=new mr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=gr.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){_e(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=wu(this,null,this.W),yi(this)};function Lo(u){if(ua(u),u.I==3){var m=u.V++,v=Te(u.J);if(Gt(v,"SID",u.M),Gt(v,"RID",m),Gt(v,"TYPE","terminate"),_s(u,v),m=new jn(u,u.j,m),m.M=2,m.A=fs(Te(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Ru(m.j,null),m.g.ea(m.A)),m.F=Date.now(),li(m)}bu(u)}function yr(u){u.g&&(Po(u),u.g.cancel(),u.g=null)}function ua(u){yr(u),u.v&&(d.clearTimeout(u.v),u.v=null),ha(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function yi(u){if(!wo(u.h)&&!u.m){u.m=!0;var m=u.Ea;Wt||b(),Pt||(Wt(),Pt=!0),I.add(m,u),u.D=0}}function ca(u,m){return hi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=si(_(u.Ea,u,m),Su(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new jn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),et(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=vu(this,U,m),v=Te(this.J),Gt(v,"RID",u),Gt(v,"CVER",22),this.G&&Gt(v,"X-HTTP-Session-Id",this.G),_s(this,v),B&&(this.R?m="headers="+Mi(Rn(B))+"&"+m:this.u&&ps(v,this.u,B)),Ro(this.h,U),this.Ra&&Gt(v,"TYPE","init"),this.S?(Gt(v,"$req",m),Gt(v,"SID","null"),U.U=!0,oi(U,v,null)):oi(U,v,m),this.I=2}}else this.I==3&&(u?Uo(this,u):this.i.length==0||wo(this.h)||Uo(this))};function Uo(u,m){var v;m?v=m.l:v=u.V++;const T=Te(u.J);Gt(T,"SID",u.M),Gt(T,"RID",v),Gt(T,"AID",u.K),_s(u,T),u.u&&u.o&&ps(T,u.u,u.o),v=new jn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=vu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ro(u.h,v),oi(v,T,m)}function _s(u,m){u.H&&Ut(u.H,function(v,T){Gt(m,T,v)}),u.l&&Ut({},function(v,T){Gt(m,T,v)})}function vu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var U=u.i;let At=-1;for(;;){const de=["count="+v];At==-1?v>0?(At=U[0].g,de.push("ofs="+At)):At=0:de.push("ofs="+At);let Bt=!0;for(let oe=0;oe<v;oe++){var B=U[oe].g;const Cn=U[oe].map;if(B-=At,B<0)At=Math.max(0,U[oe].g-100),Bt=!1;else try{B="req"+B+"_"||"";try{var Z=Cn instanceof Map?Cn:Object.entries(Cn);for(const[vi,Gn]of Z){let Kn=Gn;p(Gn)&&(Kn=ur(Gn)),de.push(B+vi+"="+encodeURIComponent(Kn))}}catch(vi){throw de.push(B+"type="+encodeURIComponent("_badmap")),vi}}catch{T&&T(Cn)}}if(Bt){Z=de.join("&");break t}}Z=void 0}return u=u.i.splice(0,v),m.G=u,Z}function Eu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Wt||b(),Pt||(Wt(),Pt=!0),I.add(m,u),u.A=0}}function vs(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=si(_(u.Da,u),Su(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Tu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=si(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_e(10),yr(this),Tu(this))};function Po(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Tu(u){u.g=new jn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Te(u.na);Gt(m,"RID","rpc"),Gt(m,"SID",u.M),Gt(m,"AID",u.K),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Gt(m,"TO",u.ia),Gt(m,"TYPE","xmlhttp"),_s(u,m),u.u&&u.o&&ps(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=fs(Te(m)),v.u=null,v.R=!0,na(v,u)}r.Va=function(){this.C!=null&&(this.C=null,yr(this),vs(this),_e(19))};function ha(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Au(u,m){var v=null;if(u.g==m){ha(u),Po(u),u.g=null;var T=2}else if(fi(u.h,m))v=m.G,Co(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=ea(),xe(T,new ri(T,v)),yi(u)}else Eu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&ca(u,m)||T==2&&vs(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:_i(u,5);break;case 4:_i(u,10);break;case 3:_i(u,6);break;default:_i(u,2)}}}function Su(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function _i(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const U=!T;T=new mn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Le(T,"https"),fs(T),U?qn(T.toString(),v):Vo(T.toString(),v)}else _e(2);u.I=0,u.l&&u.l.pa(m),bu(u),ua(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function bu(u){if(u.I=0,u.ja=[],u.l){const m=Io(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function wu(u,m,v){var T=v instanceof mn?Te(v):new mn(v);if(T.g!="")m&&(T.g=m+"."+T.g),cr(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const B=new mn(null);T&&Le(B,T),m&&(B.g=m),U&&cr(B,U),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&Gt(T,v,m),Gt(T,"VER",u.ka),_s(u,T),T}function Ru(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Yt(new mi({ab:v})):new Yt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cu(){}r=Cu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function _r(){}_r.prototype.g=function(u,m){return new en(u,m)};function en(u,m){ye.call(this),this.g=new gr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ui(this)}S(en,ye),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Lo(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ur(u),u=v);m.i.push(new Ee(m.Ya++,u)),m.I==3&&yi(m)},en.prototype.N=function(){this.g.l=null,delete this.j,Lo(this.g),delete this.g,en.Z.N.call(this)};function Iu(u){ze.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Iu,ze);function Nu(){Sn.call(this),this.status=1}S(Nu,Sn);function Ui(u){this.g=u}S(Ui,Cu),Ui.prototype.ra=function(){xe(this.g,"a")},Ui.prototype.qa=function(u){xe(this.g,new Iu(u))},Ui.prototype.pa=function(u){xe(this.g,new Nu)},Ui.prototype.oa=function(){xe(this.g,"b")},_r.prototype.createWebChannel=_r.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,C0=function(){return new _r},R0=function(){return ea()},w0=fe,am={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},cs.NO_ERROR=0,cs.TIMEOUT=8,cs.HTTP_ERROR=6,Hc=cs,Ao.COMPLETE="complete",b0=Ao,ou.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",ye.prototype.listen=ye.prototype.J,Rl=ou,Yt.prototype.listenOnce=Yt.prototype.K,Yt.prototype.getLastError=Yt.prototype.Ha,Yt.prototype.getLastErrorCode=Yt.prototype.ya,Yt.prototype.getStatus=Yt.prototype.ca,Yt.prototype.getResponseJson=Yt.prototype.La,Yt.prototype.getResponseText=Yt.prototype.la,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Fa,S0=Yt}).apply(typeof Mc<"u"?Mc:typeof self<"u"?self:typeof window<"u"?window:{});class $e{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");let ho="12.8.0";function A2(r){ho=r}const Ks=new wm("@firebase/firestore");function qa(){return Ks.logLevel}function rt(r,...t){if(Ks.logLevel<=xt.DEBUG){const i=t.map(Lm);Ks.debug(`Firestore (${ho}): ${r}`,...i)}}function ir(r,...t){if(Ks.logLevel<=xt.ERROR){const i=t.map(Lm);Ks.error(`Firestore (${ho}): ${r}`,...i)}}function eo(r,...t){if(Ks.logLevel<=xt.WARN){const i=t.map(Lm);Ks.warn(`Firestore (${ho}): ${r}`,...i)}}function Lm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function pt(r,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,I0(r,s,i)}function I0(r,t,i){let s=`FIRESTORE (${ho}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw ir(s),new Error(s)}function Ht(r,t,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,r||I0(t,l,s)}function Et(r,t){return r}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends sr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class zs{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class N0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class S2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i($e.UNAUTHENTICATED)))}shutdown(){}}class b2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class w2{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ht(this.o===void 0,42304);let s=this.i;const l=y=>this.i!==s?(s=this.i,i(y)):Promise.resolve();let c=new zs;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new zs,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new zs)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ht(typeof s.accessToken=="string",31837,{l:s}),new N0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class R2{constructor(t,i,s){this.P=t,this.T=i,this.I=s,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class C2{constructor(t,i,s){this.P=t,this.T=i,this.I=s}getToken(){return Promise.resolve(new R2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class bv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class I2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ht(this.o===void 0,3512);const s=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>s(c)))};const l=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new bv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new bv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function N2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class Um{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=N2(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=t.charAt(l[c]%62))}return s}}function Ot(r,t){return r<t?-1:r>t?1:0}function om(r,t){const i=Math.min(r.length,t.length);for(let s=0;s<i;s++){const l=r.charAt(s),c=t.charAt(s);if(l!==c)return Gd(l)===Gd(c)?Ot(l,c):Gd(l)?1:-1}return Ot(r.length,t.length)}const D2=55296,x2=57343;function Gd(r){const t=r.charCodeAt(0);return t>=D2&&t<=x2}function no(r,t,i){return r.length===t.length&&r.every(((s,l)=>i(s,t[l])))}const wv="__name__";class bi{constructor(t,i,s){i===void 0?i=0:i>t.length&&pt(637,{offset:i,range:t.length}),s===void 0?s=t.length-i:s>t.length-i&&pt(1746,{length:s,range:t.length-i}),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return bi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof bi?t.forEach((s=>{i.push(s)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let l=0;l<s;l++){const c=bi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Ot(t.length,i.length)}static compareSegments(t,i){const s=bi.isNumericId(t),l=bi.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?bi.extractNumericId(t).compare(bi.extractNumericId(i)):om(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return $r.fromString(t.substring(4,t.length-2))}}class te extends bi{construct(t,i,s){return new te(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new at(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((l=>l.length>0)))}return new te(i)}static emptyPath(){return new te([])}}const O2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ke extends bi{construct(t,i,s){return new Ke(t,i,s)}static isValidIdentifier(t){return O2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ke.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wv}static keyField(){return new Ke([wv])}static fromServerFormat(t){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new at(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new at(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new at(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(s+=p,l++):(c(),l++)}if(c(),d)throw new at(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ke(i)}static emptyPath(){return new Ke([])}}class ct{constructor(t){this.path=t}static fromPath(t){return new ct(te.fromString(t))}static fromName(t){return new ct(te.fromString(t).popFirst(5))}static empty(){return new ct(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&te.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return te.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ct(new te(t.slice()))}}function D0(r,t,i){if(!i)throw new at(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function V2(r,t,i,s){if(t===!0&&s===!0)throw new at(X.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Rv(r){if(!ct.isDocumentKey(r))throw new at(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Cv(r){if(ct.isDocumentKey(r))throw new at(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function x0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Eh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":pt(12329,{type:typeof r})}function $a(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new at(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Eh(r);throw new at(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Ie(r,t){const i={typeString:r};return t&&(i.value=t),i}function Zl(r,t){if(!x0(r))throw new at(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in t)if(t[s]){const l=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(l&&typeof d!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new at(X.INVALID_ARGUMENT,i);return!0}const Iv=-62135596800,Nv=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*Nv);return new re(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new at(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new at(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Iv)throw new at(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new at(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Nv}_compareTo(t){return this.seconds===t.seconds?Ot(this.nanoseconds,t.nanoseconds):Ot(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Zl(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Iv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:Ie("string",re._jsonSchemaVersion),seconds:Ie("number"),nanoseconds:Ie("number")};class _t{static fromTimestamp(t){return new _t(t)}static min(){return new _t(new re(0,0))}static max(){return new _t(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const zl=-1;function M2(r,t){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=_t.fromTimestamp(s===1e9?new re(i+1,0):new re(i,s));return new Zr(l,ct.empty(),t)}function k2(r){return new Zr(r.readTime,r.key,zl)}class Zr{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new Zr(_t.min(),ct.empty(),zl)}static max(){return new Zr(_t.max(),ct.empty(),zl)}}function L2(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=ct.comparator(r.documentKey,t.documentKey),i!==0?i:Ot(r.largestBatchId,t.largestBatchId))}const U2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class P2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function fo(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==U2)throw r;rt("LocalStore","Unexpectedly lost primary lease")}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,s)=>{i(t)}))}static reject(t){return new $(((i,s)=>{s(t)}))}static waitFor(t){return new $(((i,s)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>s(y)))})),d=!0,c===l&&i()}))}static or(t){let i=$.resolve(!1);for(const s of t)i=i.next((l=>l?$.resolve(l):s()));return i}static forEach(t,i){const s=[];return t.forEach(((l,c)=>{s.push(i.call(this,l,c))})),this.waitFor(s)}static mapArray(t,i){return new $(((s,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((A=>{d[_]=A,++p,p===c&&s(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new $(((s,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):s()};c()}))}}function z2(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function mo(r){return r.name==="IndexedDbTransactionError"}class Th{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Th.ce=-1;const Pm=-1;function Ah(r){return r==null}function ih(r){return r===0&&1/r==-1/0}function j2(r){return typeof r=="number"&&Number.isInteger(r)&&!ih(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const O0="";function B2(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=Dv(t)),t=q2(r.get(i),t);return Dv(t)}function q2(r,t){let i=t;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case O0:i+="";break;default:i+=c}}return i}function Dv(r){return r+O0+""}function xv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function Ys(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function V0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ue{constructor(t,i){this.comparator=t,this.root=i||Ge.EMPTY}insert(t,i){return new ue(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,s)=>(t(i,s),!1)))}toString(){const t=[];return this.inorderTraversal(((i,s)=>(t.push(`${i}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new kc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new kc(this.root,t,this.comparator,!1)}getReverseIterator(){return new kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new kc(this.root,t,this.comparator,!0)}}class kc{constructor(t,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?s(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,i,s,l,c){this.key=t,this.value=i,this.color=s??Ge.RED,this.left=l??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,l,c){return new Ge(t??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ge.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw pt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(t,i,s,l,c){return this}insert(t,i,s){return new Ge(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,s)=>(t(i),!1)))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Ov(this.data.getIterator())}getIteratorFrom(t){return new Ov(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((s=>{i=i.add(s)})),i}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Me(this.comparator);return i.data=t,i}}class Ov{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Jn{constructor(t){this.fields=t,t.sort(Ke.comparator)}static empty(){return new Jn([])}unionWith(t){let i=new Me(Ke.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new Jn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return no(this.fields,t.fields,((i,s)=>i.isEqual(s)))}}class M0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new M0("Invalid base64 string: "+c):c}})(t);return new Qe(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Qe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ot(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const H2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wr(r){if(Ht(!!r,39018),typeof r=="string"){let t=0;const i=H2.exec(r);if(Ht(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ts(r){return typeof r=="string"?Qe.fromBase64String(r):Qe.fromUint8Array(r)}const k0="server_timestamp",L0="__type__",U0="__previous_value__",P0="__local_write_time__";function zm(r){return(r?.mapValue?.fields||{})[L0]?.stringValue===k0}function Sh(r){const t=r.mapValue.fields[U0];return zm(t)?Sh(t):t}function jl(r){const t=Wr(r.mapValue.fields[P0].timestampValue);return new re(t.seconds,t.nanos)}class F2{constructor(t,i,s,l,c,d,p,y,_,A,S){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=A,this.apiKey=S}}const rh="(default)";class Bl{constructor(t,i){this.projectId=t,this.database=i||rh}static empty(){return new Bl("","")}get isDefaultDatabase(){return this.database===rh}isEqual(t){return t instanceof Bl&&t.projectId===this.projectId&&t.database===this.database}}function G2(r,t){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new at(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bl(r.options.projectId,t)}const z0="__type__",K2="__max__",Lc={mapValue:{}},j0="__vector__",sh="value";function es(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?zm(r)?4:Y2(r)?9007199254740991:Q2(r)?10:11:pt(28295,{value:r})}function Vi(r,t){if(r===t)return!0;const i=es(r);if(i!==es(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return jl(r).isEqual(jl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Wr(l.timestampValue),p=Wr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return ts(l.bytesValue).isEqual(ts(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return ge(l.geoPointValue.latitude)===ge(c.geoPointValue.latitude)&&ge(l.geoPointValue.longitude)===ge(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ge(l.integerValue)===ge(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ge(l.doubleValue),p=ge(c.doubleValue);return d===p?ih(d)===ih(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return no(r.arrayValue.values||[],t.arrayValue.values||[],Vi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(xv(d)!==xv(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Vi(d[y],p[y])))return!1;return!0})(r,t);default:return pt(52216,{left:r})}}function ql(r,t){return(r.values||[]).find((i=>Vi(i,t)))!==void 0}function io(r,t){if(r===t)return 0;const i=es(r),s=es(t);if(i!==s)return Ot(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ot(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=ge(c.integerValue||c.doubleValue),y=ge(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(r,t);case 3:return Vv(r.timestampValue,t.timestampValue);case 4:return Vv(jl(r),jl(t));case 5:return om(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=ts(c),y=ts(d);return p.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const A=Ot(p[_],y[_]);if(A!==0)return A}return Ot(p.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Ot(ge(c.latitude),ge(d.latitude));return p!==0?p:Ot(ge(c.longitude),ge(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Mv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[sh]?.arrayValue,A=y[sh]?.arrayValue,S=Ot(_?.values?.length||0,A?.values?.length||0);return S!==0?S:Mv(_,A)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Lc.mapValue&&d===Lc.mapValue)return 0;if(c===Lc.mapValue)return 1;if(d===Lc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},A=Object.keys(_);y.sort(),A.sort();for(let S=0;S<y.length&&S<A.length;++S){const V=om(y[S],A[S]);if(V!==0)return V;const G=io(p[y[S]],_[A[S]]);if(G!==0)return G}return Ot(y.length,A.length)})(r.mapValue,t.mapValue);default:throw pt(23264,{he:i})}}function Vv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ot(r,t);const i=Wr(r),s=Wr(t),l=Ot(i.seconds,s.seconds);return l!==0?l:Ot(i.nanos,s.nanos)}function Mv(r,t){const i=r.values||[],s=t.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=io(i[l],s[l]);if(c)return c}return Ot(i.length,s.length)}function ro(r){return lm(r)}function lm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=Wr(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return ts(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ct.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=lm(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${lm(i.fields[d])}`;return l+"}"})(r.mapValue):pt(61005,{value:r})}function Fc(r){switch(es(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Sh(r);return t?16+Fc(t):16;case 5:return 2*r.stringValue.length;case 6:return ts(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+Fc(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return Ys(s.fields,((c,d)=>{l+=c.length+Fc(d)})),l})(r.mapValue);default:throw pt(13486,{value:r})}}function kv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function um(r){return!!r&&"integerValue"in r}function jm(r){return!!r&&"arrayValue"in r}function Lv(r){return!!r&&"nullValue"in r}function Uv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Gc(r){return!!r&&"mapValue"in r}function Q2(r){return(r?.mapValue?.fields||{})[z0]?.stringValue===j0}function Ol(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Ys(r.mapValue.fields,((i,s)=>t.mapValue.fields[i]=Ol(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Ol(r.arrayValue.values[i]);return t}return{...r}}function Y2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===K2}class Ln{constructor(t){this.value=t}static empty(){return new Ln({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!Gc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ol(i)}setAll(t){let i=Ke.emptyPath(),s={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,s,l),s={},l=[],i=p.popLast()}d?s[p.lastSegment()]=Ol(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(t){const i=this.field(t.popLast());Gc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Vi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=i.mapValue.fields[t.get(s)];Gc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,s){Ys(i,((l,c)=>t[l]=c));for(const l of s)delete t[l]}clone(){return new Ln(Ol(this.value))}}function B0(r){const t=[];return Ys(r.fields,((i,s)=>{const l=new Ke([i]);if(Gc(s)){const c=B0(s.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Jn(t)}class Je{constructor(t,i,s,l,c,d,p){this.key=t,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Je(t,0,_t.min(),_t.min(),_t.min(),Ln.empty(),0)}static newFoundDocument(t,i,s,l){return new Je(t,1,i,_t.min(),s,l,0)}static newNoDocument(t,i){return new Je(t,2,i,_t.min(),_t.min(),Ln.empty(),0)}static newUnknownDocument(t,i){return new Je(t,3,i,_t.min(),_t.min(),Ln.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ah{constructor(t,i){this.position=t,this.inclusive=i}}function Pv(r,t,i){let s=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?s=ct.comparator(ct.fromName(d.referenceValue),i.key):s=io(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function zv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Vi(r.position[i],t.position[i]))return!1;return!0}class oh{constructor(t,i="asc"){this.field=t,this.dir=i}}function X2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class q0{}class Ce extends q0{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new J2(t,i,s):i==="array-contains"?new tC(t,s):i==="in"?new eC(t,s):i==="not-in"?new nC(t,s):i==="array-contains-any"?new iC(t,s):new Ce(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new Z2(t,s):new W2(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(io(i,this.value)):i!==null&&es(this.value)===es(i)&&this.matchesComparison(io(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ei extends q0{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new ei(t,i)}matches(t){return H0(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function H0(r){return r.op==="and"}function F0(r){return $2(r)&&H0(r)}function $2(r){for(const t of r.filters)if(t instanceof ei)return!1;return!0}function cm(r){if(r instanceof Ce)return r.field.canonicalString()+r.op.toString()+ro(r.value);if(F0(r))return r.filters.map((t=>cm(t))).join(",");{const t=r.filters.map((i=>cm(i))).join(",");return`${r.op}(${t})`}}function G0(r,t){return r instanceof Ce?(function(s,l){return l instanceof Ce&&s.op===l.op&&s.field.isEqual(l.field)&&Vi(s.value,l.value)})(r,t):r instanceof ei?(function(s,l){return l instanceof ei&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,d,p)=>c&&G0(d,l.filters[p])),!0):!1})(r,t):void pt(19439)}function K0(r){return r instanceof Ce?(function(i){return`${i.field.canonicalString()} ${i.op} ${ro(i.value)}`})(r):r instanceof ei?(function(i){return i.op.toString()+" {"+i.getFilters().map(K0).join(" ,")+"}"})(r):"Filter"}class J2 extends Ce{constructor(t,i,s){super(t,i,s),this.key=ct.fromName(s.referenceValue)}matches(t){const i=ct.comparator(t.key,this.key);return this.matchesComparison(i)}}class Z2 extends Ce{constructor(t,i){super(t,"in",i),this.keys=Q0("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class W2 extends Ce{constructor(t,i){super(t,"not-in",i),this.keys=Q0("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function Q0(r,t){return(t.arrayValue?.values||[]).map((i=>ct.fromName(i.referenceValue)))}class tC extends Ce{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return jm(i)&&ql(i.arrayValue,this.value)}}class eC extends Ce{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&ql(this.value.arrayValue,i)}}class nC extends Ce{constructor(t,i){super(t,"not-in",i)}matches(t){if(ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!ql(this.value.arrayValue,i)}}class iC extends Ce{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!jm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>ql(this.value.arrayValue,s)))}}class rC{constructor(t,i=null,s=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function jv(r,t=null,i=[],s=[],l=null,c=null,d=null){return new rC(r,t,i,s,l,c,d)}function Bm(r){const t=Et(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((s=>cm(s))).join(","),i+="|ob:",i+=t.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Ah(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((s=>ro(s))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((s=>ro(s))).join(",")),t.Te=i}return t.Te}function qm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!X2(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!G0(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!zv(r.startAt,t.startAt)&&zv(r.endAt,t.endAt)}function hm(r){return ct.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Wl{constructor(t,i=null,s=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function sC(r,t,i,s,l,c,d,p){return new Wl(r,t,i,s,l,c,d,p)}function Hm(r){return new Wl(r)}function Bv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function aC(r){return ct.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function Y0(r){return r.collectionGroup!==null}function Vl(r){const t=Et(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Me(Ke.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new oh(c,s))})),i.has(Ke.keyField().canonicalString())||t.Ie.push(new oh(Ke.keyField(),s))}return t.Ie}function Ii(r){const t=Et(r);return t.Ee||(t.Ee=oC(t,Vl(r))),t.Ee}function oC(r,t){if(r.limitType==="F")return jv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new oh(l.field,c)}));const i=r.endAt?new ah(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new ah(r.startAt.position,r.startAt.inclusive):null;return jv(r.path,r.collectionGroup,t,r.filters,r.limit,i,s)}}function fm(r,t){const i=r.filters.concat([t]);return new Wl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function dm(r,t,i){return new Wl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function bh(r,t){return qm(Ii(r),Ii(t))&&r.limitType===t.limitType}function X0(r){return`${Bm(Ii(r))}|lt:${r.limitType}`}function Ha(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((l=>K0(l))).join(", ")}]`),Ah(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>ro(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>ro(l))).join(",")),`Target(${s})`})(Ii(r))}; limitType=${r.limitType})`}function wh(r,t){return t.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ct.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,t)&&(function(s,l){for(const c of Vl(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(s,l){return!(s.startAt&&!(function(d,p,y){const _=Pv(d,p,y);return d.inclusive?_<=0:_<0})(s.startAt,Vl(s),l)||s.endAt&&!(function(d,p,y){const _=Pv(d,p,y);return d.inclusive?_>=0:_>0})(s.endAt,Vl(s),l))})(r,t)}function lC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function $0(r){return(t,i)=>{let s=!1;for(const l of Vl(r)){const c=uC(l,t,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function uC(r,t,i){const s=r.field.isKeyField()?ct.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?io(y,_):pt(42886)})(r.field,t,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return pt(19790,{direction:r.dir})}}class Xs{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Ys(this.inner,((i,s)=>{for(const[l,c]of s)t(l,c)}))}isEmpty(){return V0(this.inner)}size(){return this.innerSize}}const cC=new ue(ct.comparator);function rr(){return cC}const J0=new ue(ct.comparator);function Cl(...r){let t=J0;for(const i of r)t=t.insert(i.key,i);return t}function Z0(r){let t=J0;return r.forEach(((i,s)=>t=t.insert(i,s.overlayedDocument))),t}function Ps(){return Ml()}function W0(){return Ml()}function Ml(){return new Xs((r=>r.toString()),((r,t)=>r.isEqual(t)))}const hC=new ue(ct.comparator),fC=new Me(ct.comparator);function Vt(...r){let t=fC;for(const i of r)t=t.add(i);return t}const dC=new Me(Ot);function mC(){return dC}function Fm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ih(t)?"-0":t}}function tT(r){return{integerValue:""+r}}function pC(r,t){return j2(t)?tT(t):Fm(r,t)}class Rh{constructor(){this._=void 0}}function gC(r,t,i){return r instanceof Hl?(function(l,c){const d={fields:{[L0]:{stringValue:k0},[P0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&zm(c)&&(c=Sh(c)),c&&(d.fields[U0]=c),{mapValue:d}})(i,t):r instanceof Fl?nT(r,t):r instanceof Gl?iT(r,t):(function(l,c){const d=eT(l,c),p=qv(d)+qv(l.Ae);return um(d)&&um(l.Ae)?tT(p):Fm(l.serializer,p)})(r,t)}function yC(r,t,i){return r instanceof Fl?nT(r,t):r instanceof Gl?iT(r,t):i}function eT(r,t){return r instanceof lh?(function(s){return um(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(t)?t:{integerValue:0}:null}class Hl extends Rh{}class Fl extends Rh{constructor(t){super(),this.elements=t}}function nT(r,t){const i=rT(t);for(const s of r.elements)i.some((l=>Vi(l,s)))||i.push(s);return{arrayValue:{values:i}}}class Gl extends Rh{constructor(t){super(),this.elements=t}}function iT(r,t){let i=rT(t);for(const s of r.elements)i=i.filter((l=>!Vi(l,s)));return{arrayValue:{values:i}}}class lh extends Rh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function qv(r){return ge(r.integerValue||r.doubleValue)}function rT(r){return jm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class _C{constructor(t,i){this.field=t,this.transform=i}}function vC(r,t){return r.field.isEqual(t.field)&&(function(s,l){return s instanceof Fl&&l instanceof Fl||s instanceof Gl&&l instanceof Gl?no(s.elements,l.elements,Vi):s instanceof lh&&l instanceof lh?Vi(s.Ae,l.Ae):s instanceof Hl&&l instanceof Hl})(r.transform,t.transform)}class EC{constructor(t,i){this.version=t,this.transformResults=i}}class Ni{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Ni}static exists(t){return new Ni(void 0,t)}static updateTime(t){return new Ni(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Kc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Ch{}function sT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Gm(r.key,Ni.none()):new tu(r.key,r.data,Ni.none());{const i=r.data,s=Ln.empty();let l=new Me(Ke.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new $s(r.key,s,new Jn(l.toArray()),Ni.none())}}function TC(r,t,i){r instanceof tu?(function(l,c,d){const p=l.value.clone(),y=Fv(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof $s?(function(l,c,d){if(!Kc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Fv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(aT(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function kl(r,t,i,s){return r instanceof tu?(function(c,d,p,y){if(!Kc(c.precondition,d))return p;const _=c.value.clone(),A=Gv(c.fieldTransforms,y,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,t,i,s):r instanceof $s?(function(c,d,p,y){if(!Kc(c.precondition,d))return p;const _=Gv(c.fieldTransforms,y,d),A=d.data;return A.setAll(aT(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,t,i,s):(function(c,d,p){return Kc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function AC(r,t){let i=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),c=eT(s.transform,l||null);c!=null&&(i===null&&(i=Ln.empty()),i.set(s.field,c))}return i||null}function Hv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&no(s,l,((c,d)=>vC(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class tu extends Ch{constructor(t,i,s,l=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class $s extends Ch{constructor(t,i,s,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function aT(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);t.set(i,s)}})),t}function Fv(r,t,i){const s=new Map;Ht(r.length===i.length,32656,{Ve:i.length,de:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);s.set(c.field,yC(d,p,i[l]))}return s}function Gv(r,t,i){const s=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);s.set(l.field,gC(c,d,t))}return s}class Gm extends Ch{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SC extends Ch{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class bC{constructor(t,i,s,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&TC(c,t,s[l])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=kl(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=kl(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=W0();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=sT(d,p);y!==null&&s.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(_t.min())})),s}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Vt())}isEqual(t){return this.batchId===t.batchId&&no(this.mutations,t.mutations,((i,s)=>Hv(i,s)))&&no(this.baseMutations,t.baseMutations,((i,s)=>Hv(i,s)))}}class Km{constructor(t,i,s,l){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(t,i,s){Ht(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=(function(){return hC})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new Km(t,i,s,l)}}class wC{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class RC{constructor(t,i){this.count=t,this.unchangedNames=i}}var Re,Lt;function CC(r){switch(r){case X.OK:return pt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return pt(15467,{code:r})}}function oT(r){if(r===void 0)return ir("GRPC error has no .code"),X.UNKNOWN;switch(r){case Re.OK:return X.OK;case Re.CANCELLED:return X.CANCELLED;case Re.UNKNOWN:return X.UNKNOWN;case Re.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Re.INTERNAL:return X.INTERNAL;case Re.UNAVAILABLE:return X.UNAVAILABLE;case Re.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Re.NOT_FOUND:return X.NOT_FOUND;case Re.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Re.ABORTED:return X.ABORTED;case Re.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Re.DATA_LOSS:return X.DATA_LOSS;default:return pt(39323,{code:r})}}(Lt=Re||(Re={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";function IC(){return new TextEncoder}const NC=new $r([4294967295,4294967295],0);function Kv(r){const t=IC().encode(r),i=new A0;return i.update(t),new Uint8Array(i.digest())}function Qv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new $r([i,s],0),new $r([l,c],0)]}class Qm{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Il(`Invalid padding: ${i}`);if(s<0)throw new Il(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Il(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new Il(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=$r.fromNumber(this.ge)}ye(t,i,s){let l=t.add(i.multiply($r.fromNumber(s)));return l.compare(NC)===1&&(l=new $r([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Kv(t),[s,l]=Qv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);if(!this.we(d))return!1}return!0}static create(t,i,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Qm(c,l,i);return s.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Kv(t),[s,l]=Qv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class Il extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ih{constructor(t,i,s,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const l=new Map;return l.set(t,eu.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new Ih(_t.min(),l,new ue(Ot),rr(),Vt())}}class eu{constructor(t,i,s,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new eu(s,i,Vt(),Vt(),Vt())}}class Qc{constructor(t,i,s,l){this.Se=t,this.removedTargetIds=i,this.key=s,this.De=l}}class lT{constructor(t,i){this.targetId=t,this.Ce=i}}class uT{constructor(t,i,s=Qe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=l}}class Yv{constructor(){this.ve=0,this.Fe=Xv(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Vt(),i=Vt(),s=Vt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:pt(38017,{changeType:c})}})),new eu(this.Me,this.xe,t,i,s)}Ke(){this.Oe=!1,this.Fe=Xv()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class DC{constructor(t){this.Ge=t,this.ze=new Map,this.je=rr(),this.He=Uc(),this.Je=Uc(),this.Ze=new ue(Ot)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const s=this.nt(i);switch(t.state){case 0:this.rt(i)&&s.Le(t.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(t.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.Qe(),s.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(t.resumeToken));break;default:pt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((s,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,s=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(hm(c))if(s===0){const d=new ct(c.path);this.et(i,d,Je.newNoDocument(d,_t.min()))}else Ht(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=ts(s).toUint8Array()}catch(y){if(y instanceof M0)return eo("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Qm(d,l,c)}catch(y){return eo(y instanceof Il?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,s){return i.Ce.count===s-this.Pt(t,i.targetId)?0:2}Pt(t,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&hm(p.target)){const y=new ct(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Je.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let s=Vt();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Ih(t,i,this.Ze,this.je,s);return this.je=rr(),this.He=Uc(),this.Je=Uc(),this.Ze=new ue(Ot),l}Ye(t,i){if(!this.rt(t))return;const s=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,s),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),s&&(this.je=this.je.insert(i,s))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new Yv,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Me(Ot),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Me(Ot),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Yv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Uc(){return new ue(ct.comparator)}function Xv(){return new ue(ct.comparator)}const xC={asc:"ASCENDING",desc:"DESCENDING"},OC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VC={and:"AND",or:"OR"};class MC{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function mm(r,t){return r.useProto3Json||Ah(t)?t:{value:t}}function uh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function cT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function kC(r,t){return uh(r,t.toTimestamp())}function Di(r){return Ht(!!r,49232),_t.fromTimestamp((function(i){const s=Wr(i);return new re(s.seconds,s.nanos)})(r))}function Ym(r,t){return pm(r,t).canonicalString()}function pm(r,t){const i=(function(l){return new te(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function hT(r){const t=te.fromString(r);return Ht(gT(t),10190,{key:t.toString()}),t}function gm(r,t){return Ym(r.databaseId,t.path)}function Kd(r,t){const i=hT(t);if(i.get(1)!==r.databaseId.projectId)throw new at(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new at(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ct(dT(i))}function fT(r,t){return Ym(r.databaseId,t)}function LC(r){const t=hT(r);return t.length===4?te.emptyPath():dT(t)}function ym(r){return new te(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function dT(r){return Ht(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function $v(r,t,i){return{name:gm(r,t),fields:i.value.mapValue.fields}}function UC(r,t){let i;if("targetChange"in t){t.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:pt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,A){return _.useProto3Json?(Ht(A===void 0||typeof A=="string",58123),Qe.fromBase64String(A||"")):(Ht(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Qe.fromUint8Array(A||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const A=_.code===void 0?X.UNKNOWN:oT(_.code);return new at(A,_.message||"")})(d);i=new uT(s,l,c,p||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=Kd(r,s.document.name),c=Di(s.document.updateTime),d=s.document.createTime?Di(s.document.createTime):_t.min(),p=new Ln({mapValue:{fields:s.document.fields}}),y=Je.newFoundDocument(l,c,d,p),_=s.targetIds||[],A=s.removedTargetIds||[];i=new Qc(_,A,y.key,y)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=Kd(r,s.document),c=s.readTime?Di(s.readTime):_t.min(),d=Je.newNoDocument(l,c),p=s.removedTargetIds||[];i=new Qc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=Kd(r,s.document),c=s.removedTargetIds||[];i=new Qc([],c,l,null)}else{if(!("filter"in t))return pt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new RC(l,c),p=s.targetId;i=new lT(p,d)}}return i}function PC(r,t){let i;if(t instanceof tu)i={update:$v(r,t.key,t.value)};else if(t instanceof Gm)i={delete:gm(r,t.key)};else if(t instanceof $s)i={update:$v(r,t.key,t.data),updateMask:QC(t.fieldMask)};else{if(!(t instanceof SC))return pt(16599,{dt:t.type});i={verify:gm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((s=>(function(c,d){const p=d.transform;if(p instanceof Hl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Fl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Gl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof lh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw pt(20930,{transform:d.transform})})(0,s)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:kC(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:pt(27497)})(r,t.precondition)),i}function zC(r,t){return r&&r.length>0?(Ht(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Di(l.updateTime):Di(c);return d.isEqual(_t.min())&&(d=Di(c)),new EC(d,l.transformResults||[])})(i,t)))):[]}function jC(r,t){return{documents:[fT(r,t.path)]}}function BC(r,t){const i={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=fT(r,l);const c=(function(_){if(_.length!==0)return pT(ei.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((A=>(function(V){return{field:Fa(V.field),direction:FC(V.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=mm(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function qC(r){let t=LC(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){Ht(s===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(S){const V=mT(S);return V instanceof ei&&F0(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((V=>(function(W){return new oh(Ga(W.field),(function(it){switch(it){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(V)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let V;return V=typeof S=="object"?S.value:S,Ah(V)?null:V})(i.limit));let y=null;i.startAt&&(y=(function(S){const V=!!S.before,G=S.values||[];return new ah(G,V)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const V=!S.before,G=S.values||[];return new ah(G,V)})(i.endAt)),sC(t,l,d,c,p,"F",y,_)}function HC(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function mT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ga(i.unaryFilter.field);return Ce.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Ga(i.unaryFilter.field);return Ce.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ga(i.unaryFilter.field);return Ce.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ga(i.unaryFilter.field);return Ce.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ce.create(Ga(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return ei.create(i.compositeFilter.filters.map((s=>mT(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return pt(1026)}})(i.compositeFilter.op))})(r):pt(30097,{filter:r})}function FC(r){return xC[r]}function GC(r){return OC[r]}function KC(r){return VC[r]}function Fa(r){return{fieldPath:r.canonicalString()}}function Ga(r){return Ke.fromServerFormat(r.fieldPath)}function pT(r){return r instanceof Ce?(function(i){if(i.op==="=="){if(Uv(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NAN"}};if(Lv(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Uv(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NOT_NAN"}};if(Lv(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fa(i.field),op:GC(i.op),value:i.value}}})(r):r instanceof ei?(function(i){const s=i.getFilters().map((l=>pT(l)));return s.length===1?s[0]:{compositeFilter:{op:KC(i.op),filters:s}}})(r):pt(54877,{filter:r})}function QC(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function gT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function yT(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Kr{constructor(t,i,s,l,c=_t.min(),d=_t.min(),p=Qe.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new Kr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class YC{constructor(t){this.yt=t}}function XC(r){const t=qC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?dm(t,t.limit,"L"):t}class $C{constructor(){this.Sn=new JC}addToCollectionParentIndex(t,i){return this.Sn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve(Zr.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve(Zr.min())}updateCollectionGroup(t,i,s){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class JC{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i]||new Me(te.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Me(te.comparator)).toArray()}}const Jv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_T=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(_T,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class so{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new so(0)}static ar(){return new so(-1)}}const Zv="LruGarbageCollector",ZC=1048576;function Wv([r,t],[i,s]){const l=Ot(r,i);return l===0?Ot(t,s):l}class WC{constructor(t){this.Pr=t,this.buffer=new Me(Wv),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();Wv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class tI{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){rt(Zv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){mo(i)?rt(Zv,"Ignoring IndexedDB error during garbage collection: ",i):await fo(i)}await this.Ar(3e5)}))}}class eI{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(Th.ce);const s=new WC(i);return this.Vr.forEachTarget(t,(l=>s.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>s.Er(l))))).next((()=>s.maxValue))}removeTargets(t,i,s){return this.Vr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Jv)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Jv):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let s,l,c,d,p,y,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(s=S,p=Date.now(),this.removeTargets(t,s,i)))).next((S=>(c=S,y=Date.now(),this.removeOrphanedDocuments(t,s)))).next((S=>(_=Date.now(),qa()<=xt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${S} documents in `+(_-y)+`ms
Total Duration: ${_-A}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function nI(r,t){return new eI(r,t)}class iI{constructor(){this.changes=new Xs((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?$.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class rI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class sI{constructor(t,i,s,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(s!==null&&kl(s.mutation,l,Jn.empty(),re.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.getLocalViewOfDocuments(t,s,Vt()).next((()=>s))))}getLocalViewOfDocuments(t,i,s=Vt()){const l=Ps();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,s).next((c=>{let d=Cl();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const s=Ps();return this.populateOverlays(t,s,i).next((()=>this.computeViews(t,i,s,Vt())))}populateOverlays(t,i,s){const l=[];return s.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,s,l){let c=rr();const d=Ml(),p=(function(){return Ml()})();return i.forEach(((y,_)=>{const A=s.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof $s)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),kl(A.mutation,_,A.mutation.getFieldMask(),re.now())):d.set(_.key,Jn.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>p.set(_,new rI(A,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const s=Ml();let l=new ue(((d,p)=>d-p)),c=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let A=s.get(y)||Jn.empty();A=p.applyToLocalView(_,A),s.set(y,A);const S=(l.get(p.batchId)||Vt()).add(y);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,A=y.value,S=W0();A.forEach((V=>{if(!c.has(V)){const G=sT(i.get(V),s.get(V));G!==null&&S.set(V,G),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,S))}return $.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,i,s,l){return aC(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):Y0(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,l):this.getDocumentsMatchingCollectionQuery(t,i,s,l)}getNextDocuments(t,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,l-c.size):$.resolve(Ps());let p=zl,y=c;return d.next((_=>$.forEach(_,((A,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(A)?$.resolve():this.remoteDocumentCache.getEntry(t,A).next((V=>{y=y.insert(A,V)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,Vt()))).next((A=>({batchId:p,changes:Z0(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ct(i)).next((s=>{let l=Cl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,s,l){const c=i.collectionGroup;let d=Cl();return this.indexManager.getCollectionParents(t,c).next((p=>$.forEach(p,(y=>{const _=(function(S,V){return new Wl(V,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,s,l).next((A=>{A.forEach(((S,V)=>{d=d.insert(S,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,c,l)))).next((d=>{c.forEach(((y,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Je.newInvalidDocument(A)))}));let p=Cl();return d.forEach(((y,_)=>{const A=c.get(y);A!==void 0&&kl(A.mutation,_,Jn.empty(),re.now()),wh(i,_)&&(p=p.insert(y,_))})),p}))}}class aI{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return $.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Di(l.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:XC(l.bundledQuery),readTime:Di(l.readTime)}})(i)),$.resolve()}}class oI{constructor(){this.overlays=new ue(ct.comparator),this.Lr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const s=Ps();return $.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(t,i,s){return s.forEach(((l,c)=>{this.bt(t,i,c)})),$.resolve()}removeOverlaysForBatchId(t,i,s){const l=this.Lr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(s)),$.resolve()}getOverlaysForCollection(t,i,s){const l=Ps(),c=i.length+1,d=new ct(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>s&&l.set(y.getKey(),y)}return $.resolve(l)}getOverlaysForCollectionGroup(t,i,s,l){let c=new ue(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let A=c.get(_.largestBatchId);A===null&&(A=Ps(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=Ps(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,A)=>p.set(_,A))),!(p.size()>=l)););return $.resolve(p)}bt(t,i,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(s.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new wC(i,s));let c=this.Lr.get(i);c===void 0&&(c=Vt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(s.key))}}class lI{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}class Xm{constructor(){this.kr=new Me(Pe.Kr),this.qr=new Me(Pe.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const s=new Pe(t,i);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(t,i){t.forEach((s=>this.addReference(s,i)))}removeReference(t,i){this.Wr(new Pe(t,i))}Qr(t,i){t.forEach((s=>this.removeReference(s,i)))}Gr(t){const i=new ct(new te([])),s=new Pe(i,t),l=new Pe(i,t+1),c=[];return this.qr.forEachInRange([s,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new ct(new te([])),s=new Pe(i,t),l=new Pe(i,t+1);let c=Vt();return this.qr.forEachInRange([s,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Pe(t,0),s=this.kr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class Pe{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return ct.comparator(t.key,i.key)||Ot(t.Hr,i.Hr)}static Ur(t,i){return Ot(t.Hr,i.Hr)||ct.comparator(t.key,i.key)}}class uI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Me(Pe.Kr)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new bC(c,i,s,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new Pe(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,l=this.Xr(s),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Pm:this.Yn-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new Pe(i,0),l=new Pe(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([s,l],(d=>{const p=this.Zr(d.Hr);c.push(p)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new Me(Ot);return i.forEach((l=>{const c=new Pe(l,0),d=new Pe(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{s=s.add(p.Hr)}))})),$.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,l=s.length+1;let c=s;ct.isDocumentKey(c)||(c=c.child(""));const d=new Pe(new ct(c),0);let p=new Me(Ot);return this.Jr.forEachWhile((y=>{const _=y.key.path;return!!s.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Hr)),!0)}),d),$.resolve(this.Yr(p))}Yr(t){const i=[];return t.forEach((s=>{const l=this.Zr(s);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Ht(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return $.forEach(i.mutations,(l=>{const c=new Pe(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=s}))}nr(t){}containsKey(t,i){const s=new Pe(i,0),l=this.Jr.firstAfterOrEqual(s);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class cI{constructor(t){this.ti=t,this.docs=(function(){return new ue(ct.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return $.resolve(s?s.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(t,i){let s=rr();return i.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Je.newInvalidDocument(l))})),$.resolve(s)}getDocumentsMatchingQuery(t,i,s,l){let c=rr();const d=i.path,p=new ct(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:A}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||L2(k2(A),s)<=0||(l.has(A.key)||wh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,i,s,l){pt(9500)}ni(t,i){return $.forEach(this.docs,(s=>i(s)))}newChangeBuffer(t){return new hI(this)}getSize(t){return $.resolve(this.size)}}class hI extends iI{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(s)})),$.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class fI{constructor(t){this.persistence=t,this.ri=new Xs((i=>Bm(i)),qm),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.ii=0,this.si=new Xm,this.targetCount=0,this.oi=so._r()}forEachTarget(t,i){return this.ri.forEach(((s,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.ii&&(this.ii=i),$.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new so(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.lr(i),$.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,s){let l=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&s.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const s=this.ri.get(i)||null;return $.resolve(s)}addMatchingKeys(t,i,s){return this.si.$r(i,s),$.resolve()}removeMatchingKeys(t,i,s){this.si.Qr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const s=this.si.jr(i);return $.resolve(s)}containsKey(t,i){return $.resolve(this.si.containsKey(i))}}class vT{constructor(t,i){this._i={},this.overlays={},this.ai=new Th(0),this.ui=!1,this.ui=!0,this.ci=new lI,this.referenceDelegate=t(this),this.li=new fI(this),this.indexManager=new $C,this.remoteDocumentCache=(function(l){return new cI(l)})((s=>this.referenceDelegate.hi(s))),this.serializer=new YC(i),this.Pi=new aI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new oI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this._i[t.toKey()];return s||(s=new uI(i,this.referenceDelegate),this._i[t.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,s){rt("MemoryPersistence","Starting transaction:",t);const l=new dI(this.ai.next());return this.referenceDelegate.Ti(),s(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return $.or(Object.values(this._i).map((s=>()=>s.containsKey(t,i))))}}class dI extends P2{constructor(t){super(),this.currentSequenceNumber=t}}class $m{constructor(t){this.persistence=t,this.Ri=new Xm,this.Ai=null}static Vi(t){return new $m(t)}get di(){if(this.Ai)return this.Ai;throw pt(60996)}addReference(t,i,s){return this.Ri.addReference(s,i),this.di.delete(s.toString()),$.resolve()}removeReference(t,i,s){return this.Ri.removeReference(s,i),this.di.add(s.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>s.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,(s=>{const l=ct.fromPath(s);return this.mi(t,l).next((c=>{c||i.removeEntry(l,_t.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((s=>{s?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class ch{constructor(t,i){this.persistence=t,this.fi=new Xs((s=>B2(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=nI(this,i)}static Vi(t,i){return new ch(t,i)}Ti(){}Ii(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>i.next((l=>s+l))))}pr(t){let i=0;return this.mr(t,(s=>{i++})).next((()=>i))}mr(t,i){return $.forEach(this.fi,((s,l)=>this.wr(t,s,l).next((c=>c?$.resolve():i(l)))))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((p=>{p||(s++,c.removeEntry(d,_t.min()))})))).next((()=>c.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.fi.set(s,t.currentSequenceNumber),$.resolve()}removeReference(t,i,s){return this.fi.set(s,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),$.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Fc(t.data.value)),i}wr(t,i,s){return $.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return $.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Jm{constructor(t,i,s,l){this.targetId=t,this.fromCache=i,this.Ts=s,this.Is=l}static Es(t,i){let s=Vt(),l=Vt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Jm(t,i.fromCache,s,l)}}class mI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class pI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return zS()?8:z2(Ze())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,s,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new mI;return this.ys(t,i,d).next((p=>{if(c.result=p,this.As)return this.ws(t,i,d,p.size)}))})).next((()=>c.result))}ws(t,i,s,l){return s.documentReadCount<this.Vs?(qa()<=xt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",Ha(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(qa()<=xt.DEBUG&&rt("QueryEngine","Query:",Ha(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ds*l?(qa()<=xt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",Ha(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ii(i))):$.resolve())}gs(t,i){if(Bv(i))return $.resolve(null);let s=Ii(i);return this.indexManager.getIndexType(t,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=dm(i,null,"F"),s=Ii(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next((c=>{const d=Vt(...c);return this.fs.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,s).next((y=>{const _=this.bs(i,p);return this.Ss(i,_,d,y.readTime)?this.gs(t,dm(i,null,"F")):this.Ds(t,_,i,y)}))))})))))}ps(t,i,s,l){return Bv(i)||l.isEqual(_t.min())?$.resolve(null):this.fs.getDocuments(t,s).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,s,l)?$.resolve(null):(qa()<=xt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ha(i)),this.Ds(t,d,i,M2(l,zl)).next((p=>p)))}))}bs(t,i){let s=new Me($0(t));return i.forEach(((l,c)=>{wh(t,c)&&(s=s.add(c))})),s}Ss(t,i,s,l){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,s){return qa()<=xt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",Ha(i)),this.fs.getDocumentsMatchingQuery(t,i,Zr.min(),s)}Ds(t,i,s,l){return this.fs.getDocumentsMatchingQuery(t,s,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Zm="LocalStore",gI=3e8;class yI{constructor(t,i,s,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new ue(Ot),this.Fs=new Xs((c=>Bm(c)),qm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(s)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new sI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function _I(r,t,i,s){return new yI(r,t,i,s)}async function ET(r,t){const i=Et(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],p=[];let y=Vt();for(const _ of l){d.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}for(const _ of c){p.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}return i.localDocuments.getDocuments(s,y).next((_=>({Ns:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function vI(r,t){const i=Et(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,A){const S=_.batch,V=S.keys();let G=$.resolve();return V.forEach((W=>{G=G.next((()=>A.getEntry(y,W))).next((nt=>{const it=_.docVersions.get(W);Ht(it!==null,48541),nt.version.compareTo(it)<0&&(S.applyToRemoteDocument(nt,_),nt.isValidDocument()&&(nt.setReadTime(_.commitVersion),A.addEntry(nt)))}))})),G.next((()=>p.mutationQueue.removeMutationBatch(y,S)))})(i,s,t,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let y=Vt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function TT(r){const t=Et(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function EI(r,t){const i=Et(r),s=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const p=[];t.targetChanges.forEach(((A,S)=>{const V=l.get(S);if(!V)return;p.push(i.li.removeMatchingKeys(c,A.removedDocuments,S).next((()=>i.li.addMatchingKeys(c,A.addedDocuments,S))));let G=V.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?G=G.withResumeToken(Qe.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,s)),l=l.insert(S,G),(function(nt,it,dt){return nt.resumeToken.approximateByteSize()===0||it.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=gI?!0:dt.addedDocuments.size+dt.modifiedDocuments.size+dt.removedDocuments.size>0})(V,G,A)&&p.push(i.li.updateTargetData(c,G))}));let y=rr(),_=Vt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(TI(c,d,t.documentUpdates).next((A=>{y=A.Bs,_=A.Ls}))),!s.isEqual(_t.min())){const A=i.li.getLastRemoteSnapshotVersion(c).next((S=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,s)));p.push(A)}return $.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.vs=l,c)))}function TI(r,t,i){let s=Vt(),l=Vt();return i.forEach((c=>s=s.add(c))),t.getEntries(r,s).next((c=>{let d=rr();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(_t.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):rt(Zm,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{Bs:d,Ls:l}}))}function AI(r,t){const i=Et(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Pm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function SI(r,t){const i=Et(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.li.getTargetData(s,t).next((c=>c?(l=c,$.resolve(l)):i.li.allocateTargetId(s).next((d=>(l=new Kr(t,d,"TargetPurposeListen",s.currentSequenceNumber),i.li.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.vs.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(s.targetId,s),i.Fs.set(t,s.targetId)),s}))}async function _m(r,t,i){const s=Et(r),l=s.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!mo(d))throw d;rt(Zm,`Failed to update sequence numbers for target ${t}: ${d}`)}s.vs=s.vs.remove(t),s.Fs.delete(l.target)}function tE(r,t,i){const s=Et(r);let l=_t.min(),c=Vt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,A){const S=Et(y),V=S.Fs.get(A);return V!==void 0?$.resolve(S.vs.get(V)):S.li.getTargetData(_,A)})(s,d,Ii(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>s.Cs.getDocumentsMatchingQuery(d,t,i?l:_t.min(),i?c:Vt()))).next((p=>(bI(s,lC(t),p),{documents:p,ks:c})))))}function bI(r,t,i){let s=r.Ms.get(t)||_t.min();i.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Ms.set(t,s)}class eE{constructor(){this.activeTargetIds=mC()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class wI{constructor(){this.vo=new eE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,s){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new eE,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class RI{Mo(t){}shutdown(){}}const nE="ConnectivityMonitor";class iE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){rt(nE,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){rt(nE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Pc=null;function vm(){return Pc===null?Pc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Pc++,"0x"+Pc.toString(16)}const Qd="RestConnection",CI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class II{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${s}/databases/${l}`,this.$o=this.databaseId.database===rh?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Wo(t,i,s,l,c){const d=vm(),p=this.Qo(t,i.toUriEncodedString());rt(Qd,`Sending RPC '${t}' ${d}:`,p,s);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(y,l,c);const{host:_}=new URL(p),A=oo(_);return this.zo(t,p,y,s,A).then((S=>(rt(Qd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw eo(Qd,`RPC '${t}' ${d} failed with error: `,S,"url: ",p,"request:",s),S}))}jo(t,i,s,l,c,d){return this.Wo(t,i,s,l,c)}Go(t,i,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ho})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),s&&s.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const s=CI[t];let l=`${this.qo}/v1/${i}:${s}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class NI{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Xe="WebChannelConnection",Sl=(r,t,i)=>{r.listen(t,(s=>{try{i(s)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Ja extends II{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Ja.c_){const t=R0();Sl(t,w0.STAT_EVENT,(i=>{i.stat===am.PROXY?rt(Xe,"STAT_EVENT: detected buffering proxy"):i.stat===am.NOPROXY&&rt(Xe,"STAT_EVENT: detected no buffering proxy")})),Ja.c_=!0}}zo(t,i,s,l,c){const d=vm();return new Promise(((p,y)=>{const _=new S0;_.setWithCredentials(!0),_.listenOnce(b0.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Hc.NO_ERROR:const S=_.getResponseJson();rt(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),p(S);break;case Hc.TIMEOUT:rt(Xe,`RPC '${t}' ${d} timed out`),y(new at(X.DEADLINE_EXCEEDED,"Request time out"));break;case Hc.HTTP_ERROR:const V=_.getStatus();if(rt(Xe,`RPC '${t}' ${d} failed with status:`,V,"response text:",_.getResponseText()),V>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const W=G?.error;if(W&&W.status&&W.message){const nt=(function(dt){const Tt=dt.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(Tt)>=0?Tt:X.UNKNOWN})(W.status);y(new at(nt,W.message))}else y(new at(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new at(X.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{rt(Xe,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);rt(Xe,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",A,s,15)}))}T_(t,i,s){const l=vm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const _=c.join("");rt(Xe,`Creating RPC '${t}' stream ${l}: ${_}`,p);const A=d.createWebChannel(_,p);this.I_(A);let S=!1,V=!1;const G=new NI({Ho:W=>{V?rt(Xe,`Not sending because RPC '${t}' stream ${l} is closed:`,W):(S||(rt(Xe,`Opening RPC '${t}' stream ${l} transport.`),A.open(),S=!0),rt(Xe,`RPC '${t}' stream ${l} sending:`,W),A.send(W))},Jo:()=>A.close()});return Sl(A,Rl.EventType.OPEN,(()=>{V||(rt(Xe,`RPC '${t}' stream ${l} transport opened.`),G.i_())})),Sl(A,Rl.EventType.CLOSE,(()=>{V||(V=!0,rt(Xe,`RPC '${t}' stream ${l} transport closed`),G.o_(),this.E_(A))})),Sl(A,Rl.EventType.ERROR,(W=>{V||(V=!0,eo(Xe,`RPC '${t}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),G.o_(new at(X.UNAVAILABLE,"The operation could not be completed")))})),Sl(A,Rl.EventType.MESSAGE,(W=>{if(!V){const nt=W.data[0];Ht(!!nt,16349);const it=nt,dt=it?.error||it[0]?.error;if(dt){rt(Xe,`RPC '${t}' stream ${l} received error:`,dt);const Tt=dt.status;let yt=(function(Pt){const I=Re[Pt];if(I!==void 0)return oT(I)})(Tt),bt=dt.message;yt===void 0&&(yt=X.INTERNAL,bt="Unknown error status: "+Tt+" with message "+dt.message),V=!0,G.o_(new at(yt,bt)),A.close()}else rt(Xe,`RPC '${t}' stream ${l} received:`,nt),G.__(nt)}})),Ja.u_(),setTimeout((()=>{G.s_()}),0),G}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,s){super.Go(t,i,s),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return C0()}}function DI(r){return new Ja(r)}function Yd(){return typeof document<"u"?document:null}function Nh(r){return new MC(r,!0)}Ja.c_=!1;class AT{constructor(t,i,s=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=s,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const rE="PersistentStream";class ST{constructor(t,i,s,l,c,d,p,y){this.Ci=t,this.b_=s,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new AT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(ir(i.toString()),ir("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===i&&this.G_(s,l)}),(s=>{t((()=>{const l=new at(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(t,i){const s=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return rt(rE,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(rt(rE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xI extends ST{constructor(t,i,s,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=UC(this.serializer,t),s=(function(c){if(!("targetChange"in c))return _t.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?Di(d.readTime):_t.min()})(t);return this.listener.J_(i,s)}Z_(t){const i={};i.database=ym(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=hm(y)?{documents:jC(c,y)}:{query:BC(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=cT(c,d.resumeToken);const _=mm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(_t.min())>0){p.readTime=uh(c,d.snapshotVersion.toTimestamp());const _=mm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const s=HC(this.serializer,t);s&&(i.labels=s),this.K_(i)}X_(t){const i={};i.database=ym(this.serializer),i.removeTarget=t,this.K_(i)}}class OI extends ST{constructor(t,i,s,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=zC(t.writeResults,t.commitTime),s=Di(t.commitTime);return this.listener.na(s,i)}ra(){const t={};t.database=ym(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((s=>PC(this.serializer,s)))};this.K_(i)}}class VI{}class MI extends VI{constructor(t,i,s,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new at(X.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,pm(i,s),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new at(X.UNKNOWN,c.toString())}))}jo(t,i,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(t,pm(i,s),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function kI(r,t,i,s){return new MI(r,t,i,s)}class LI{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ir(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Qs="RemoteStore";class UI{constructor(t,i,s,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{s.enqueueAndForget((async()=>{Js(this)&&(rt(Qs,"Restarting streams for network reachability change."),await(async function(y){const _=Et(y);_.Ea.add(4),await nu(_),_.Va.set("Unknown"),_.Ea.delete(4),await Dh(_)})(this))}))})),this.Va=new LI(s,l)}}async function Dh(r){if(Js(r))for(const t of r.Ra)await t(!0)}async function nu(r){for(const t of r.Ra)await t(!1)}function bT(r,t){const i=Et(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),np(i)?ep(i):po(i).O_()&&tp(i,t))}function Wm(r,t){const i=Et(r),s=po(i);i.Ia.delete(t),s.O_()&&wT(i,t),i.Ia.size===0&&(s.O_()?s.L_():Js(i)&&i.Va.set("Unknown"))}function tp(r,t){if(r.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_t.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}po(r).Z_(t)}function wT(r,t){r.da.$e(t),po(r).X_(t)}function ep(r){r.da=new DC({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),po(r).start(),r.Va.ua()}function np(r){return Js(r)&&!po(r).x_()&&r.Ia.size>0}function Js(r){return Et(r).Ea.size===0}function RT(r){r.da=void 0}async function PI(r){r.Va.set("Online")}async function zI(r){r.Ia.forEach(((t,i)=>{tp(r,t)}))}async function jI(r,t){RT(r),np(r)?(r.Va.ha(t),ep(r)):r.Va.set("Unknown")}async function BI(r,t,i){if(r.Va.set("Online"),t instanceof uT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(r,t)}catch(s){rt(Qs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await hh(r,s)}else if(t instanceof Qc?r.da.Xe(t):t instanceof lT?r.da.st(t):r.da.tt(t),!i.isEqual(_t.min()))try{const s=await TT(r.localStore);i.compareTo(s)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const A=c.Ia.get(_);A&&c.Ia.set(_,A.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const A=c.Ia.get(y);if(!A)return;c.Ia.set(y,A.withResumeToken(Qe.EMPTY_BYTE_STRING,A.snapshotVersion)),wT(c,y);const S=new Kr(A.target,y,_,A.sequenceNumber);tp(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(s){rt(Qs,"Failed to raise snapshot:",s),await hh(r,s)}}async function hh(r,t,i){if(!mo(t))throw t;r.Ea.add(1),await nu(r),r.Va.set("Offline"),i||(i=()=>TT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{rt(Qs,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Dh(r)}))}function CT(r,t){return t().catch((i=>hh(r,i,t)))}async function xh(r){const t=Et(r),i=ns(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Pm;for(;qI(t);)try{const l=await AI(t.localStore,s);if(l===null){t.Ta.length===0&&i.L_();break}s=l.batchId,HI(t,l)}catch(l){await hh(t,l)}IT(t)&&NT(t)}function qI(r){return Js(r)&&r.Ta.length<10}function HI(r,t){r.Ta.push(t);const i=ns(r);i.O_()&&i.Y_&&i.ea(t.mutations)}function IT(r){return Js(r)&&!ns(r).x_()&&r.Ta.length>0}function NT(r){ns(r).start()}async function FI(r){ns(r).ra()}async function GI(r){const t=ns(r);for(const i of r.Ta)t.ea(i.mutations)}async function KI(r,t,i){const s=r.Ta.shift(),l=Km.from(s,t,i);await CT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await xh(r)}async function QI(r,t){t&&ns(r).Y_&&await(async function(s,l){if((function(d){return CC(d)&&d!==X.ABORTED})(l.code)){const c=s.Ta.shift();ns(s).B_(),await CT(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await xh(s)}})(r,t),IT(r)&&NT(r)}async function sE(r,t){const i=Et(r);i.asyncQueue.verifyOperationInProgress(),rt(Qs,"RemoteStore received new credentials");const s=Js(i);i.Ea.add(3),await nu(i),s&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Dh(i)}async function YI(r,t){const i=Et(r);t?(i.Ea.delete(2),await Dh(i)):t||(i.Ea.add(2),await nu(i),i.Va.set("Unknown"))}function po(r){return r.ma||(r.ma=(function(i,s,l){const c=Et(i);return c.sa(),new xI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:PI.bind(null,r),Yo:zI.bind(null,r),t_:jI.bind(null,r),J_:BI.bind(null,r)}),r.Ra.push((async t=>{t?(r.ma.B_(),np(r)?ep(r):r.Va.set("Unknown")):(await r.ma.stop(),RT(r))}))),r.ma}function ns(r){return r.fa||(r.fa=(function(i,s,l){const c=Et(i);return c.sa(),new OI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:FI.bind(null,r),t_:QI.bind(null,r),ta:GI.bind(null,r),na:KI.bind(null,r)}),r.Ra.push((async t=>{t?(r.fa.B_(),await xh(r)):(await r.fa.stop(),r.Ta.length>0&&(rt(Qs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class ip{constructor(t,i,s,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new zs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,l,c){const d=Date.now()+s,p=new ip(t,i,d,l,c);return p.start(s),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rp(r,t){if(ir("AsyncQueue",`${t}: ${r}`),mo(r))return new at(X.UNAVAILABLE,`${t}: ${r}`);throw r}class Za{static emptySet(t){return new Za(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||ct.comparator(i.key,s.key):(i,s)=>ct.comparator(i.key,s.key),this.keyedMap=Cl(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,s)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Za)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new Za;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}class aE{constructor(){this.ga=new ue(ct.comparator)}track(t){const i=t.doc.key,s=this.ga.get(i);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(i,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(i):t.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):pt(63341,{Vt:t,pa:s}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,s)=>{t.push(s)})),t}}class ao{constructor(t,i,s,l,c,d,p,y,_){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,s,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new ao(t,i,Za.emptySet(i),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&bh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}class XI{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class $I{constructor(){this.queries=oE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=Et(i),c=l.queries;l.queries=oE(),c.forEach(((d,p)=>{for(const y of p.ba)y.onError(s)}))})(this,new at(X.ABORTED,"Firestore shutting down"))}}function oE(){return new Xs((r=>X0(r)),bh)}async function JI(r,t){const i=Et(r);let s=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(s=2):(c=new XI,s=t.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=rp(d,`Initialization of query '${Ha(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&sp(i)}async function ZI(r,t){const i=Et(r),s=t.query;let l=3;const c=i.queries.get(s);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function WI(r,t){const i=Et(r);let s=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(l)&&(s=!0);d.wa=l}}s&&sp(i)}function tN(r,t,i){const s=Et(r),l=s.queries.get(t);if(l)for(const c of l.ba)c.onError(i);s.queries.delete(t)}function sp(r){r.Ca.forEach((t=>{t.next()}))}var Em,lE;(lE=Em||(Em={})).Ma="default",lE.Cache="cache";class eN{constructor(t,i,s){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new ao(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.Ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=ao.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Em.Cache}}class DT{constructor(t){this.key=t}}class xT{constructor(t){this.key=t}}class nN{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Vt(),this.mutatedKeys=Vt(),this.eu=$0(t),this.tu=new Za(this.eu)}get nu(){return this.Za}ru(t,i){const s=i?i.iu:new aE,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,S)=>{const V=l.get(A),G=wh(this.query,S)?S:null,W=!!V&&this.mutatedKeys.has(V.key),nt=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let it=!1;V&&G?V.data.isEqual(G.data)?W!==nt&&(s.track({type:3,doc:G}),it=!0):this.su(V,G)||(s.track({type:2,doc:G}),it=!0,(y&&this.eu(G,y)>0||_&&this.eu(G,_)<0)&&(p=!0)):!V&&G?(s.track({type:0,doc:G}),it=!0):V&&!G&&(s.track({type:1,doc:V}),it=!0,(y||_)&&(p=!0)),it&&(G?(d=d.add(G),c=nt?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),s.track({type:1,doc:A})}return{tu:d,iu:s,Ss:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,S)=>(function(G,W){const nt=it=>{switch(it){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Vt:it})}};return nt(G)-nt(W)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(s),l=l??!1;const p=i&&!l?this._u():[],y=this.Ya.size===0&&this.current&&!l?1:0,_=y!==this.Xa;return this.Xa=y,d.length!==0||_?{snapshot:new ao(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new aE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Vt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const i=[];return t.forEach((s=>{this.Ya.has(s)||i.push(new xT(s))})),this.Ya.forEach((s=>{t.has(s)||i.push(new DT(s))})),i}cu(t){this.Za=t.ks,this.Ya=Vt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return ao.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const ap="SyncEngine";class iN{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class rN{constructor(t){this.key=t,this.hu=!1}}class sN{constructor(t,i,s,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Xs((p=>X0(p)),bh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ue(ct.comparator),this.Au=new Map,this.Vu=new Xm,this.du={},this.mu=new Map,this.fu=so.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function aN(r,t,i=!0){const s=UT(r);let l;const c=s.Tu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await OT(s,t,i,!0),l}async function oN(r,t){const i=UT(r);await OT(i,t,!0,!1)}async function OT(r,t,i,s){const l=await SI(r.localStore,Ii(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return s&&(p=await lN(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&bT(r.remoteStore,l),p}async function lN(r,t,i,s,l){r.pu=(S,V,G)=>(async function(nt,it,dt,Tt){let yt=it.view.ru(dt);yt.Ss&&(yt=await tE(nt.localStore,it.query,!1).then((({documents:I})=>it.view.ru(I,yt))));const bt=Tt&&Tt.targetChanges.get(it.targetId),Wt=Tt&&Tt.targetMismatches.get(it.targetId)!=null,Pt=it.view.applyChanges(yt,nt.isPrimaryClient,bt,Wt);return cE(nt,it.targetId,Pt.au),Pt.snapshot})(r,S,V,G);const c=await tE(r.localStore,t,!0),d=new nN(t,c.ks),p=d.ru(c.documents),y=eu.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",l),_=d.applyChanges(p,r.isPrimaryClient,y);cE(r,i,_.au);const A=new iN(t,i,d);return r.Tu.set(t,A),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),_.snapshot}async function uN(r,t,i){const s=Et(r),l=s.Tu.get(t),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((d=>!bh(d,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await _m(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&Wm(s.remoteStore,l.targetId),Tm(s,l.targetId)})).catch(fo)):(Tm(s,l.targetId),await _m(s.localStore,l.targetId,!0))}async function cN(r,t){const i=Et(r),s=i.Tu.get(t),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Wm(i.remoteStore,s.targetId))}async function hN(r,t,i){const s=_N(r);try{const l=await(function(d,p){const y=Et(d),_=re.now(),A=p.reduce(((G,W)=>G.add(W.key)),Vt());let S,V;return y.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let W=rr(),nt=Vt();return y.xs.getEntries(G,A).next((it=>{W=it,W.forEach(((dt,Tt)=>{Tt.isValidDocument()||(nt=nt.add(dt))}))})).next((()=>y.localDocuments.getOverlayedDocuments(G,W))).next((it=>{S=it;const dt=[];for(const Tt of p){const yt=AC(Tt,S.get(Tt.key).overlayedDocument);yt!=null&&dt.push(new $s(Tt.key,yt,B0(yt.value.mapValue),Ni.exists(!0)))}return y.mutationQueue.addMutationBatch(G,_,dt,p)})).next((it=>{V=it;const dt=it.applyToLocalDocumentSet(S,nt);return y.documentOverlayCache.saveOverlays(G,it.batchId,dt)}))})).then((()=>({batchId:V.batchId,changes:Z0(S)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.du[d.currentUser.toKey()];_||(_=new ue(Ot)),_=_.insert(p,y),d.du[d.currentUser.toKey()]=_})(s,l.batchId,i),await iu(s,l.changes),await xh(s.remoteStore)}catch(l){const c=rp(l,"Failed to persist write");i.reject(c)}}async function VT(r,t){const i=Et(r);try{const s=await EI(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Ht(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ht(d.hu,14607):l.removedDocuments.size>0&&(Ht(d.hu,42227),d.hu=!1))})),await iu(i,s,t)}catch(s){await fo(s)}}function uE(r,t,i){const s=Et(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=Et(d);y.onlineState=p;let _=!1;y.queries.forEach(((A,S)=>{for(const V of S.ba)V.va(p)&&(_=!0)})),_&&sp(y)})(s.eventManager,t),l.length&&s.Pu.J_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function fN(r,t,i){const s=Et(r);s.sharedClientState.updateQueryState(t,"rejected",i);const l=s.Au.get(t),c=l&&l.key;if(c){let d=new ue(ct.comparator);d=d.insert(c,Je.newNoDocument(c,_t.min()));const p=Vt().add(c),y=new Ih(_t.min(),new Map,new ue(Ot),d,p);await VT(s,y),s.Ru=s.Ru.remove(c),s.Au.delete(t),op(s)}else await _m(s.localStore,t,!1).then((()=>Tm(s,t,i))).catch(fo)}async function dN(r,t){const i=Et(r),s=t.batch.batchId;try{const l=await vI(i.localStore,t);kT(i,s,null),MT(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await iu(i,l)}catch(l){await fo(l)}}async function mN(r,t,i){const s=Et(r);try{const l=await(function(d,p){const y=Et(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return y.mutationQueue.lookupMutationBatch(_,p).next((S=>(Ht(S!==null,37113),A=S.keys(),y.mutationQueue.removeMutationBatch(_,S)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,A,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>y.localDocuments.getDocuments(_,A)))}))})(s.localStore,t);kT(s,t,i),MT(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await iu(s,l)}catch(l){await fo(l)}}function MT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function kT(r,t,i){const s=Et(r);let l=s.du[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),s.du[s.currentUser.toKey()]=l}}function Tm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(t),r.isPrimaryClient&&r.Vu.Gr(t).forEach((s=>{r.Vu.containsKey(s)||LT(r,s)}))}function LT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.Ru.get(t);i!==null&&(Wm(r.remoteStore,i),r.Ru=r.Ru.remove(t),r.Au.delete(i),op(r))}function cE(r,t,i){for(const s of i)s instanceof DT?(r.Vu.addReference(s.key,t),pN(r,s)):s instanceof xT?(rt(ap,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,t),r.Vu.containsKey(s.key)||LT(r,s.key)):pt(19791,{wu:s})}function pN(r,t){const i=t.key,s=i.path.canonicalString();r.Ru.get(i)||r.Eu.has(s)||(rt(ap,"New document in limbo: "+i),r.Eu.add(s),op(r))}function op(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new ct(te.fromString(t)),s=r.fu.next();r.Au.set(s,new rN(i)),r.Ru=r.Ru.insert(i,s),bT(r.remoteStore,new Kr(Ii(Hm(i.path)),s,"TargetPurposeLimboResolution",Th.ce))}}async function iu(r,t,i){const s=Et(r),l=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,y)=>{d.push(s.pu(y,t,i).then((_=>{if((_||i)&&s.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(_){l.push(_);const A=Jm.Es(y.targetId,_);c.push(A)}})))})),await Promise.all(d),s.Pu.J_(l),await(async function(y,_){const A=Et(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>$.forEach(_,(V=>$.forEach(V.Ts,(G=>A.persistence.referenceDelegate.addReference(S,V.targetId,G))).next((()=>$.forEach(V.Is,(G=>A.persistence.referenceDelegate.removeReference(S,V.targetId,G)))))))))}catch(S){if(!mo(S))throw S;rt(Zm,"Failed to update sequence numbers: "+S)}for(const S of _){const V=S.targetId;if(!S.fromCache){const G=A.vs.get(V),W=G.snapshotVersion,nt=G.withLastLimboFreeSnapshotVersion(W);A.vs=A.vs.insert(V,nt)}}})(s.localStore,c))}async function gN(r,t){const i=Et(r);if(!i.currentUser.isEqual(t)){rt(ap,"User change. New user:",t.toKey());const s=await ET(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new at(X.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await iu(i,s.Ns)}}function yN(r,t){const i=Et(r),s=i.Au.get(t);if(s&&s.hu)return Vt().add(s.key);{let l=Vt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function UT(r){const t=Et(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=VT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=yN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=fN.bind(null,t),t.Pu.J_=WI.bind(null,t.eventManager),t.Pu.yu=tN.bind(null,t.eventManager),t}function _N(r){const t=Et(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=dN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=mN.bind(null,t),t}class fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Nh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return _I(this.persistence,new pI,t.initialUser,this.serializer)}Cu(t){return new vT($m.Vi,this.serializer)}Du(t){return new wI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fh.provider={build:()=>new fh};class vN extends fh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ht(this.persistence.referenceDelegate instanceof ch,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new tI(s,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new vT((s=>ch.Vi(s,i)),this.serializer)}}class Am{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>uE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=gN.bind(null,this.syncEngine),await YI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new $I})()}createDatastore(t){const i=Nh(t.databaseInfo.databaseId),s=DI(t.databaseInfo);return kI(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return(function(s,l,c,d,p){return new UI(s,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>uE(this.syncEngine,i,0)),(function(){return iE.v()?new iE:new RI})())}createSyncEngine(t,i){return(function(l,c,d,p,y,_,A){const S=new sN(l,c,d,p,y,_);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=Et(i);rt(Qs,"RemoteStore shutting down."),s.Ea.add(5),await nu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Am.provider={build:()=>new Am};class EN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ir("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const is="FirestoreClient";class TN{constructor(t,i,s,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this._databaseInfo=l,this.user=$e.UNAUTHENTICATED,this.clientId=Um.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{rt(is,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(rt(is,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new zs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=rp(i,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Xd(r,t){r.asyncQueue.verifyOperationInProgress(),rt(is,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await ET(t.localStore,l),s=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function hE(r,t){r.asyncQueue.verifyOperationInProgress();const i=await AN(r);rt(is,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((s=>sE(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>sE(t.remoteStore,l))),r._onlineComponents=t}async function AN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){rt(is,"Using user provided OfflineComponentProvider");try{await Xd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;eo("Error using user provided cache. Falling back to memory cache: "+i),await Xd(r,new fh)}}else rt(is,"Using default OfflineComponentProvider"),await Xd(r,new vN(void 0));return r._offlineComponents}async function PT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(rt(is,"Using user provided OnlineComponentProvider"),await hE(r,r._uninitializedComponentsProvider._online)):(rt(is,"Using default OnlineComponentProvider"),await hE(r,new Am))),r._onlineComponents}function SN(r){return PT(r).then((t=>t.syncEngine))}async function fE(r){const t=await PT(r),i=t.eventManager;return i.onListen=aN.bind(null,t.syncEngine),i.onUnlisten=uN.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=oN.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=cN.bind(null,t.syncEngine),i}function bN(r,t,i,s){const l=new EN(s),c=new eN(t,l,i);return r.asyncQueue.enqueueAndForget((async()=>JI(await fE(r),c))),()=>{l.Nu(),r.asyncQueue.enqueueAndForget((async()=>ZI(await fE(r),c)))}}function wN(r,t){const i=new zs;return r.asyncQueue.enqueueAndForget((async()=>hN(await SN(r),t,i))),i.promise}function zT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const RN="ComponentProvider",dE=new Map;function CN(r,t,i,s,l){return new F2(r,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,zT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,s)}const jT="firestore.googleapis.com",mE=!0;class pE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new at(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jT,this.ssl=mE}else this.host=t.host,this.ssl=t.ssl??mE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=_T;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<ZC)throw new at(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}V2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zT(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Oh{constructor(t,i,s,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new at(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new S2;switch(s.type){case"firstParty":return new C2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new at(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=dE.get(i);s&&(rt(RN,"Removing Datastore"),dE.delete(i),s.terminate())})(this),Promise.resolve()}}function IN(r,t,i,s={}){r=$a(r,Oh);const l=oo(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(VE(`https://${p}`),ME("Firestore",!0)),c.host!==jT&&c.host!==p&&eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:s};if(!Hs(y,d)&&(r._setSettings(y),s.mockUserToken)){let _,A;if(typeof s.mockUserToken=="string")_=s.mockUserToken,A=$e.MOCK_USER;else{_=DS(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new at(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new $e(S)}r._authCredentials=new b2(new N0(_,A))}}class go{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new go(this.firestore,t,this._query)}}class Ve{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ve(this.firestore,t,this._key)}toJSON(){return{type:Ve._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,s){if(Zl(i,Ve._jsonSchema))return new Ve(t,s||null,new ct(te.fromString(i.referencePath)))}}Ve._jsonSchemaVersion="firestore/documentReference/1.0",Ve._jsonSchema={type:Ie("string",Ve._jsonSchemaVersion),referencePath:Ie("string")};class Jr extends go{constructor(t,i,s){super(t,i,Hm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ve(this.firestore,null,new ct(t))}withConverter(t){return new Jr(this.firestore,t,this._path)}}function Sm(r,t,...i){if(r=We(r),D0("collection","path",t),r instanceof Oh){const s=te.fromString(t,...i);return Cv(s),new Jr(r,null,s)}{if(!(r instanceof Ve||r instanceof Jr))throw new at(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(te.fromString(t,...i));return Cv(s),new Jr(r.firestore,null,s)}}function BT(r,t,...i){if(r=We(r),arguments.length===1&&(t=Um.newId()),D0("doc","path",t),r instanceof Oh){const s=te.fromString(t,...i);return Rv(s),new Ve(r,null,new ct(s))}{if(!(r instanceof Ve||r instanceof Jr))throw new at(X.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(te.fromString(t,...i));return Rv(s),new Ve(r.firestore,r instanceof Jr?r.converter:null,new ct(s))}}const gE="AsyncQueue";class yE{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new AT(this,"async_queue_retry"),this._c=()=>{const s=Yd();s&&rt(gE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const i=Yd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Yd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new zs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!mo(t))throw t;rt(gE,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,ir("INTERNAL UNHANDLED ERROR: ",_E(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(t,i,s){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=ip.createAndSchedule(this,t,i,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&pt(47125,{Pc:_E(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function _E(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Kl extends Oh{constructor(t,i,s,l){super(t,i,s,l),this.type="firestore",this._queue=new yE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new yE(t),this._firestoreClient=void 0,await t}}}function NN(r,t){const i=typeof r=="object"?r:PE(),s=typeof r=="string"?r:rh,l=Cm(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=IS("firestore");c&&IN(l,...c)}return l}function qT(r){if(r._terminated)throw new at(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||DN(r),r._firestoreClient}function DN(r){const t=r._freezeSettings(),i=CN(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new TN(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Un{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Un(Qe.fromBase64String(t))}catch(i){throw new at(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Un(Qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Zl(t,Un._jsonSchema))return Un.fromBase64String(t.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:Ie("string",Un._jsonSchemaVersion),bytes:Ie("string")};class HT{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new at(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ke(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class lp{constructor(t){this._methodName=t}}class xi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new at(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new at(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ot(this._lat,t._lat)||Ot(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xi._jsonSchemaVersion}}static fromJSON(t){if(Zl(t,xi._jsonSchema))return new xi(t.latitude,t.longitude)}}xi._jsonSchemaVersion="firestore/geoPoint/1.0",xi._jsonSchema={type:Ie("string",xi._jsonSchemaVersion),latitude:Ie("number"),longitude:Ie("number")};class Wn{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Wn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Zl(t,Wn._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Wn(t.vectorValues);throw new at(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wn._jsonSchemaVersion="firestore/vectorValue/1.0",Wn._jsonSchema={type:Ie("string",Wn._jsonSchemaVersion),vectorValues:Ie("object")};const xN=/^__.*__$/;class ON{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new $s(t,this.data,this.fieldMask,i,this.fieldTransforms):new tu(t,this.data,i,this.fieldTransforms)}}function FT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{dataSource:r})}}class up{constructor(t,i,s,l,c,d){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new up({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),s=this.contextWith({path:i,arrayElement:!1});return s.validatePathSegment(t),s}childContextForFieldPath(t){const i=this.path?.child(t),s=this.contextWith({path:i,arrayElement:!1});return s.validatePath(),s}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return dh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(FT(this.dataSource)&&xN.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class VN{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||Nh(t)}createContext(t,i,s,l=!1){return new up({dataSource:t,methodName:i,targetDoc:s,path:Ke.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function GT(r){const t=r._freezeSettings(),i=Nh(r._databaseId);return new VN(r._databaseId,!!t.ignoreUndefinedProperties,i)}function MN(r,t,i,s,l,c={}){const d=r.createContext(c.merge||c.mergeFields?2:0,t,i,l);YT("Data must be an object, but it was:",d,s);const p=KT(s,d);let y,_;if(c.merge)y=new Jn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const S of c.mergeFields){const V=fp(t,S,i);if(!d.contains(V))throw new at(X.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);PN(A,V)||A.push(V)}y=new Jn(A),_=d.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,_=d.fieldTransforms;return new ON(new Ln(p),y,_)}class cp extends lp{_toFieldTransform(t){return new _C(t.path,new Hl)}isEqual(t){return t instanceof cp}}function kN(r,t,i,s=!1){return hp(i,r.createContext(s?4:3,t))}function hp(r,t){if(QT(r=We(r)))return YT("Unsupported field value:",t,r),KT(r,t);if(r instanceof lp)return(function(s,l){if(!FT(l.dataSource))throw l.createError(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(s,l){const c=[];let d=0;for(const p of s){let y=hp(p,l.childContextForArray(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,t)}return(function(s,l){if((s=We(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return pC(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=re.fromDate(s);return{timestampValue:uh(l.serializer,c)}}if(s instanceof re){const c=new re(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:uh(l.serializer,c)}}if(s instanceof xi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Un)return{bytesValue:cT(l.serializer,s._byteString)};if(s instanceof Ve){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Ym(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Wn)return(function(d,p){const y=d instanceof Wn?d.toArray():d;return{mapValue:{fields:{[z0]:{stringValue:j0},[sh]:{arrayValue:{values:y.map((A=>{if(typeof A!="number")throw p.createError("VectorValues must only contain numeric values.");return Fm(p.serializer,A)}))}}}}}})(s,l);if(yT(s))return s._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Eh(s)}`)})(r,t)}function KT(r,t){const i={};return V0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ys(r,((s,l)=>{const c=hp(l,t.childContextForField(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function QT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof re||r instanceof xi||r instanceof Un||r instanceof Ve||r instanceof lp||r instanceof Wn||yT(r))}function YT(r,t,i){if(!QT(i)||!x0(i)){const s=Eh(i);throw s==="an object"?t.createError(r+" a custom object"):t.createError(r+" "+s)}}function fp(r,t,i){if((t=We(t))instanceof HT)return t._internalPath;if(typeof t=="string")return UN(r,t);throw dh("Field path arguments must be of type string or ",r,!1,void 0,i)}const LN=new RegExp("[~\\*/\\[\\]]");function UN(r,t,i){if(t.search(LN)>=0)throw dh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new HT(...t.split("."))._internalPath}catch{throw dh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function dh(r,t,i,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${s}`),d&&(y+=` in document ${l}`),y+=")"),new at(X.INVALID_ARGUMENT,p+r+y)}function PN(r,t){return r.some((i=>i.isEqual(t)))}class zN{convertValue(t,i="none"){switch(es(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(ts(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw pt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return Ys(t,((l,c)=>{s[l]=this.convertValue(c,i)})),s}convertVectorValue(t){const i=t.fields?.[sh].arrayValue?.values?.map((s=>ge(s.doubleValue)));return new Wn(i)}convertGeoPoint(t){return new xi(ge(t.latitude),ge(t.longitude))}convertArray(t,i){return(t.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const s=Sh(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(jl(t));default:return null}}convertTimestamp(t){const i=Wr(t);return new re(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=te.fromString(t);Ht(gT(s),9688,{name:t});const l=new Bl(s.get(1),s.get(3)),c=new ct(s.popFirst(5));return l.isEqual(i)||ir(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class XT extends zN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Un(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ve(this.firestore,null,i)}}function $T(){return new cp("serverTimestamp")}const vE="@firebase/firestore",EE="4.10.0";function TE(r){return(function(i,s){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class JT{constructor(t,i,s,l,c){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ve(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new jN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(fp("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class jN extends JT{data(){return super.data()}}function BN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new at(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dp{}class qN extends dp{}function HN(r,t,...i){let s=[];t instanceof dp&&s.push(t),s=s.concat(i),(function(c){const d=c.filter((y=>y instanceof pp)).length,p=c.filter((y=>y instanceof mp)).length;if(d>1||d>0&&p>0)throw new at(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class mp extends qN{constructor(t,i,s){super(),this._field=t,this._op=i,this._value=s,this.type="where"}static _create(t,i,s){return new mp(t,i,s)}_apply(t){const i=this._parse(t);return ZT(t._query,i),new go(t.firestore,t.converter,fm(t._query,i))}_parse(t){const i=GT(t.firestore);return(function(c,d,p,y,_,A,S){let V;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new at(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){SE(S,A);const W=[];for(const nt of S)W.push(AE(y,c,nt));V={arrayValue:{values:W}}}else V=AE(y,c,S)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||SE(S,A),V=kN(p,d,S,A==="in"||A==="not-in");return Ce.create(_,A,V)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class pp extends dp{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new pp(t,i)}_parse(t){const i=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:ei.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const y of p)ZT(d,y),d=fm(d,y)})(t._query,i),new go(t.firestore,t.converter,fm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function AE(r,t,i){if(typeof(i=We(i))=="string"){if(i==="")throw new at(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Y0(t)&&i.indexOf("/")!==-1)throw new at(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=t.path.child(te.fromString(i));if(!ct.isDocumentKey(s))throw new at(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return kv(r,new ct(s))}if(i instanceof Ve)return kv(r,i._key);throw new at(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Eh(i)}.`)}function SE(r,t){if(!Array.isArray(r)||r.length===0)throw new at(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function ZT(r,t){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new at(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new at(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}function FN(r,t,i){let s;return s=r?r.toFirestore(t):t,s}class Nl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class js extends JT{constructor(t,i,s,l,c,d){super(t,i,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Yc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(fp("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=js._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}js._jsonSchemaVersion="firestore/documentSnapshot/1.0",js._jsonSchema={type:Ie("string",js._jsonSchemaVersion),bundleSource:Ie("string","DocumentSnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class Yc extends js{data(t={}){return super.data(t)}}class Wa{constructor(t,i,s,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Nl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((s=>{t.call(i,new Yc(this._firestore,this._userDataWriter,s.key,s,new Nl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new at(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new Yc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Nl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Yc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Nl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,A=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:GN(p.type),doc:y,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Wa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Um.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function GN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:r})}}Wa._jsonSchemaVersion="firestore/querySnapshot/1.0",Wa._jsonSchema={type:Ie("string",Wa._jsonSchemaVersion),bundleSource:Ie("string","QuerySnapshot"),bundleName:Ie("string"),bundle:Ie("string")};function KN(r){return t1($a(r.firestore,Kl),[new Gm(r._key,Ni.none())])}function WT(r,t){const i=$a(r.firestore,Kl),s=BT(r),l=FN(r.converter,t),c=GT(r.firestore);return t1(i,[MN(c,"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,Ni.exists(!1))]).then((()=>s))}function QN(r,...t){r=We(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||TE(t[s])||(i=t[s++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(TE(t[s])){const _=t[s];t[s]=_.next?.bind(_),t[s+1]=_.error?.bind(_),t[s+2]=_.complete?.bind(_)}let c,d,p;if(r instanceof Ve)d=$a(r.firestore,Kl),p=Hm(r._key.path),c={next:_=>{t[s]&&t[s](YN(d,r,_))},error:t[s+1],complete:t[s+2]};else{const _=$a(r,go);d=$a(_.firestore,Kl),p=_._query;const A=new XT(d);c={next:S=>{t[s]&&t[s](new Wa(d,A,_,S))},error:t[s+1],complete:t[s+2]},BN(r._query)}const y=qT(d);return bN(y,p,l,c)}function t1(r,t){const i=qT(r);return wN(i,t)}function YN(r,t,i){const s=i.docs.get(t._key),l=new XT(r);return new js(r,l,t._key,s,new Nl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){A2(lo),to(new Fs("firestore",((s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),p=new Kl(new w2(s.getProvider("auth-internal")),new I2(d,s.getProvider("app-check-internal")),G2(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Xr(vE,EE,t),Xr(vE,EE,"esm2020")})();const J={colors:{cream:"#F9F5EB",paper:"#EBE5CE",leather:"#5D4037",gold:"#C5A059",burgundy:"#722F37",charcoal:"#1A1A1A"},fonts:{heading:'"Playfair Display", serif',body:'"Lora", serif'}},e1={apiKey:"AIzaSyDIsIkhOD4YL2eIZb2JlD1mY5o0cZ2FfJ0",authDomain:"velocity-e0988.firebaseapp.com",projectId:"velocity-e0988",storageBucket:"velocity-e0988.firebasestorage.app",messagingSenderId:"700489495937",appId:"1:700489495937:web:50981a403ab5834931e480"};e1.apiKey||console.warn("Firebase config not found in environment, using placeholder.");const n1=UE(e1),Bs=E2(n1),mh=NN(n1),ph=typeof __app_id<"u"?__app_id:"default-app-id",XN="admin@prestige.com",qs=r=>r&&r.email===XN,$N=`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E")`,JN=[{year:1967,make:"Ford",model:"Mustang Shelby GT500",price:185e3,category:"Muscle",description:"A pristine example of American muscle history. Wimbledon White with Guardsman Blue stripes. Fully restored to concours condition by marque specialists.",imageUrl:"https://images.unsplash.com/photo-1552519507-da3b142c6e3d?auto=format&fit=crop&q=80&w=800"},{year:1955,make:"Mercedes-Benz",model:"300 SL Gullwing",price:145e4,category:"Sports",description:"The iconic Gullwing. Silver metallic paint with original red leather interior. Matching numbers engine and chassis. A true investment grade vehicle.",imageUrl:"https://images.unsplash.com/photo-1566008872470-dc628f5d450f?auto=format&fit=crop&q=80&w=800"},{year:1961,make:"Jaguar",model:"E-Type Series 1",price:225e3,category:"Convertible",description:"Enzo Ferrari called it 'the most beautiful car ever made'. Finished in British Racing Green with tan hide. Includes original tool roll and heritage certificate.",imageUrl:"https://images.unsplash.com/photo-1563720223185-11003d516935?auto=format&fit=crop&q=80&w=800"}],ZN=()=>N.jsx("div",{className:"fixed inset-0 pointer-events-none z-[100] mix-blend-multiply opacity-40",style:{backgroundImage:$N}}),i1=()=>N.jsxs("div",{className:"flex items-center justify-center my-16 opacity-40",children:[N.jsx("div",{className:"h-px w-24 bg-current",style:{color:J.colors.gold}}),N.jsx("div",{className:"mx-4 text-2xl",style:{color:J.colors.gold},children:""}),N.jsx("div",{className:"h-px w-24 bg-current",style:{color:J.colors.gold}})]}),wi=({children:r,onClick:t,variant:i="primary",className:s="",type:l="button",disabled:c=!1})=>{const d="px-8 py-3 transition-all duration-500 font-serif tracking-[0.15em] disabled:opacity-50 disabled:cursor-not-allowed text-sm relative overflow-hidden group",p={primary:`bg-[${J.colors.burgundy}] text-[${J.colors.cream}] border border-[${J.colors.burgundy}] hover:bg-[${J.colors.charcoal}] hover:border-[${J.colors.charcoal}] uppercase shadow-md`,outline:`bg-transparent text-[${J.colors.leather}] border border-[${J.colors.leather}] hover:bg-[${J.colors.leather}] hover:text-[${J.colors.cream}] uppercase`,text:`text-[${J.colors.leather}] hover:text-[${J.colors.burgundy}] underline decoration-[${J.colors.gold}] decoration-1 underline-offset-8 uppercase text-xs`};return N.jsx("button",{type:l,onClick:t,disabled:c,className:`${d} ${p[i]} ${s}`,style:{fontFamily:J.fonts.heading},children:N.jsx("span",{className:"relative z-10",children:r})})},Us=({label:r,type:t="text",value:i,onChange:s,placeholder:l,required:c=!1})=>N.jsxs("div",{className:"mb-6 group",children:[N.jsx("label",{className:"block text-xs font-bold mb-2 uppercase tracking-[0.2em]",style:{color:J.colors.leather,fontFamily:J.fonts.heading},children:r}),N.jsx("input",{type:t,value:i,onChange:s,placeholder:l,required:c,className:"w-full px-4 py-3 bg-[#FDFBF7] border focus:outline-none transition-all duration-300",style:{borderColor:J.colors.paper,fontFamily:J.fonts.body,color:J.colors.charcoal}}),N.jsx("div",{className:"h-0.5 bg-[${THEME.colors.gold}] w-0 group-hover:w-full transition-all duration-500 ease-out",style:{backgroundColor:J.colors.gold}})]}),WN=({user:r,setView:t,view:i,isTransparent:s})=>{const[l,c]=ie.useState(!1),[d,p]=ie.useState(!1),[y,_]=ie.useState({left:0,width:0,opacity:0}),A=ie.useRef({}),S=[{id:"inventory",label:"Collection"},{id:"home",label:"Services"},...qs(r)?[{id:"add-car",label:"Consign"}]:[]];ie.useEffect(()=>{const bt=()=>p(window.scrollY>50);return window.addEventListener("scroll",bt),()=>window.removeEventListener("scroll",bt)},[]),ie.useEffect(()=>{const bt=A.current[i];_(bt?{left:bt.offsetLeft,width:bt.offsetWidth,opacity:1}:Wt=>({...Wt,opacity:0}))},[i,r]);const V=async()=>{try{await uR(Bs),t("home")}catch(bt){console.error("Error signing out:",bt)}},G=!s||d,W={backgroundColor:G?J.colors.cream:"rgba(0,0,0,0.2)",borderBottom:G?`1px solid ${J.colors.gold}`:"none",backdropFilter:G?"none":"blur(2px)",transition:"all 0.5s ease"},nt=G?J.colors.leather:"#F9F5EB",it=G?J.colors.charcoal:"#FFFFFF",dt=G?J.colors.burgundy:"#C5A059",Tt=G?"border-gray-300":"border-white/30",yt=G?J.colors.burgundy:"#C5A059";return N.jsxs("nav",{className:`w-full py-6 px-6 md:px-12 fixed top-0 z-50 ${G?"shadow-md py-4":""}`,style:W,children:[N.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[N.jsxs("div",{onClick:()=>t("home"),className:"cursor-pointer group flex flex-col items-center",children:[N.jsx("h1",{className:"text-2xl md:text-3xl font-bold tracking-[0.2em] uppercase transition-colors duration-500",style:{fontFamily:J.fonts.heading,color:it},children:"Prestige"}),N.jsx("span",{className:"text-xs tracking-[0.6em] uppercase mt-1 transition-colors duration-500",style:{color:dt,fontFamily:J.fonts.heading},children:"Automobiles"})]}),N.jsxs("div",{className:"hidden md:flex items-center gap-12 relative",children:[S.map(bt=>N.jsx("button",{ref:Wt=>A.current[bt.id]=Wt,onClick:()=>t(bt.id),className:"text-sm tracking-widest uppercase transition-colors duration-300 py-2",style:{fontFamily:J.fonts.heading,color:i===bt.id?G?J.colors.burgundy:"#C5A059":nt},children:bt.label},bt.id)),N.jsx("div",{className:"absolute bottom-0 h-[2px] transition-all duration-500 ease-out pointer-events-none",style:{left:y.left,width:y.width,opacity:y.opacity,backgroundColor:yt}}),r?N.jsx("div",{className:`flex items-center gap-4 border-l pl-8 ${Tt}`,children:N.jsx(wi,{variant:"primary",onClick:V,className:"text-xs py-2 px-6",children:"Logout"})}):N.jsx("div",{className:`flex items-center gap-4 border-l pl-8 ${Tt}`,children:N.jsx(wi,{variant:"primary",onClick:()=>t("login"),className:"text-xs py-2 px-6",children:"Login"})})]}),N.jsx("button",{onClick:()=>c(!l),className:"md:hidden text-2xl",style:{color:nt},children:l?N.jsx(vS,{}):N.jsx(dS,{})})]}),l&&N.jsx("div",{className:"md:hidden absolute top-full left-0 w-full h-screen py-12 shadow-xl",style:{backgroundColor:J.colors.cream},children:N.jsxs("div",{className:"flex flex-col items-center space-y-8",children:[N.jsx("button",{onClick:()=>{t("inventory"),c(!1)},className:"text-xl font-serif",style:{color:J.colors.leather},children:"The Collection"}),N.jsx("button",{onClick:()=>{t("home"),c(!1)},className:"text-xl font-serif",style:{color:J.colors.leather},children:"Our Services"}),r?N.jsxs(N.Fragment,{children:[qs(r)&&N.jsx("button",{onClick:()=>{t("add-car"),c(!1)},className:"text-xl font-serif",style:{color:J.colors.leather},children:"Consign Vehicle"}),N.jsx(wi,{variant:"primary",onClick:()=>{V(),c(!1)},children:"Log Out"})]}):N.jsx(wi,{variant:"outline",onClick:()=>{t("login"),c(!1)},children:"Login"})]})})]})},$d=({type:r,setView:t})=>{const[i,s]=ie.useState(""),[l,c]=ie.useState(""),[d,p]=ie.useState(""),[y,_]=ie.useState(!1),A=async S=>{S.preventDefault(),p(""),_(!0);try{r==="login"?await sR(Bs,i,l):await rR(Bs,i,l),t("inventory")}catch(V){p(V.message.replace("Firebase: ",""))}finally{_(!1)}};return N.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 pt-32 md:pt-40",children:N.jsxs("div",{className:"w-full max-w-md p-12 relative bg-white shadow-2xl border border-stone-200",children:[N.jsx("div",{className:"absolute top-4 left-4 right-4 bottom-4 border pointer-events-none opacity-30",style:{borderColor:J.colors.gold}}),N.jsxs("div",{className:"text-center mb-10",children:[N.jsx("div",{className:"inline-block p-3 rounded-full mb-4",style:{backgroundColor:J.colors.cream},children:N.jsx(RE,{size:32,color:J.colors.leather,strokeWidth:1.5})}),N.jsx("h2",{className:"text-3xl font-bold uppercase tracking-widest",style:{color:J.colors.charcoal,fontFamily:J.fonts.heading},children:r==="login"?"Concierge":"Registry"}),N.jsx("p",{className:"mt-2 text-sm italic opacity-60",style:{fontFamily:J.fonts.body},children:"Authorized Personnel Only"})]}),d&&N.jsx("div",{className:"mb-6 p-4 text-sm text-center text-red-900 bg-red-50 border border-red-100 font-serif",children:d}),N.jsxs("form",{onSubmit:A,className:"space-y-6",children:[N.jsx(Us,{label:"Identity",type:"email",value:i,onChange:S=>s(S.target.value),required:!0}),N.jsx(Us,{label:"Passkey",type:"password",value:l,onChange:S=>c(S.target.value),required:!0}),N.jsx("div",{className:"mt-10 pt-6 border-t border-dashed border-gray-300",children:N.jsx(wi,{type:"submit",variant:"primary",className:"w-full",disabled:y,children:y?"Authenticating...":r==="login"?"Access Portal":"Submit Application"})})]}),N.jsx("div",{className:"mt-8 text-center",children:N.jsx("button",{onClick:()=>t(r==="login"?"signup":"login"),className:"text-xs uppercase tracking-widest hover:text-[${THEME.colors.burgundy}] transition-colors",style:{color:J.colors.leather,fontFamily:J.fonts.heading},children:r==="login"?"Request Membership":"Return to Login"})})]})})},tD=({setView:r})=>{const[t,i]=ie.useState({make:"",model:"",year:"",price:"",category:"Classic",description:"",imageUrl:""}),[s,l]=ie.useState(!1),c=async d=>{d.preventDefault(),l(!0);try{const p=Sm(mh,"artifacts",ph,"public","data","inventory");await WT(p,{...t,price:Number(t.price),year:Number(t.year),createdAt:$T()}),r("inventory")}catch(p){console.error("Error adding car:",p)}finally{l(!1)}};return N.jsx("div",{className:"min-h-screen pt-32 md:pt-40 pb-12 px-4",children:N.jsxs("div",{className:"max-w-3xl mx-auto p-12 bg-white shadow-xl relative border border-stone-200",children:[N.jsxs("div",{className:"text-center mb-12",children:[N.jsx("h2",{className:"text-4xl font-bold mb-2 uppercase tracking-widest",style:{fontFamily:J.fonts.heading,color:J.colors.charcoal},children:"Vehicle Consignment"}),N.jsx("div",{className:"h-1 w-24 mx-auto",style:{backgroundColor:J.colors.gold}})]}),N.jsxs("form",{onSubmit:c,className:"space-y-6",children:[N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[N.jsx(Us,{label:"Marque (Make)",value:t.make,onChange:d=>i({...t,make:d.target.value}),required:!0,placeholder:"e.g. Rolls-Royce"}),N.jsx(Us,{label:"Model Designation",value:t.model,onChange:d=>i({...t,model:d.target.value}),required:!0,placeholder:"e.g. Silver Ghost"})]}),N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[N.jsx(Us,{label:"Model Year",type:"number",value:t.year,onChange:d=>i({...t,year:d.target.value}),required:!0,placeholder:"1925"}),N.jsx(Us,{label:"Valuation ($)",type:"number",value:t.price,onChange:d=>i({...t,price:d.target.value}),required:!0,placeholder:"450000"}),N.jsxs("div",{className:"mb-6",children:[N.jsx("label",{className:"block text-xs font-bold mb-2 uppercase tracking-[0.2em]",style:{color:J.colors.leather,fontFamily:J.fonts.heading},children:"Classification"}),N.jsxs("select",{value:t.category,onChange:d=>i({...t,category:d.target.value}),className:"w-full px-4 py-3 bg-[#FDFBF7] border focus:outline-none",style:{borderColor:J.colors.paper,fontFamily:J.fonts.body,color:J.colors.charcoal},children:[N.jsx("option",{children:"Classic"}),N.jsx("option",{children:"Muscle"}),N.jsx("option",{children:"Sports"}),N.jsx("option",{children:"Pre-War"}),N.jsx("option",{children:"Luxury"})]})]})]}),N.jsx(Us,{label:"Photograph URL",value:t.imageUrl,onChange:d=>i({...t,imageUrl:d.target.value}),placeholder:"https://..."}),N.jsxs("div",{className:"mb-8",children:[N.jsx("label",{className:"block text-xs font-bold mb-2 uppercase tracking-[0.2em]",style:{color:J.colors.leather,fontFamily:J.fonts.heading},children:"Provenance & Details"}),N.jsx("textarea",{value:t.description,onChange:d=>i({...t,description:d.target.value}),className:"w-full px-4 py-3 bg-[#FDFBF7] border focus:outline-none h-40 resize-none leading-relaxed",style:{borderColor:J.colors.paper,fontFamily:J.fonts.body,color:J.colors.charcoal},placeholder:"Describe the vehicle's history, condition, and notable features..."})]}),N.jsxs("div",{className:"flex justify-between items-center pt-8 border-t border-stone-100",children:[N.jsx(wi,{variant:"text",onClick:()=>r("inventory"),children:"Cancel Request"}),N.jsx(wi,{type:"submit",variant:"primary",disabled:s,children:s?"Processing...":"Submit to Catalog"})]})]})]})})},eD=({car:r,user:t})=>{const i=async s=>{if(s.stopPropagation(),!(!t||!r.id)&&confirm("Permanently remove this vehicle from the archives?"))try{await KN(BT(mh,"artifacts",ph,"public","data","inventory",r.id))}catch(l){console.error("Error deleting",l)}};return N.jsxs("div",{className:"group bg-white shadow-xl transition-all duration-500 hover:shadow-2xl border border-stone-200 hover:border-stone-300",children:[N.jsxs("div",{className:"relative h-72 overflow-hidden border-b-4",style:{borderColor:J.colors.gold},children:[N.jsx("img",{src:r.imageUrl||"https://via.placeholder.com/800x600?text=No+Image+Available",alt:`${r.make} ${r.model}`,className:"w-full h-full object-cover transition-transform duration-1000 ease-in-out group-hover:scale-110 filter sepia-[0.15] group-hover:sepia-0",onError:s=>{s.target.src="https://placehold.co/800x600/5D4037/C5A059?text=Prestige+Classics"}}),N.jsx("div",{className:"absolute inset-0 bg-black/10 group-hover:bg-transparent transition-colors duration-500"}),N.jsx("div",{className:"absolute top-0 right-0 px-6 py-2 shadow-lg z-10",style:{backgroundColor:J.colors.cream},children:N.jsx("span",{className:"text-sm font-bold tracking-widest",style:{color:J.colors.charcoal,fontFamily:J.fonts.heading},children:r.price?.toLocaleString("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0})})}),qs(t)&&N.jsx("button",{onClick:i,className:"absolute top-4 left-4 bg-white/90 text-red-900 p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity shadow-lg",children:N.jsx(oS,{size:16})})]}),N.jsxs("div",{className:"p-8 relative bg-white",children:[N.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white px-4 py-1 border border-stone-200 shadow-sm text-[10px] uppercase tracking-[0.2em]",style:{color:J.colors.gold,fontFamily:J.fonts.heading},children:r.category}),N.jsxs("div",{className:"text-center mb-6",children:[N.jsx("h3",{className:"text-2xl font-bold mb-1 tracking-wide",style:{fontFamily:J.fonts.heading,color:J.colors.charcoal},children:r.make}),N.jsxs("p",{className:"text-sm uppercase tracking-[0.2em] mb-4",style:{color:J.colors.leather,fontFamily:J.fonts.heading},children:[r.year,"  ",r.model]}),N.jsx("div",{className:"h-px w-12 bg-gray-200 mx-auto"})]}),N.jsx("p",{className:"text-sm leading-7 mb-8 text-gray-600 text-center line-clamp-3",style:{fontFamily:J.fonts.body},children:r.description}),N.jsx("div",{className:"flex justify-center",children:N.jsxs("button",{className:"flex items-center gap-2 text-xs font-bold uppercase tracking-[0.2em] group-hover:gap-4 transition-all duration-300",style:{color:J.colors.burgundy,fontFamily:J.fonts.heading},children:["Inquire ",N.jsx(WA,{size:14})]})})]})]})},bE=({user:r,setView:t})=>{const[i,s]=ie.useState([]),[l,c]=ie.useState(!0);ie.useEffect(()=>{if(!Bs.currentUser)return;const p=Sm(mh,"artifacts",ph,"public","data","inventory"),y=HN(p),_=QN(y,A=>{const S=A.docs.map(V=>({id:V.id,...V.data()}));s(S),c(!1)},A=>{console.error("Error fetching inventory:",A),c(!1)});return()=>_()},[r]);const d=async()=>{try{c(!0);const p=Sm(mh,"artifacts",ph,"public","data","inventory");for(const y of JN)await WT(p,{...y,createdAt:$T()})}catch(p){console.error("Error seeding",p)}finally{c(!1)}};return l?N.jsx("div",{className:"min-h-screen flex items-center justify-center font-serif text-xl tracking-widest uppercase animate-pulse",style:{color:J.colors.gold},children:"Opening Archives..."}):N.jsx("div",{className:"min-h-screen pt-32 md:pt-40 pb-20 px-6",style:{backgroundColor:J.colors.cream},children:N.jsxs("div",{className:"max-w-7xl mx-auto",children:[N.jsxs("div",{className:"text-center mb-16 relative",children:[N.jsx("span",{className:"text-xs font-bold tracking-[0.4em] uppercase text-stone-400 block mb-4",children:"Established 1964"}),N.jsx("h2",{className:"text-5xl md:text-6xl font-bold mb-6",style:{fontFamily:J.fonts.heading,color:J.colors.charcoal},children:"The Collection"}),N.jsx("p",{className:"text-lg text-stone-500 max-w-2xl mx-auto italic",style:{fontFamily:J.fonts.body},children:'"Cars are the sculptures of our everyday lives."  Chris Bangle'}),qs(r)&&N.jsx("div",{className:"mt-8",children:N.jsxs(wi,{onClick:()=>t("add-car"),variant:"primary",className:"text-xs",children:[N.jsx(eS,{size:14,className:"inline mr-2 mb-0.5"})," Consign Vehicle"]})})]}),i.length===0?N.jsxs("div",{className:"text-center py-24 border border-stone-300 bg-white shadow-sm max-w-2xl mx-auto p-12",children:[N.jsx("div",{className:"mb-6 inline-block p-4 rounded-full bg-stone-50",children:N.jsx(RE,{size:48,className:"opacity-40",style:{color:J.colors.leather}})}),N.jsx("h3",{className:"text-2xl mb-4 uppercase tracking-widest",style:{fontFamily:J.fonts.heading,color:J.colors.charcoal},children:"Archives Empty"}),N.jsx("p",{className:"mb-10 text-stone-500 font-serif",children:"The showroom floor is currently being prepared for new arrivals."}),N.jsxs("div",{className:"flex justify-center gap-6",children:[qs(r)&&N.jsx(wi,{onClick:d,variant:"text",children:"Restore Demo Collection"}),qs(r)&&N.jsx(wi,{onClick:()=>t("add-car"),variant:"outline",children:"Manual Entry"})]})]}):N.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-12",children:i.map(p=>N.jsx(eD,{car:p,user:r},p.id))}),N.jsx(i1,{}),N.jsx("div",{className:"text-center text-stone-500 text-sm font-serif italic",children:"Viewing by appointment only. Please contact our concierge to arrange a private showing."})]})})},nD=()=>N.jsx("div",{className:"py-24 bg-white border-t border-stone-200",children:N.jsx("div",{className:"max-w-7xl mx-auto px-6",children:N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-16 text-center",children:[N.jsxs("div",{className:"flex flex-col items-center",children:[N.jsx("div",{className:"mb-6 text-[#C5A059]",children:N.jsx($A,{size:40,strokeWidth:1})}),N.jsx("h3",{className:"text-xl font-bold mb-4 uppercase tracking-[0.2em]",style:{fontFamily:J.fonts.heading,color:J.colors.charcoal},children:"Authenticity"}),N.jsx("p",{className:"text-stone-500 leading-loose",style:{fontFamily:J.fonts.body},children:"Every vehicle in our collection undergoes a rigorous 150-point inspection and historical verification process by our in-house historians."})]}),N.jsxs("div",{className:"flex flex-col items-center",children:[N.jsx("div",{className:"mb-6 text-[#C5A059]",children:N.jsx(sS,{size:40,strokeWidth:1})}),N.jsx("h3",{className:"text-xl font-bold mb-4 uppercase tracking-[0.2em]",style:{fontFamily:J.fonts.heading,color:J.colors.charcoal},children:"Global Logistics"}),N.jsx("p",{className:"text-stone-500 leading-loose",style:{fontFamily:J.fonts.body},children:"We handle white-glove delivery to any destination worldwide, including customs clearance and climate-controlled transport."})]}),N.jsxs("div",{className:"flex flex-col items-center",children:[N.jsx("div",{className:"mb-6 text-[#C5A059]",children:N.jsx(yS,{size:40,strokeWidth:1})}),N.jsx("h3",{className:"text-xl font-bold mb-4 uppercase tracking-[0.2em]",style:{fontFamily:J.fonts.heading,color:J.colors.charcoal},children:"Concierge Care"}),N.jsx("p",{className:"text-stone-500 leading-loose",style:{fontFamily:J.fonts.body},children:"From storage and maintenance to rally preparation, our dedicated team ensures your investment remains in concours condition."})]})]})})}),iD=({setView:r})=>N.jsxs("div",{className:"relative h-screen flex items-center justify-center overflow-hidden",children:[N.jsxs("div",{className:"absolute inset-0 z-0",children:[N.jsx("div",{className:"absolute inset-0 bg-black/40 z-10 mix-blend-multiply"}),N.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/70 via-transparent to-[#F9F5EB] z-10"}),N.jsx("img",{src:"https://images.unsplash.com/photo-1552519507-da3b142c6e3d?auto=format&fit=crop&q=80&w=2000",alt:"Vintage 70s Car",className:"w-full h-full object-cover animate-pan-slow",style:{animation:"pan 30s infinite alternate linear"}}),N.jsx("style",{children:`
        @keyframes pan {
          0% { transform: scale(1); }
          100% { transform: scale(1.1); }
        }
      `})]}),N.jsxs("div",{className:"relative z-20 text-center px-6 max-w-5xl mt-16",children:[N.jsxs("div",{className:"mb-8 flex items-center justify-center gap-4 text-white/90 uppercase tracking-[0.3em] text-xs md:text-sm font-bold",children:[N.jsx("div",{className:"h-px w-12 bg-white/50"}),N.jsx("span",{children:"Vintage Icons"}),N.jsx("div",{className:"h-px w-12 bg-white/50"})]}),N.jsxs("h1",{className:"text-6xl md:text-8xl lg:text-9xl mb-8 leading-[0.9] text-[#F9F5EB] drop-shadow-2xl",style:{fontFamily:J.fonts.heading,fontWeight:400},children:["Spirit of ",N.jsx("br",{}),N.jsx("i",{className:"font-serif text-[#C5A059]",children:"The Road"})]}),N.jsx("p",{className:"text-xl md:text-2xl mb-12 font-light tracking-wide text-gray-200 max-w-2xl mx-auto leading-relaxed",style:{fontFamily:J.fonts.body},children:"Rediscover the romance of driving. Where every curve tells a story and every engine sings a song of freedom."}),N.jsxs("div",{className:"flex flex-col md:flex-row gap-8 justify-center items-center",children:[N.jsx("button",{onClick:()=>r("inventory"),className:"group px-10 py-4 bg-[#722F37] text-[#F9F5EB] text-sm transition-all duration-500 uppercase tracking-[0.2em] hover:bg-white hover:text-[#1A1A1A] relative overflow-hidden",style:{fontFamily:J.fonts.heading},children:N.jsx("span",{className:"relative z-10",children:"View The Collection"})}),N.jsx("button",{onClick:()=>r("login"),className:"text-white hover:text-[#C5A059] uppercase tracking-[0.2em] text-sm border-b border-transparent hover:border-[#C5A059] pb-1 transition-all duration-300",style:{fontFamily:J.fonts.heading},children:"Member Access"})]})]}),N.jsxs("div",{className:"absolute bottom-10 left-1/2 -translate-x-1/2 z-20 animate-bounce text-white/50",children:[N.jsx("span",{className:"text-[10px] uppercase tracking-[0.3em] block mb-2",children:"Scroll"}),N.jsx("div",{className:"w-px h-12 bg-white/30 mx-auto"})]})]}),rD=()=>N.jsx("footer",{className:"pt-24 pb-12 px-6 bg-[#1A1A1A] text-stone-400 border-t-4",style:{borderColor:J.colors.gold},children:N.jsxs("div",{className:"max-w-7xl mx-auto",children:[N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-12 mb-20",children:[N.jsxs("div",{className:"col-span-1 md:col-span-1",children:[N.jsx("h1",{className:"text-3xl font-bold tracking-[0.1em] uppercase text-white mb-6",style:{fontFamily:J.fonts.heading},children:"Prestige"}),N.jsx("p",{className:"leading-loose text-sm font-serif mb-8 text-stone-500",children:"For over sixty years, Prestige Classics has been the premier destination for investment-grade vintage automobiles."}),N.jsxs("div",{className:"flex gap-6",children:[N.jsx(uS,{size:20,className:"hover:text-white cursor-pointer transition-colors"}),N.jsx(pS,{size:20,className:"hover:text-white cursor-pointer transition-colors"})]})]}),N.jsxs("div",{children:[N.jsx("h4",{className:"text-xs font-bold mb-8 text-white uppercase tracking-[0.2em]",style:{fontFamily:J.fonts.heading},children:"Showroom"}),N.jsxs("ul",{className:"space-y-4 font-serif text-sm",children:[N.jsxs("li",{className:"flex items-start gap-3",children:[N.jsx(hS,{size:16,className:"mt-1 text-[#C5A059]"}),N.jsxs("span",{children:["1964 Heritage Lane",N.jsx("br",{}),"Monterey, CA 93940"]})]}),N.jsxs("li",{className:"flex items-start gap-3",children:[N.jsx(iS,{size:16,className:"mt-1 text-[#C5A059]"}),N.jsxs("span",{children:["Mon - Fri: 09:00 - 18:00",N.jsx("br",{}),"Sat: 10:00 - 16:00"]})]})]})]}),N.jsxs("div",{children:[N.jsx("h4",{className:"text-xs font-bold mb-8 text-white uppercase tracking-[0.2em]",style:{fontFamily:J.fonts.heading},children:"Legal"}),N.jsxs("ul",{className:"space-y-4 font-serif text-sm",children:[N.jsx("li",{className:"hover:text-[#C5A059] cursor-pointer transition-colors",children:"Privacy Policy"}),N.jsx("li",{className:"hover:text-[#C5A059] cursor-pointer transition-colors",children:"Terms of Consignment"}),N.jsx("li",{className:"hover:text-[#C5A059] cursor-pointer transition-colors",children:"Accessibility"})]})]}),N.jsxs("div",{children:[N.jsx("h4",{className:"text-xs font-bold mb-8 text-white uppercase tracking-[0.2em]",style:{fontFamily:J.fonts.heading},children:"Newsletter"}),N.jsx("p",{className:"text-xs font-serif mb-4 text-stone-500",children:"Subscribe for auction results and new arrivals."}),N.jsxs("div",{className:"flex border-b border-stone-700 pb-2",children:[N.jsx("input",{type:"email",placeholder:"Email Address",className:"bg-transparent w-full focus:outline-none text-sm text-white font-serif placeholder-stone-600"}),N.jsx("button",{className:"text-[#C5A059] hover:text-white uppercase text-xs tracking-widest",children:"Join"})]})]})]}),N.jsxs("div",{className:"border-t border-stone-800 pt-12 flex flex-col md:flex-row justify-between items-center text-xs tracking-widest uppercase text-stone-600",children:[N.jsxs("div",{children:[" ",new Date().getFullYear()," Prestige Automobiles. All Rights Reserved."]}),N.jsxs("div",{className:"mt-4 md:mt-0 flex gap-8",children:[N.jsx("span",{children:"Instagram"}),N.jsx("span",{children:"Facebook"}),N.jsx("span",{children:"Artsy"})]})]})]})});function sD(){const[r,t]=ie.useState(null),[i,s]=ie.useState("home"),[l,c]=ie.useState(!1);return ie.useEffect(()=>{(async()=>(typeof __initial_auth_token<"u"&&__initial_auth_token?await iR(Bs,__initial_auth_token):await Zw(Bs),c(!0)))();const p=lR(Bs,y=>{t(y)});return()=>p()},[]),l?N.jsxs("div",{className:"min-h-screen flex flex-col relative selection:bg-[#722F37] selection:text-white",children:[N.jsx(ZN,{}),N.jsx("style",{children:`
          @import url('https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,500;0,600;1,400;1,500&family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;0,800;0,900;1,400;1,500&display=swap');
          
          body {
            background-color: ${J.colors.cream};
            color: ${J.colors.charcoal};
          }
        `}),N.jsx(WN,{user:r,setView:s,view:i,isTransparent:i==="home"}),N.jsxs("main",{className:"flex-grow",children:[i==="home"&&N.jsxs(N.Fragment,{children:[N.jsx(iD,{setView:s}),N.jsx(i1,{}),N.jsx(nD,{})]}),i==="inventory"&&N.jsx(bE,{user:r,setView:s}),i==="login"&&N.jsx($d,{type:"login",setView:s}),i==="signup"&&N.jsx($d,{type:"signup",setView:s}),i==="add-car"&&(qs(r)?N.jsx(tD,{setView:s}):r?N.jsx(bE,{user:r,setView:s}):N.jsx($d,{type:"login",setView:s}))]}),N.jsx(rD,{})]}):null}HA.createRoot(document.getElementById("root")).render(N.jsx(ie.StrictMode,{children:N.jsx(sD,{})}));
