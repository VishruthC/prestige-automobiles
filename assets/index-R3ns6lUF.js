(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Vd={exports:{}},bl={};var q_;function BA(){if(q_)return bl;q_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:c}}return bl.Fragment=t,bl.jsx=i,bl.jsxs=i,bl}var H_;function qA(){return H_||(H_=1,Vd.exports=BA()),Vd.exports}var b=qA(),kd={exports:{}},Tt={};var F_;function HA(){if(F_)return Tt;F_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),M=Symbol.iterator;function F(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var et={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,W={};function ot(O,Y,it){this.props=O,this.context=Y,this.refs=W,this.updater=it||et}ot.prototype.isReactComponent={},ot.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},ot.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function gt(){}gt.prototype=ot.prototype;function yt(O,Y,it){this.props=O,this.context=Y,this.refs=W,this.updater=it||et}var Et=yt.prototype=new gt;Et.constructor=yt,Z(Et,ot.prototype),Et.isPureReactComponent=!0;var te=Array.isArray;function Pt(){}var N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(O,Y,it){var at=it.ref;return{$$typeof:r,type:O,key:Y,ref:at!==void 0?at:null,props:it}}function V(O,Y){return I(O.type,Y,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function L(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(it){return Y[it]})}var R=/\/+/g;function se(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?L(""+O.key):Y.toString(36)}function xe(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Pt,Pt):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,Y,it,at,_t){var wt=typeof O;(wt==="undefined"||wt==="boolean")&&(O=null);var kt=!1;if(O===null)kt=!0;else switch(wt){case"bigint":case"string":case"number":kt=!0;break;case"object":switch(O.$$typeof){case r:case t:kt=!0;break;case A:return kt=O._init,G(kt(O._payload),Y,it,at,_t)}}if(kt)return _t=_t(O),kt=at===""?"."+se(O,0):at,te(_t)?(it="",kt!=null&&(it=kt.replace(R,"$&/")+"/"),G(_t,Y,it,"",function(ls){return ls})):_t!=null&&(D(_t)&&(_t=V(_t,it+(_t.key==null||O&&O.key===_t.key?"":(""+_t.key).replace(R,"$&/")+"/")+kt)),Y.push(_t)),1;kt=0;var De=at===""?".":at+":";if(te(O))for(var ae=0;ae<O.length;ae++)at=O[ae],wt=De+se(at,ae),kt+=G(at,Y,it,wt,_t);else if(ae=F(O),typeof ae=="function")for(O=ae.call(O),ae=0;!(at=O.next()).done;)at=at.value,wt=De+se(at,ae++),kt+=G(at,Y,it,wt,_t);else if(wt==="object"){if(typeof O.then=="function")return G(xe(O),Y,it,at,_t);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return kt}function nt(O,Y,it){if(O==null)return O;var at=[],_t=0;return G(O,at,"","",function(wt){return Y.call(it,wt,_t++)}),at}function ft(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(it){(O._status===0||O._status===-1)&&(O._status=1,O._result=it)},function(it){(O._status===0||O._status===-1)&&(O._status=2,O._result=it)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var Ut=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Gt={map:nt,forEach:function(O,Y,it){nt(O,function(){Y.apply(this,arguments)},it)},count:function(O){var Y=0;return nt(O,function(){Y++}),Y},toArray:function(O){return nt(O,function(Y){return Y})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Tt.Activity=S,Tt.Children=Gt,Tt.Component=ot,Tt.Fragment=i,Tt.Profiler=l,Tt.PureComponent=yt,Tt.StrictMode=s,Tt.Suspense=_,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return N.H.useMemoCache(O)}},Tt.cache=function(O){return function(){return O.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(O,Y,it){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var at=Z({},O.props),_t=O.key;if(Y!=null)for(wt in Y.key!==void 0&&(_t=""+Y.key),Y)!w.call(Y,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&Y.ref===void 0||(at[wt]=Y[wt]);var wt=arguments.length-2;if(wt===1)at.children=it;else if(1<wt){for(var kt=Array(wt),De=0;De<wt;De++)kt[De]=arguments[De+2];at.children=kt}return I(O.type,_t,at)},Tt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Tt.createElement=function(O,Y,it){var at,_t={},wt=null;if(Y!=null)for(at in Y.key!==void 0&&(wt=""+Y.key),Y)w.call(Y,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(_t[at]=Y[at]);var kt=arguments.length-2;if(kt===1)_t.children=it;else if(1<kt){for(var De=Array(kt),ae=0;ae<kt;ae++)De[ae]=arguments[ae+2];_t.children=De}if(O&&O.defaultProps)for(at in kt=O.defaultProps,kt)_t[at]===void 0&&(_t[at]=kt[at]);return I(O,wt,_t)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(O){return{$$typeof:p,render:O}},Tt.isValidElement=D,Tt.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:ft}},Tt.memo=function(O,Y){return{$$typeof:y,type:O,compare:Y===void 0?null:Y}},Tt.startTransition=function(O){var Y=N.T,it={};N.T=it;try{var at=O(),_t=N.S;_t!==null&&_t(it,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(Pt,Ut)}catch(wt){Ut(wt)}finally{Y!==null&&it.types!==null&&(Y.types=it.types),N.T=Y}},Tt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Tt.use=function(O){return N.H.use(O)},Tt.useActionState=function(O,Y,it){return N.H.useActionState(O,Y,it)},Tt.useCallback=function(O,Y){return N.H.useCallback(O,Y)},Tt.useContext=function(O){return N.H.useContext(O)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(O,Y){return N.H.useDeferredValue(O,Y)},Tt.useEffect=function(O,Y){return N.H.useEffect(O,Y)},Tt.useEffectEvent=function(O){return N.H.useEffectEvent(O)},Tt.useId=function(){return N.H.useId()},Tt.useImperativeHandle=function(O,Y,it){return N.H.useImperativeHandle(O,Y,it)},Tt.useInsertionEffect=function(O,Y){return N.H.useInsertionEffect(O,Y)},Tt.useLayoutEffect=function(O,Y){return N.H.useLayoutEffect(O,Y)},Tt.useMemo=function(O,Y){return N.H.useMemo(O,Y)},Tt.useOptimistic=function(O,Y){return N.H.useOptimistic(O,Y)},Tt.useReducer=function(O,Y,it){return N.H.useReducer(O,Y,it)},Tt.useRef=function(O){return N.H.useRef(O)},Tt.useState=function(O){return N.H.useState(O)},Tt.useSyncExternalStore=function(O,Y,it){return N.H.useSyncExternalStore(O,Y,it)},Tt.useTransition=function(){return N.H.useTransition()},Tt.version="19.2.3",Tt}var G_;function Im(){return G_||(G_=1,kd.exports=HA()),kd.exports}var Ht=Im(),Ld={exports:{}},wl={},Ud={exports:{}},Pd={};var K_;function FA(){return K_||(K_=1,(function(r){function t(G,nt){var ft=G.length;G.push(nt);t:for(;0<ft;){var Ut=ft-1>>>1,Gt=G[Ut];if(0<l(Gt,nt))G[Ut]=nt,G[ft]=Gt,ft=Ut;else break t}}function i(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var nt=G[0],ft=G.pop();if(ft!==nt){G[0]=ft;t:for(var Ut=0,Gt=G.length,O=Gt>>>1;Ut<O;){var Y=2*(Ut+1)-1,it=G[Y],at=Y+1,_t=G[at];if(0>l(it,ft))at<Gt&&0>l(_t,it)?(G[Ut]=_t,G[at]=ft,Ut=at):(G[Ut]=it,G[Y]=ft,Ut=Y);else if(at<Gt&&0>l(_t,ft))G[Ut]=_t,G[at]=ft,Ut=at;else break t}}return nt}function l(G,nt){var ft=G.sortIndex-nt.sortIndex;return ft!==0?ft:G.id-nt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var _=[],y=[],A=1,S=null,M=3,F=!1,et=!1,Z=!1,W=!1,ot=typeof setTimeout=="function"?setTimeout:null,gt=typeof clearTimeout=="function"?clearTimeout:null,yt=typeof setImmediate<"u"?setImmediate:null;function Et(G){for(var nt=i(y);nt!==null;){if(nt.callback===null)s(y);else if(nt.startTime<=G)s(y),nt.sortIndex=nt.expirationTime,t(_,nt);else break;nt=i(y)}}function te(G){if(Z=!1,Et(G),!et)if(i(_)!==null)et=!0,Pt||(Pt=!0,L());else{var nt=i(y);nt!==null&&xe(te,nt.startTime-G)}}var Pt=!1,N=-1,w=5,I=-1;function V(){return W?!0:!(r.unstable_now()-I<w)}function D(){if(W=!1,Pt){var G=r.unstable_now();I=G;var nt=!0;try{t:{et=!1,Z&&(Z=!1,gt(N),N=-1),F=!0;var ft=M;try{e:{for(Et(G),S=i(_);S!==null&&!(S.expirationTime>G&&V());){var Ut=S.callback;if(typeof Ut=="function"){S.callback=null,M=S.priorityLevel;var Gt=Ut(S.expirationTime<=G);if(G=r.unstable_now(),typeof Gt=="function"){S.callback=Gt,Et(G),nt=!0;break e}S===i(_)&&s(_),Et(G)}else s(_);S=i(_)}if(S!==null)nt=!0;else{var O=i(y);O!==null&&xe(te,O.startTime-G),nt=!1}}break t}finally{S=null,M=ft,F=!1}nt=void 0}}finally{nt?L():Pt=!1}}}var L;if(typeof yt=="function")L=function(){yt(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,se=R.port2;R.port1.onmessage=D,L=function(){se.postMessage(null)}}else L=function(){ot(D,0)};function xe(G,nt){N=ot(function(){G(r.unstable_now())},nt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(G){switch(M){case 1:case 2:case 3:var nt=3;break;default:nt=M}var ft=M;M=nt;try{return G()}finally{M=ft}},r.unstable_requestPaint=function(){W=!0},r.unstable_runWithPriority=function(G,nt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ft=M;M=G;try{return nt()}finally{M=ft}},r.unstable_scheduleCallback=function(G,nt,ft){var Ut=r.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Ut+ft:Ut):ft=Ut,G){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=ft+Gt,G={id:A++,callback:nt,priorityLevel:G,startTime:ft,expirationTime:Gt,sortIndex:-1},ft>Ut?(G.sortIndex=ft,t(y,G),i(_)===null&&G===i(y)&&(Z?(gt(N),N=-1):Z=!0,xe(te,ft-Ut))):(G.sortIndex=Gt,t(_,G),et||F||(et=!0,Pt||(Pt=!0,L()))),G},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(G){var nt=M;return function(){var ft=M;M=nt;try{return G.apply(this,arguments)}finally{M=ft}}}})(Pd)),Pd}var Q_;function GA(){return Q_||(Q_=1,Ud.exports=FA()),Ud.exports}var zd={exports:{}},Ye={};var Y_;function KA(){if(Y_)return Ye;Y_=1;var r=Im();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:_,containerInfo:y,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ye.createPortal=function(_,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,A)},Ye.flushSync=function(_){var y=d.T,A=s.p;try{if(d.T=null,s.p=2,_)return _()}finally{d.T=y,s.p=A,s.d.f()}},Ye.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(_,y))},Ye.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},Ye.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var A=y.as,S=p(A,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,F=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?s.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:M,fetchPriority:F}):A==="script"&&s.d.X(_,{crossOrigin:S,integrity:M,fetchPriority:F,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ye.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=p(y.as,y.crossOrigin);s.d.M(_,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(_)},Ye.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,S=p(A,y.crossOrigin);s.d.L(_,A,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ye.preloadModule=function(_,y){if(typeof _=="string")if(y){var A=p(y.as,y.crossOrigin);s.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(_)},Ye.requestFormReset=function(_){s.d.r(_)},Ye.unstable_batchedUpdates=function(_,y){return _(y)},Ye.useFormState=function(_,y,A){return d.H.useFormState(_,y,A)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.3",Ye}var X_;function QA(){if(X_)return zd.exports;X_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),zd.exports=KA(),zd.exports}var $_;function YA(){if($_)return wl;$_=1;var r=GA(),t=Im(),i=QA();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(s(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===a){g=!0,a=h,o=f;break}if(E===o){g=!0,o=h,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,o=h;break}if(E===o){g=!0,o=f,a=h;break}E=E.sibling}if(!g)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,M=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),et=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),ot=Symbol.for("react.profiler"),gt=Symbol.for("react.consumer"),yt=Symbol.for("react.context"),Et=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),Pt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function se(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case ot:return"Profiler";case W:return"StrictMode";case te:return"Suspense";case Pt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case et:return"Portal";case yt:return e.displayName||"Context";case gt:return(e._context.displayName||"Context")+".Consumer";case Et:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:se(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return se(e(n))}catch{}}return null}var xe=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Ut=[],Gt=-1;function O(e){return{current:e}}function Y(e){0>Gt||(e.current=Ut[Gt],Ut[Gt]=null,Gt--)}function it(e,n){Gt++,Ut[Gt]=e.current,e.current=n}var at=O(null),_t=O(null),wt=O(null),kt=O(null);function De(e,n){switch(it(wt,n),it(_t,e),it(at,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?h_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=h_(n),e=f_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(at),it(at,e)}function ae(){Y(at),Y(_t),Y(wt)}function ls(e){e.memoizedState!==null&&it(kt,e);var n=at.current,a=f_(n,e.type);n!==a&&(it(_t,e),it(at,a))}function Ws(e){_t.current===e&&(Y(at),Y(_t)),kt.current===e&&(Y(kt),El._currentValue=ft)}var ta,ea;function ri(e){if(ta===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);ta=n&&n[1]||"",ea=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ta+e+ea}var Eo=!1;function us(e,n){if(!e||Eo)return"";Eo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(q){var j=q}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(q){j=q}e.call(Q.prototype)}}else{try{throw Error()}catch(q){j=q}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var C=g.split(`
`),z=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===z.length)for(o=C.length-1,h=z.length-1;1<=o&&0<=h&&C[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==z[h]){var H=`
`+C[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=h);break}}}finally{Eo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ri(a):""}function To(e,n){switch(e.tag){case 26:case 27:case 5:return ri(e.type);case 16:return ri("Lazy");case 13:return e.child!==n&&n!==null?ri("Suspense Fallback"):ri("Suspense");case 19:return ri("SuspenseList");case 0:case 15:return us(e.type,!1);case 11:return us(e.type.render,!1);case 1:return us(e.type,!0);case 31:return ri("Activity");default:return""}}function Ao(e){try{var n="",a=null;do n+=To(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var _e=Object.prototype.hasOwnProperty,Oe=r.unstable_scheduleCallback,cr=r.unstable_cancelCallback,kh=r.unstable_shouldYield,au=r.unstable_requestPaint,en=r.unstable_now,cs=r.unstable_getCurrentPriorityLevel,So=r.unstable_ImmediatePriority,bo=r.unstable_UserBlockingPriority,hr=r.unstable_NormalPriority,Lh=r.unstable_LowPriority,ou=r.unstable_IdlePriority,lu=r.log,uu=r.unstable_setDisableYieldValue,Pn=null,ze=null;function Sn(e){if(typeof lu=="function"&&uu(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(Pn,e)}catch{}}var fe=Math.clz32?Math.clz32:hu,cu=Math.log,na=Math.LN2;function hu(e){return e>>>=0,e===0?32:31-(cu(e)/na|0)|0}var si=256,hs=262144,ve=4194304;function ai(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function oi(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ai(o):(g&=E,g!==0?h=ai(g):a||(a=E&~e,a!==0&&(h=ai(a))))):(E=o&~f,E!==0?h=ai(E):g!==0?h=ai(g):a||(a=o&~e,a!==0&&(h=ai(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function zn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Uh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fu(){var e=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),e}function li(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function fs(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ph(e,n,a,o,h,f){var g=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,z=e.hiddenUpdates;for(a=g&~a;0<a;){var H=31-fe(a),Q=1<<H;E[H]=0,C[H]=-1;var j=z[H];if(j!==null)for(z[H]=null,H=0;H<j.length;H++){var q=j[H];q!==null&&(q.lane&=-536870913)}a&=~Q}o!==0&&ds(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function ds(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-fe(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function wo(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-fe(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function Ro(e,n){var a=n&-n;return a=(a&42)!==0?1:ms(a),(a&(e.suspendedLanes|n))!==0?0:a}function ms(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Li(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function du(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:k_(e.type))}function jn(e,n){var a=nt.p;try{return nt.p=e,n()}finally{nt.p=a}}var Bn=Math.random().toString(36).slice(2),Ee="__reactFiber$"+Bn,ke="__reactProps$"+Bn,ui="__reactContainer$"+Bn,ia="__reactEvents$"+Bn,zh="__reactListeners$"+Bn,mu="__reactHandles$"+Bn,pu="__reactResources$"+Bn,ci="__reactMarker$"+Bn;function ra(e){delete e[Ee],delete e[ke],delete e[ia],delete e[zh],delete e[mu]}function hi(e){var n=e[Ee];if(n)return n;for(var a=e.parentNode;a;){if(n=a[ui]||a[Ee]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=v_(e);e!==null;){if(a=e[Ee])return a;e=v_(e)}return n}e=a,a=e.parentNode}return null}function bn(e){if(e=e[Ee]||e[ui]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function mn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function fi(e){var n=e[pu];return n||(n=e[pu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Te(e){e[ci]=!0}var Co=new Set,Io={};function di(e,n){mi(e,n),mi(e+"Capture",n)}function mi(e,n){for(Io[e]=n,e=0;e<n.length;e++)Co.add(n[e])}var No=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xo={},Do={};function gu(e){return _e.call(Do,e)?!0:_e.call(xo,e)?!1:No.test(e)?Do[e]=!0:(xo[e]=!0,!1)}function sa(e,n,a){if(gu(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function pn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Ae(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function Le(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Oo(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Kt(e){if(!e._valueTracker){var n=fr(e)?"checked":"value";e._valueTracker=Oo(e,n,""+e[n])}}function ps(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=fr(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function pi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var gs=/[\n"\\]/g;function sn(e){return e.replace(gs,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function aa(e,n,a,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Le(n)):e.value!==""+Le(n)&&(e.value=""+Le(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Mo(e,g,Le(n)):a!=null?Mo(e,g,Le(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Le(E):e.removeAttribute("name")}function yu(e,n,a,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Kt(e);return}a=a!=null?""+Le(a):"",n=n!=null?""+Le(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Kt(e)}function Mo(e,n,a){n==="number"&&pi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function dr(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Le(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function _u(e,n,a){if(n!=null&&(n=""+Le(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Le(a):""}function mr(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(xe(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Le(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Kt(e)}function an(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var vu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vo(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||vu.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function ko(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Vo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Vo(e,f,n[f])}function oa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function la(e){return pr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function qn(){}var Lo=null;function wn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gr=null,gi=null;function ys(e){var n=bn(e);if(n&&(e=n.stateNode)){var a=e[ke]||null;t:switch(e=n.stateNode,n.type){case"input":if(aa(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+sn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[ke]||null;if(!h)throw Error(s(90));aa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&ps(o)}break t;case"textarea":_u(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&dr(e,!!a.multiple,n,!1)}}}var ua=!1;function yr(e,n,a){if(ua)return e(n,a);ua=!0;try{var o=e(n);return o}finally{if(ua=!1,(gr!==null||gi!==null)&&(dc(),gr&&(n=gr,e=gi,gi=gr=null,ys(n),e)))for(n=0;n<e.length;n++)ys(e[n])}}function Hn(e,n){var a=e.stateNode;if(a===null)return null;var o=a[ke]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_s=!1;if(Rn)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){_s=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{_s=!1}var yi=null,Uo=null,vs=null;function Po(){if(vs)return vs;var e,n=Uo,a=n.length,o,h="value"in yi?yi.value:yi.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var g=a-e;for(o=1;o<=g&&n[a-o]===h[f-o];o++);return vs=h.slice(e,1<o?1-o:void 0)}function Es(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ui(){return!0}function Fn(){return!1}function je(e){function n(a,o,h,f,g){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ui:Fn,this.isPropagationStopped=Fn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),n}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_i=je(Pi),_r=S({},Pi,{view:0,detail:0}),zo=je(_r),vr,ca,vi,ha=S({},_r,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Er,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vi&&(vi&&e.type==="mousemove"?(vr=e.screenX-vi.screenX,ca=e.screenY-vi.screenY):ca=vr=0,vi=e),vr)},movementY:function(e){return"movementY"in e?e.movementY:ca}}),jo=je(ha),Ts=S({},ha,{dataTransfer:0}),Tu=je(Ts),Au=S({},_r,{relatedTarget:0}),As=je(Au),Bo=S({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),Su=je(Bo),fa=S({},Pi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bu=je(fa),wu=S({},Pi,{data:0}),Ei=je(wu),Ru={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Iu[e])?!!n[e]:!1}function Er(){return Nu}var nn=S({},_r,{key:function(e){if(e.key){var n=Ru[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Es(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Cu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Er,charCode:function(e){return e.type==="keypress"?Es(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Es(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xu=je(nn),Du=S({},ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zi=je(Du),u=S({},_r,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Er}),m=je(u),v=S({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=je(v),U=S({},ha,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=je(U),tt=S({},Pi,{newState:0,oldState:0}),St=je(tt),de=[9,13,27,32],Bt=Rn&&"CompositionEvent"in window,oe=null;Rn&&"documentMode"in document&&(oe=document.documentMode);var Cn=Rn&&"TextEvent"in window&&!oe,Ti=Rn&&(!Bt||oe&&8<oe&&11>=oe),Gn=" ",Kn=!1;function Ss(e,n){switch(e){case"keyup":return de.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function da(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ma=!1;function h1(e,n){switch(e){case"compositionend":return da(n);case"keypress":return n.which!==32?null:(Kn=!0,Gn);case"textInput":return e=n.data,e===Gn&&Kn?null:e;default:return null}}function f1(e,n){if(ma)return e==="compositionend"||!Bt&&Ss(e,n)?(e=Po(),vs=Uo=yi=null,ma=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ti&&n.locale!=="ko"?null:n.data;default:return null}}var d1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ap(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!d1[e.type]:n==="textarea"}function Sp(e,n,a,o){gr?gi?gi.push(o):gi=[o]:gr=o,n=Ec(n,"onChange"),0<n.length&&(a=new _i("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var qo=null,Ho=null;function m1(e){s_(e,0)}function Ou(e){var n=mn(e);if(ps(n))return e}function bp(e,n){if(e==="change")return n}var wp=!1;if(Rn){var jh;if(Rn){var Bh="oninput"in document;if(!Bh){var Rp=document.createElement("div");Rp.setAttribute("oninput","return;"),Bh=typeof Rp.oninput=="function"}jh=Bh}else jh=!1;wp=jh&&(!document.documentMode||9<document.documentMode)}function Cp(){qo&&(qo.detachEvent("onpropertychange",Ip),Ho=qo=null)}function Ip(e){if(e.propertyName==="value"&&Ou(Ho)){var n=[];Sp(n,Ho,e,wn(e)),yr(m1,n)}}function p1(e,n,a){e==="focusin"?(Cp(),qo=n,Ho=a,qo.attachEvent("onpropertychange",Ip)):e==="focusout"&&Cp()}function g1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ou(Ho)}function y1(e,n){if(e==="click")return Ou(n)}function _1(e,n){if(e==="input"||e==="change")return Ou(n)}function v1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var gn=typeof Object.is=="function"?Object.is:v1;function Fo(e,n){if(gn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!_e.call(n,h)||!gn(e[h],n[h]))return!1}return!0}function Np(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xp(e,n){var a=Np(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Np(a)}}function Dp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Dp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Op(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=pi(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=pi(e.document)}return n}function qh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var E1=Rn&&"documentMode"in document&&11>=document.documentMode,pa=null,Hh=null,Go=null,Fh=!1;function Mp(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Fh||pa==null||pa!==pi(o)||(o=pa,"selectionStart"in o&&qh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Go&&Fo(Go,o)||(Go=o,o=Ec(Hh,"onSelect"),0<o.length&&(n=new _i("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=pa)))}function bs(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var ga={animationend:bs("Animation","AnimationEnd"),animationiteration:bs("Animation","AnimationIteration"),animationstart:bs("Animation","AnimationStart"),transitionrun:bs("Transition","TransitionRun"),transitionstart:bs("Transition","TransitionStart"),transitioncancel:bs("Transition","TransitionCancel"),transitionend:bs("Transition","TransitionEnd")},Gh={},Vp={};Rn&&(Vp=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function ws(e){if(Gh[e])return Gh[e];if(!ga[e])return e;var n=ga[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Vp)return Gh[e]=n[a];return e}var kp=ws("animationend"),Lp=ws("animationiteration"),Up=ws("animationstart"),T1=ws("transitionrun"),A1=ws("transitionstart"),S1=ws("transitioncancel"),Pp=ws("transitionend"),zp=new Map,Kh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kh.push("scrollEnd");function Qn(e,n){zp.set(e,n),di(n,[e])}var Mu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},In=[],ya=0,Qh=0;function Vu(){for(var e=ya,n=Qh=ya=0;n<e;){var a=In[n];In[n++]=null;var o=In[n];In[n++]=null;var h=In[n];In[n++]=null;var f=In[n];if(In[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&jp(a,h,f)}}function ku(e,n,a,o){In[ya++]=e,In[ya++]=n,In[ya++]=a,In[ya++]=o,Qh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Yh(e,n,a,o){return ku(e,n,a,o),Lu(e)}function Rs(e,n){return ku(e,null,null,n),Lu(e)}function jp(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-fe(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Lu(e){if(50<dl)throw dl=0,rd=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var _a={};function b1(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(e,n,a,o){return new b1(e,n,a,o)}function Xh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ji(e,n){var a=e.alternate;return a===null?(a=yn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Bp(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Uu(e,n,a,o,h,f){var g=0;if(o=e,typeof e=="function")Xh(e)&&(g=1);else if(typeof e=="string")g=NA(e,a,at.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=yn(31,a,n,h),e.elementType=I,e.lanes=f,e;case Z:return Cs(a.children,h,f,n);case W:g=8,h|=24;break;case ot:return e=yn(12,a,n,h|2),e.elementType=ot,e.lanes=f,e;case te:return e=yn(13,a,n,h),e.elementType=te,e.lanes=f,e;case Pt:return e=yn(19,a,n,h),e.elementType=Pt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case yt:g=10;break t;case gt:g=9;break t;case Et:g=11;break t;case N:g=14;break t;case w:g=16,o=null;break t}g=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=yn(g,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Cs(e,n,a,o){return e=yn(7,e,o,n),e.lanes=a,e}function $h(e,n,a){return e=yn(6,e,null,n),e.lanes=a,e}function qp(e){var n=yn(18,null,null,0);return n.stateNode=e,n}function Jh(e,n,a){return n=yn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Hp=new WeakMap;function Nn(e,n){if(typeof e=="object"&&e!==null){var a=Hp.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Ao(n)},Hp.set(e,n),n)}return{value:e,source:n,stack:Ao(n)}}var va=[],Ea=0,Pu=null,Ko=0,xn=[],Dn=0,Tr=null,Ai=1,Si="";function Bi(e,n){va[Ea++]=Ko,va[Ea++]=Pu,Pu=e,Ko=n}function Fp(e,n,a){xn[Dn++]=Ai,xn[Dn++]=Si,xn[Dn++]=Tr,Tr=e;var o=Ai;e=Si;var h=32-fe(o)-1;o&=~(1<<h),a+=1;var f=32-fe(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Ai=1<<32-fe(n)+h|a<<h|o,Si=f+e}else Ai=1<<f|a<<h|o,Si=e}function Zh(e){e.return!==null&&(Bi(e,1),Fp(e,1,0))}function Wh(e){for(;e===Pu;)Pu=va[--Ea],va[Ea]=null,Ko=va[--Ea],va[Ea]=null;for(;e===Tr;)Tr=xn[--Dn],xn[Dn]=null,Si=xn[--Dn],xn[Dn]=null,Ai=xn[--Dn],xn[Dn]=null}function Gp(e,n){xn[Dn++]=Ai,xn[Dn++]=Si,xn[Dn++]=Tr,Ai=n.id,Si=n.overflow,Tr=e}var Be=null,ne=null,Vt=!1,Ar=null,On=!1,tf=Error(s(519));function Sr(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Qo(Nn(n,e)),tf}function Kp(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[Ee]=e,n[ke]=o,a){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(a=0;a<pl.length;a++)It(pl[a],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),yu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),mr(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||u_(n.textContent,a)?(o.popover!=null&&(It("beforetoggle",n),It("toggle",n)),o.onScroll!=null&&It("scroll",n),o.onScrollEnd!=null&&It("scrollend",n),o.onClick!=null&&(n.onclick=qn),n=!0):n=!1,n||Sr(e,!0)}function Qp(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:On=!1;return;case 27:case 3:On=!0;return;default:Be=Be.return}}function Ta(e){if(e!==Be)return!1;if(!Vt)return Qp(e),Vt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||vd(e.type,e.memoizedProps)),a=!a),a&&ne&&Sr(e),Qp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ne=__(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ne=__(e)}else n===27?(n=ne,Ur(e.type)?(e=bd,bd=null,ne=e):ne=n):ne=Be?Vn(e.stateNode.nextSibling):null;return!0}function Is(){ne=Be=null,Vt=!1}function ef(){var e=Ar;return e!==null&&(cn===null?cn=e:cn.push.apply(cn,e),Ar=null),e}function Qo(e){Ar===null?Ar=[e]:Ar.push(e)}var nf=O(null),Ns=null,qi=null;function br(e,n,a){it(nf,n._currentValue),n._currentValue=a}function Hi(e){e._currentValue=nf.current,Y(nf)}function rf(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function sf(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),rf(f.return,a,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(s(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),rf(g,a,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Aa(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var E=h.type;gn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===kt.current){if(g=h.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(El):e=[El])}h=h.return}e!==null&&sf(n,e,a,o),n.flags|=262144}function zu(e){for(e=e.firstContext;e!==null;){if(!gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function xs(e){Ns=e,qi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return Yp(Ns,e)}function ju(e,n){return Ns===null&&xs(e),Yp(e,n)}function Yp(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},qi===null){if(e===null)throw Error(s(308));qi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else qi=qi.next=n;return a}var w1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},R1=r.unstable_scheduleCallback,C1=r.unstable_NormalPriority,Se={$$typeof:yt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function af(){return{controller:new w1,data:new Map,refCount:0}}function Yo(e){e.refCount--,e.refCount===0&&R1(C1,function(){e.controller.abort()})}var Xo=null,of=0,Sa=0,ba=null;function I1(e,n){if(Xo===null){var a=Xo=[];of=0,Sa=cd(),ba={status:"pending",value:void 0,then:function(o){a.push(o)}}}return of++,n.then(Xp,Xp),n}function Xp(){if(--of===0&&Xo!==null){ba!==null&&(ba.status="fulfilled");var e=Xo;Xo=null,Sa=0,ba=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function N1(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var $p=G.S;G.S=function(e,n){My=en(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&I1(e,n),$p!==null&&$p(e,n)};var Ds=O(null);function lf(){var e=Ds.current;return e!==null?e:Wt.pooledCache}function Bu(e,n){n===null?it(Ds,Ds.current):it(Ds,n.pool)}function Jp(){var e=lf();return e===null?null:{parent:Se._currentValue,pool:e}}var wa=Error(s(460)),uf=Error(s(474)),qu=Error(s(542)),Hu={then:function(){}};function Zp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Wp(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(qn,qn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,eg(e),e;default:if(typeof n.status=="string")n.then(qn,qn);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,eg(e),e}throw Ms=n,wa}}function Os(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ms=a,wa):a}}var Ms=null;function tg(){if(Ms===null)throw Error(s(459));var e=Ms;return Ms=null,e}function eg(e){if(e===wa||e===qu)throw Error(s(483))}var Ra=null,$o=0;function Fu(e){var n=$o;return $o+=1,Ra===null&&(Ra=[]),Wp(Ra,e,n)}function Jo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Gu(e,n){throw n.$$typeof===M?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function ng(e){function n(k,x){if(e){var P=k.deletions;P===null?(k.deletions=[x],k.flags|=16):P.push(x)}}function a(k,x){if(!e)return null;for(;x!==null;)n(k,x),x=x.sibling;return null}function o(k){for(var x=new Map;k!==null;)k.key!==null?x.set(k.key,k):x.set(k.index,k),k=k.sibling;return x}function h(k,x){return k=ji(k,x),k.index=0,k.sibling=null,k}function f(k,x,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<x?(k.flags|=67108866,x):P):(k.flags|=67108866,x)):(k.flags|=1048576,x)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,x,P,K){return x===null||x.tag!==6?(x=$h(P,k.mode,K),x.return=k,x):(x=h(x,P),x.return=k,x)}function C(k,x,P,K){var ct=P.type;return ct===Z?H(k,x,P.props.children,K,P.key):x!==null&&(x.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===w&&Os(ct)===x.type)?(x=h(x,P.props),Jo(x,P),x.return=k,x):(x=Uu(P.type,P.key,P.props,null,k.mode,K),Jo(x,P),x.return=k,x)}function z(k,x,P,K){return x===null||x.tag!==4||x.stateNode.containerInfo!==P.containerInfo||x.stateNode.implementation!==P.implementation?(x=Jh(P,k.mode,K),x.return=k,x):(x=h(x,P.children||[]),x.return=k,x)}function H(k,x,P,K,ct){return x===null||x.tag!==7?(x=Cs(P,k.mode,K,ct),x.return=k,x):(x=h(x,P),x.return=k,x)}function Q(k,x,P){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=$h(""+x,k.mode,P),x.return=k,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case F:return P=Uu(x.type,x.key,x.props,null,k.mode,P),Jo(P,x),P.return=k,P;case et:return x=Jh(x,k.mode,P),x.return=k,x;case w:return x=Os(x),Q(k,x,P)}if(xe(x)||L(x))return x=Cs(x,k.mode,P,null),x.return=k,x;if(typeof x.then=="function")return Q(k,Fu(x),P);if(x.$$typeof===yt)return Q(k,ju(k,x),P);Gu(k,x)}return null}function j(k,x,P,K){var ct=x!==null?x.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ct!==null?null:E(k,x,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case F:return P.key===ct?C(k,x,P,K):null;case et:return P.key===ct?z(k,x,P,K):null;case w:return P=Os(P),j(k,x,P,K)}if(xe(P)||L(P))return ct!==null?null:H(k,x,P,K,null);if(typeof P.then=="function")return j(k,x,Fu(P),K);if(P.$$typeof===yt)return j(k,x,ju(k,P),K);Gu(k,P)}return null}function q(k,x,P,K,ct){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(P)||null,E(x,k,""+K,ct);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case F:return k=k.get(K.key===null?P:K.key)||null,C(x,k,K,ct);case et:return k=k.get(K.key===null?P:K.key)||null,z(x,k,K,ct);case w:return K=Os(K),q(k,x,P,K,ct)}if(xe(K)||L(K))return k=k.get(P)||null,H(x,k,K,ct,null);if(typeof K.then=="function")return q(k,x,P,Fu(K),ct);if(K.$$typeof===yt)return q(k,x,P,ju(x,K),ct);Gu(x,K)}return null}function lt(k,x,P,K){for(var ct=null,zt=null,ut=x,Rt=x=0,xt=null;ut!==null&&Rt<P.length;Rt++){ut.index>Rt?(xt=ut,ut=null):xt=ut.sibling;var jt=j(k,ut,P[Rt],K);if(jt===null){ut===null&&(ut=xt);break}e&&ut&&jt.alternate===null&&n(k,ut),x=f(jt,x,Rt),zt===null?ct=jt:zt.sibling=jt,zt=jt,ut=xt}if(Rt===P.length)return a(k,ut),Vt&&Bi(k,Rt),ct;if(ut===null){for(;Rt<P.length;Rt++)ut=Q(k,P[Rt],K),ut!==null&&(x=f(ut,x,Rt),zt===null?ct=ut:zt.sibling=ut,zt=ut);return Vt&&Bi(k,Rt),ct}for(ut=o(ut);Rt<P.length;Rt++)xt=q(ut,k,Rt,P[Rt],K),xt!==null&&(e&&xt.alternate!==null&&ut.delete(xt.key===null?Rt:xt.key),x=f(xt,x,Rt),zt===null?ct=xt:zt.sibling=xt,zt=xt);return e&&ut.forEach(function(qr){return n(k,qr)}),Vt&&Bi(k,Rt),ct}function dt(k,x,P,K){if(P==null)throw Error(s(151));for(var ct=null,zt=null,ut=x,Rt=x=0,xt=null,jt=P.next();ut!==null&&!jt.done;Rt++,jt=P.next()){ut.index>Rt?(xt=ut,ut=null):xt=ut.sibling;var qr=j(k,ut,jt.value,K);if(qr===null){ut===null&&(ut=xt);break}e&&ut&&qr.alternate===null&&n(k,ut),x=f(qr,x,Rt),zt===null?ct=qr:zt.sibling=qr,zt=qr,ut=xt}if(jt.done)return a(k,ut),Vt&&Bi(k,Rt),ct;if(ut===null){for(;!jt.done;Rt++,jt=P.next())jt=Q(k,jt.value,K),jt!==null&&(x=f(jt,x,Rt),zt===null?ct=jt:zt.sibling=jt,zt=jt);return Vt&&Bi(k,Rt),ct}for(ut=o(ut);!jt.done;Rt++,jt=P.next())jt=q(ut,k,Rt,jt.value,K),jt!==null&&(e&&jt.alternate!==null&&ut.delete(jt.key===null?Rt:jt.key),x=f(jt,x,Rt),zt===null?ct=jt:zt.sibling=jt,zt=jt);return e&&ut.forEach(function(jA){return n(k,jA)}),Vt&&Bi(k,Rt),ct}function Zt(k,x,P,K){if(typeof P=="object"&&P!==null&&P.type===Z&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case F:t:{for(var ct=P.key;x!==null;){if(x.key===ct){if(ct=P.type,ct===Z){if(x.tag===7){a(k,x.sibling),K=h(x,P.props.children),K.return=k,k=K;break t}}else if(x.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===w&&Os(ct)===x.type){a(k,x.sibling),K=h(x,P.props),Jo(K,P),K.return=k,k=K;break t}a(k,x);break}else n(k,x);x=x.sibling}P.type===Z?(K=Cs(P.props.children,k.mode,K,P.key),K.return=k,k=K):(K=Uu(P.type,P.key,P.props,null,k.mode,K),Jo(K,P),K.return=k,k=K)}return g(k);case et:t:{for(ct=P.key;x!==null;){if(x.key===ct)if(x.tag===4&&x.stateNode.containerInfo===P.containerInfo&&x.stateNode.implementation===P.implementation){a(k,x.sibling),K=h(x,P.children||[]),K.return=k,k=K;break t}else{a(k,x);break}else n(k,x);x=x.sibling}K=Jh(P,k.mode,K),K.return=k,k=K}return g(k);case w:return P=Os(P),Zt(k,x,P,K)}if(xe(P))return lt(k,x,P,K);if(L(P)){if(ct=L(P),typeof ct!="function")throw Error(s(150));return P=ct.call(P),dt(k,x,P,K)}if(typeof P.then=="function")return Zt(k,x,Fu(P),K);if(P.$$typeof===yt)return Zt(k,x,ju(k,P),K);Gu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,x!==null&&x.tag===6?(a(k,x.sibling),K=h(x,P),K.return=k,k=K):(a(k,x),K=$h(P,k.mode,K),K.return=k,k=K),g(k)):a(k,x)}return function(k,x,P,K){try{$o=0;var ct=Zt(k,x,P,K);return Ra=null,ct}catch(ut){if(ut===wa||ut===qu)throw ut;var zt=yn(29,ut,null,k.mode);return zt.lanes=K,zt.return=k,zt}}}var Vs=ng(!0),ig=ng(!1),wr=!1;function cf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Rr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Cr(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(qt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Lu(e),jp(e,null,a),n}return ku(e,o,n,a),Lu(e)}function Zo(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,wo(e,a)}}function ff(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var df=!1;function Wo(){if(df){var e=ba;if(e!==null)throw e}}function tl(e,n,a,o){df=!1;var h=e.updateQueue;wr=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,z=C.next;C.next=null,g===null?f=z:g.next=z,g=C;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==g&&(E===null?H.firstBaseUpdate=z:E.next=z,H.lastBaseUpdate=C))}if(f!==null){var Q=h.baseState;g=0,H=z=C=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(Nt&j)===j:(o&j)===j){j!==0&&j===Sa&&(df=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var lt=e,dt=E;j=n;var Zt=a;switch(dt.tag){case 1:if(lt=dt.payload,typeof lt=="function"){Q=lt.call(Zt,Q,j);break t}Q=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=dt.payload,j=typeof lt=="function"?lt.call(Zt,Q,j):lt,j==null)break t;Q=S({},Q,j);break t;case 2:wr=!0}}j=E.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(z=H=q,C=Q):H=H.next=q,g|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);H===null&&(C=Q),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=H,f===null&&(h.shared.lanes=0),Or|=g,e.lanes=g,e.memoizedState=Q}}function rg(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function sg(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)rg(a[e],n)}var Ca=O(null),Ku=O(0);function ag(e,n){e=Zi,it(Ku,e),it(Ca,n),Zi=e|n.baseLanes}function mf(){it(Ku,Zi),it(Ca,Ca.current)}function pf(){Zi=Ku.current,Y(Ca),Y(Ku)}var _n=O(null),Mn=null;function Ir(e){var n=e.alternate;it(me,me.current&1),it(_n,e),Mn===null&&(n===null||Ca.current!==null||n.memoizedState!==null)&&(Mn=e)}function gf(e){it(me,me.current),it(_n,e),Mn===null&&(Mn=e)}function og(e){e.tag===22?(it(me,me.current),it(_n,e),Mn===null&&(Mn=e)):Nr()}function Nr(){it(me,me.current),it(_n,_n.current)}function vn(e){Y(_n),Mn===e&&(Mn=null),Y(me)}var me=O(0);function Qu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ad(a)||Sd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Fi=0,bt=null,$t=null,be=null,Yu=!1,Ia=!1,ks=!1,Xu=0,el=0,Na=null,x1=0;function ce(){throw Error(s(321))}function yf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!gn(e[a],n[a]))return!1;return!0}function _f(e,n,a,o,h,f){return Fi=f,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?Fg:Mf,ks=!1,f=a(o,h),ks=!1,Ia&&(f=ug(n,a,o,h)),lg(e),f}function lg(e){G.H=rl;var n=$t!==null&&$t.next!==null;if(Fi=0,be=$t=bt=null,Yu=!1,el=0,Na=null,n)throw Error(s(300));e===null||we||(e=e.dependencies,e!==null&&zu(e)&&(we=!0))}function ug(e,n,a,o){bt=e;var h=0;do{if(Ia&&(Na=null),el=0,Ia=!1,25<=h)throw Error(s(301));if(h+=1,be=$t=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Gg,f=n(a,o)}while(Ia);return f}function D1(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?nl(n):n,e=e.useState()[0],($t!==null?$t.memoizedState:null)!==e&&(bt.flags|=1024),n}function vf(){var e=Xu!==0;return Xu=0,e}function Ef(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function Tf(e){if(Yu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Yu=!1}Fi=0,be=$t=bt=null,Ia=!1,el=Xu=0,Na=null}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?bt.memoizedState=be=e:be=be.next=e,be}function pe(){if($t===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var n=be===null?bt.memoizedState:be.next;if(n!==null)be=n,$t=e;else{if(e===null)throw bt.alternate===null?Error(s(467)):Error(s(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},be===null?bt.memoizedState=be=e:be=be.next=e}return be}function $u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nl(e){var n=el;return el+=1,Na===null&&(Na=[]),e=Wp(Na,e,n),n=bt,(be===null?n.memoizedState:be.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Fg:Mf),e}function Ju(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return nl(e);if(e.$$typeof===yt)return qe(e)}throw Error(s(438,String(e)))}function Af(e){var n=null,a=bt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=bt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=$u(),bt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=V;return n.index++,a}function Gi(e,n){return typeof n=="function"?n(e):n}function Zu(e){var n=pe();return Sf(n,$t,e)}function Sf(e,n,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,C=null,z=n,H=!1;do{var Q=z.lane&-536870913;if(Q!==z.lane?(Nt&Q)===Q:(Fi&Q)===Q){var j=z.revertLane;if(j===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Q===Sa&&(H=!0);else if((Fi&j)===j){z=z.next,j===Sa&&(H=!0);continue}else Q={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=Q,g=f):C=C.next=Q,bt.lanes|=j,Or|=j;Q=z.action,ks&&a(f,Q),f=z.hasEagerState?z.eagerState:a(f,Q)}else j={lane:Q,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=j,g=f):C=C.next=j,bt.lanes|=Q,Or|=Q;z=z.next}while(z!==null&&z!==n);if(C===null?g=f:C.next=E,!gn(f,e.memoizedState)&&(we=!0,H&&(a=ba,a!==null)))throw a;e.memoizedState=f,e.baseState=g,e.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function bf(e){var n=pe(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);gn(f,n.memoizedState)||(we=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function cg(e,n,a){var o=bt,h=pe(),f=Vt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var g=!gn(($t||h).memoizedState,a);if(g&&(h.memoizedState=a,we=!0),h=h.queue,Cf(dg.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||be!==null&&be.memoizedState.tag&1){if(o.flags|=2048,xa(9,{destroy:void 0},fg.bind(null,o,h,a,n),null),Wt===null)throw Error(s(349));f||(Fi&127)!==0||hg(o,n,a)}return a}function hg(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=bt.updateQueue,n===null?(n=$u(),bt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function fg(e,n,a,o){n.value=a,n.getSnapshot=o,mg(n)&&pg(e)}function dg(e,n,a){return a(function(){mg(n)&&pg(e)})}function mg(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!gn(e,a)}catch{return!0}}function pg(e){var n=Rs(e,2);n!==null&&hn(n,e,2)}function wf(e){var n=rn();if(typeof e=="function"){var a=e;if(e=a(),ks){Sn(!0);try{a()}finally{Sn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:e},n}function gg(e,n,a,o){return e.baseState=a,Sf(e,$t,typeof o=="function"?o:Gi)}function O1(e,n,a,o,h){if(ec(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,yg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function yg(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=a(h,o),C=G.S;C!==null&&C(g,E),_g(e,n,E)}catch(z){Rf(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=a(h,o),_g(e,n,f)}catch(z){Rf(e,n,z)}}function _g(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){vg(e,n,o)},function(o){return Rf(e,n,o)}):vg(e,n,a)}function vg(e,n,a){n.status="fulfilled",n.value=a,Eg(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,yg(e,a)))}function Rf(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Eg(n),n=n.next;while(n!==o)}e.action=null}function Eg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Tg(e,n){return n}function Ag(e,n){if(Vt){var a=Wt.formState;if(a!==null){t:{var o=bt;if(Vt){if(ne){e:{for(var h=ne,f=On;h.nodeType!==8;){if(!f){h=null;break e}if(h=Vn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ne=Vn(h.nextSibling),o=h.data==="F!";break t}}Sr(o)}o=!1}o&&(n=a[0])}}return a=rn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tg,lastRenderedState:n},a.queue=o,a=Bg.bind(null,bt,o),o.dispatch=a,o=wf(!1),f=Of.bind(null,bt,!1,o.queue),o=rn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=O1.bind(null,bt,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function Sg(e){var n=pe();return bg(n,$t,e)}function bg(e,n,a){if(n=Sf(e,n,Tg)[0],e=Zu(Gi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=nl(n)}catch(g){throw g===wa?qu:g}else o=n;n=pe();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(bt.flags|=2048,xa(9,{destroy:void 0},M1.bind(null,h,a),null)),[o,f,e]}function M1(e,n){e.action=n}function wg(e){var n=pe(),a=$t;if(a!==null)return bg(n,a,e);pe(),n=n.memoizedState,a=pe();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function xa(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=bt.updateQueue,n===null&&(n=$u(),bt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function Rg(){return pe().memoizedState}function Wu(e,n,a,o){var h=rn();bt.flags|=e,h.memoizedState=xa(1|n,{destroy:void 0},a,o===void 0?null:o)}function tc(e,n,a,o){var h=pe();o=o===void 0?null:o;var f=h.memoizedState.inst;$t!==null&&o!==null&&yf(o,$t.memoizedState.deps)?h.memoizedState=xa(n,f,a,o):(bt.flags|=e,h.memoizedState=xa(1|n,f,a,o))}function Cg(e,n){Wu(8390656,8,e,n)}function Cf(e,n){tc(2048,8,e,n)}function V1(e){bt.flags|=4;var n=bt.updateQueue;if(n===null)n=$u(),bt.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Ig(e){var n=pe().memoizedState;return V1({ref:n,nextImpl:e}),function(){if((qt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Ng(e,n){return tc(4,2,e,n)}function xg(e,n){return tc(4,4,e,n)}function Dg(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Og(e,n,a){a=a!=null?a.concat([e]):null,tc(4,4,Dg.bind(null,n,e),a)}function If(){}function Mg(e,n){var a=pe();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&yf(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function Vg(e,n){var a=pe();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&yf(n,o[1]))return o[0];if(o=e(),ks){Sn(!0);try{e()}finally{Sn(!1)}}return a.memoizedState=[o,n],o}function Nf(e,n,a){return a===void 0||(Fi&1073741824)!==0&&(Nt&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=ky(),bt.lanes|=e,Or|=e,a)}function kg(e,n,a,o){return gn(a,n)?a:Ca.current!==null?(e=Nf(e,a,o),gn(e,n)||(we=!0),e):(Fi&42)===0||(Fi&1073741824)!==0&&(Nt&261930)===0?(we=!0,e.memoizedState=a):(e=ky(),bt.lanes|=e,Or|=e,n)}function Lg(e,n,a,o,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,Of(e,!1,n,a);try{var C=h(),z=G.S;if(z!==null&&z(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var H=N1(C,o);il(e,n,H,An(e))}else il(e,n,o,An(e))}catch(Q){il(e,n,{then:function(){},status:"rejected",reason:Q},An())}finally{nt.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function k1(){}function xf(e,n,a,o){if(e.tag!==5)throw Error(s(476));var h=Ug(e).queue;Lg(e,h,n,ft,a===null?k1:function(){return Pg(e),a(o)})}function Ug(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:ft},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Pg(e){var n=Ug(e);n.next===null&&(n=e.alternate.memoizedState),il(e,n.next.queue,{},An())}function Df(){return qe(El)}function zg(){return pe().memoizedState}function jg(){return pe().memoizedState}function L1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=An();e=Rr(a);var o=Cr(n,e,a);o!==null&&(hn(o,n,a),Zo(o,n,a)),n={cache:af()},e.payload=n;return}n=n.return}}function U1(e,n,a){var o=An();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ec(e)?qg(n,a):(a=Yh(e,n,a,o),a!==null&&(hn(a,e,o),Hg(a,n,o)))}function Bg(e,n,a){var o=An();il(e,n,a,o)}function il(e,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ec(e))qg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(h.hasEagerState=!0,h.eagerState=E,gn(E,g))return ku(e,n,h,0),Wt===null&&Vu(),!1}catch{}if(a=Yh(e,n,h,o),a!==null)return hn(a,e,o),Hg(a,n,o),!0}return!1}function Of(e,n,a,o){if(o={lane:2,revertLane:cd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ec(e)){if(n)throw Error(s(479))}else n=Yh(e,a,o,2),n!==null&&hn(n,e,2)}function ec(e){var n=e.alternate;return e===bt||n!==null&&n===bt}function qg(e,n){Ia=Yu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Hg(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,wo(e,a)}}var rl={readContext:qe,use:Ju,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};rl.useEffectEvent=ce;var Fg={readContext:qe,use:Ju,useCallback:function(e,n){return rn().memoizedState=[e,n===void 0?null:n],e},useContext:qe,useEffect:Cg,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Wu(4194308,4,Dg.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Wu(4194308,4,e,n)},useInsertionEffect:function(e,n){Wu(4,2,e,n)},useMemo:function(e,n){var a=rn();n=n===void 0?null:n;var o=e();if(ks){Sn(!0);try{e()}finally{Sn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=rn();if(a!==void 0){var h=a(n);if(ks){Sn(!0);try{a(n)}finally{Sn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=U1.bind(null,bt,e),[o.memoizedState,e]},useRef:function(e){var n=rn();return e={current:e},n.memoizedState=e},useState:function(e){e=wf(e);var n=e.queue,a=Bg.bind(null,bt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:If,useDeferredValue:function(e,n){var a=rn();return Nf(a,e,n)},useTransition:function(){var e=wf(!1);return e=Lg.bind(null,bt,e.queue,!0,!1),rn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=bt,h=rn();if(Vt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Wt===null)throw Error(s(349));(Nt&127)!==0||hg(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Cg(dg.bind(null,o,f,e),[e]),o.flags|=2048,xa(9,{destroy:void 0},fg.bind(null,o,f,a,n),null),a},useId:function(){var e=rn(),n=Wt.identifierPrefix;if(Vt){var a=Si,o=Ai;a=(o&~(1<<32-fe(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Xu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=x1++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Df,useFormState:Ag,useActionState:Ag,useOptimistic:function(e){var n=rn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Of.bind(null,bt,!0,a),a.dispatch=n,[e,n]},useMemoCache:Af,useCacheRefresh:function(){return rn().memoizedState=L1.bind(null,bt)},useEffectEvent:function(e){var n=rn(),a={impl:e};return n.memoizedState=a,function(){if((qt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Mf={readContext:qe,use:Ju,useCallback:Mg,useContext:qe,useEffect:Cf,useImperativeHandle:Og,useInsertionEffect:Ng,useLayoutEffect:xg,useMemo:Vg,useReducer:Zu,useRef:Rg,useState:function(){return Zu(Gi)},useDebugValue:If,useDeferredValue:function(e,n){var a=pe();return kg(a,$t.memoizedState,e,n)},useTransition:function(){var e=Zu(Gi)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:nl(e),n]},useSyncExternalStore:cg,useId:zg,useHostTransitionStatus:Df,useFormState:Sg,useActionState:Sg,useOptimistic:function(e,n){var a=pe();return gg(a,$t,e,n)},useMemoCache:Af,useCacheRefresh:jg};Mf.useEffectEvent=Ig;var Gg={readContext:qe,use:Ju,useCallback:Mg,useContext:qe,useEffect:Cf,useImperativeHandle:Og,useInsertionEffect:Ng,useLayoutEffect:xg,useMemo:Vg,useReducer:bf,useRef:Rg,useState:function(){return bf(Gi)},useDebugValue:If,useDeferredValue:function(e,n){var a=pe();return $t===null?Nf(a,e,n):kg(a,$t.memoizedState,e,n)},useTransition:function(){var e=bf(Gi)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:nl(e),n]},useSyncExternalStore:cg,useId:zg,useHostTransitionStatus:Df,useFormState:wg,useActionState:wg,useOptimistic:function(e,n){var a=pe();return $t!==null?gg(a,$t,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Af,useCacheRefresh:jg};Gg.useEffectEvent=Ig;function Vf(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:S({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var kf={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=An(),h=Rr(o);h.payload=n,a!=null&&(h.callback=a),n=Cr(e,h,o),n!==null&&(hn(n,e,o),Zo(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=An(),h=Rr(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Cr(e,h,o),n!==null&&(hn(n,e,o),Zo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=An(),o=Rr(a);o.tag=2,n!=null&&(o.callback=n),n=Cr(e,o,a),n!==null&&(hn(n,e,a),Zo(n,e,a))}};function Kg(e,n,a,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Fo(a,o)||!Fo(h,f):!0}function Qg(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&kf.enqueueReplaceState(n,n.state,null)}function Ls(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function Yg(e){Mu(e)}function Xg(e){console.error(e)}function $g(e){Mu(e)}function nc(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Jg(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Lf(e,n,a){return a=Rr(a),a.tag=3,a.payload={element:null},a.callback=function(){nc(e,n)},a}function Zg(e){return e=Rr(e),e.tag=3,e}function Wg(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Jg(n,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Jg(n,a,o),typeof h!="function"&&(Mr===null?Mr=new Set([this]):Mr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function P1(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Aa(n,a,h,!0),a=_n.current,a!==null){switch(a.tag){case 31:case 13:return Mn===null?mc():a.alternate===null&&he===0&&(he=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Hu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),od(e,o,h)),!1;case 22:return a.flags|=65536,o===Hu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),od(e,o,h)),!1}throw Error(s(435,a.tag))}return od(e,o,h),mc(),!1}if(Vt)return n=_n.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==tf&&(e=Error(s(422),{cause:o}),Qo(Nn(e,a)))):(o!==tf&&(n=Error(s(423),{cause:o}),Qo(Nn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Nn(o,a),h=Lf(e.stateNode,o,h),ff(e,h),he!==4&&(he=2)),!1;var f=Error(s(520),{cause:o});if(f=Nn(f,a),fl===null?fl=[f]:fl.push(f),he!==4&&(he=2),n===null)return!0;o=Nn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Lf(a.stateNode,o,e),ff(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Mr===null||!Mr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Zg(h),Wg(h,e,a,o),ff(a,h),!1}a=a.return}while(a!==null);return!1}var Uf=Error(s(461)),we=!1;function He(e,n,a,o){n.child=e===null?ig(n,null,a,o):Vs(n,e.child,a,o)}function ty(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return xs(n),o=_f(e,n,a,g,f,h),E=vf(),e!==null&&!we?(Ef(e,n,h),Ki(e,n,h)):(Vt&&E&&Zh(n),n.flags|=1,He(e,n,o,h),n.child)}function ey(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Xh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,ny(e,n,f,o,h)):(e=Uu(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Gf(e,h)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:Fo,a(g,o)&&e.ref===n.ref)return Ki(e,n,h)}return n.flags|=1,e=ji(f,o),e.ref=n.ref,e.return=n,n.child=e}function ny(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if(Fo(f,o)&&e.ref===n.ref)if(we=!1,n.pendingProps=o=f,Gf(e,h))(e.flags&131072)!==0&&(we=!0);else return n.lanes=e.lanes,Ki(e,n,h)}return Pf(e,n,a,o,h)}function iy(e,n,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return ry(e,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Bu(n,f!==null?f.cachePool:null),f!==null?ag(n,f):mf(),og(n);else return o=n.lanes=536870912,ry(e,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Bu(n,f.cachePool),ag(n,f),Nr(),n.memoizedState=null):(e!==null&&Bu(n,null),mf(),Nr());return He(e,n,h,a),n.child}function sl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ry(e,n,a,o,h){var f=lf();return f=f===null?null:{parent:Se._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&Bu(n,null),mf(),og(n),e!==null&&Aa(e,n,o,!0),n.childLanes=h,null}function ic(e,n){return n=sc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function sy(e,n,a){return Vs(n,e.child,null,a),e=ic(n,n.pendingProps),e.flags|=2,vn(n),n.memoizedState=null,e}function z1(e,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Vt){if(o.mode==="hidden")return e=ic(n,o),n.lanes=536870912,sl(null,e);if(gf(n),(e=ne)?(e=y_(e,On),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Tr!==null?{id:Ai,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},a=qp(e),a.return=n,n.child=a,Be=n,ne=null)):e=null,e===null)throw Sr(n);return n.lanes=536870912,null}return ic(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(gf(n),h)if(n.flags&256)n.flags&=-257,n=sy(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(we||Aa(e,n,a,!1),h=(a&e.childLanes)!==0,we||h){if(o=Wt,o!==null&&(g=Ro(o,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,Rs(e,g),hn(o,e,g),Uf;mc(),n=sy(e,n,a)}else e=f.treeContext,ne=Vn(g.nextSibling),Be=n,Vt=!0,Ar=null,On=!1,e!==null&&Gp(n,e),n=ic(n,o),n.flags|=4096;return n}return e=ji(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function rc(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Pf(e,n,a,o,h){return xs(n),a=_f(e,n,a,o,void 0,h),o=vf(),e!==null&&!we?(Ef(e,n,h),Ki(e,n,h)):(Vt&&o&&Zh(n),n.flags|=1,He(e,n,a,h),n.child)}function ay(e,n,a,o,h,f){return xs(n),n.updateQueue=null,a=ug(n,o,a,h),lg(e),o=vf(),e!==null&&!we?(Ef(e,n,f),Ki(e,n,f)):(Vt&&o&&Zh(n),n.flags|=1,He(e,n,a,f),n.child)}function oy(e,n,a,o,h){if(xs(n),n.stateNode===null){var f=_a,g=a.contextType;typeof g=="object"&&g!==null&&(f=qe(g)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=kf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},cf(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?qe(g):_a,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Vf(n,a,g,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&kf.enqueueReplaceState(f,f.state,null),tl(n,o,f,h),Wo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,C=Ls(a,E);f.props=C;var z=f.context,H=a.contextType;g=_a,typeof H=="object"&&H!==null&&(g=qe(H));var Q=a.getDerivedStateFromProps;H=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&Qg(n,f,o,g),wr=!1;var j=n.memoizedState;f.state=j,tl(n,o,f,h),Wo(),z=n.memoizedState,E||j!==z||wr?(typeof Q=="function"&&(Vf(n,a,Q,o),z=n.memoizedState),(C=wr||Kg(n,a,C,o,j,z,g))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,hf(e,n),g=n.memoizedProps,H=Ls(a,g),f.props=H,Q=n.pendingProps,j=f.context,z=a.contextType,C=_a,typeof z=="object"&&z!==null&&(C=qe(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Q||j!==C)&&Qg(n,f,o,C),wr=!1,j=n.memoizedState,f.state=j,tl(n,o,f,h),Wo();var q=n.memoizedState;g!==Q||j!==q||wr||e!==null&&e.dependencies!==null&&zu(e.dependencies)?(typeof E=="function"&&(Vf(n,a,E,o),q=n.memoizedState),(H=wr||Kg(n,a,H,o,j,q,C)||e!==null&&e.dependencies!==null&&zu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=C,o=H):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,rc(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Vs(n,e.child,null,h),n.child=Vs(n,null,a,h)):He(e,n,a,h),n.memoizedState=f.state,e=n.child):e=Ki(e,n,h),e}function ly(e,n,a,o){return Is(),n.flags|=256,He(e,n,a,o),n.child}var zf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jf(e){return{baseLanes:e,cachePool:Jp()}}function Bf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Tn),e}function uy(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(me.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Vt){if(h?Ir(n):Nr(),(e=ne)?(e=y_(e,On),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Tr!==null?{id:Ai,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},a=qp(e),a.return=n,n.child=a,Be=n,ne=null)):e=null,e===null)throw Sr(n);return Sd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Nr(),h=n.mode,E=sc({mode:"hidden",children:E},h),o=Cs(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=jf(a),o.childLanes=Bf(e,g,a),n.memoizedState=zf,sl(null,o)):(Ir(n),qf(n,E))}var C=e.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(Ir(n),n.flags&=-257,n=Hf(e,n,a)):n.memoizedState!==null?(Nr(),n.child=e.child,n.flags|=128,n=null):(Nr(),E=o.fallback,h=n.mode,o=sc({mode:"visible",children:o.children},h),E=Cs(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Vs(n,e.child,null,a),o=n.child,o.memoizedState=jf(a),o.childLanes=Bf(e,g,a),n.memoizedState=zf,n=sl(null,o));else if(Ir(n),Sd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(s(419)),o.stack="",o.digest=g,Qo({value:o,source:null,stack:null}),n=Hf(e,n,a)}else if(we||Aa(e,n,a,!1),g=(a&e.childLanes)!==0,we||g){if(g=Wt,g!==null&&(o=Ro(g,a),o!==0&&o!==C.retryLane))throw C.retryLane=o,Rs(e,o),hn(g,e,o),Uf;Ad(E)||mc(),n=Hf(e,n,a)}else Ad(E)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,ne=Vn(E.nextSibling),Be=n,Vt=!0,Ar=null,On=!1,e!==null&&Gp(n,e),n=qf(n,o.children),n.flags|=4096);return n}return h?(Nr(),E=o.fallback,h=n.mode,C=e.child,z=C.sibling,o=ji(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,z!==null?E=ji(z,E):(E=Cs(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,sl(null,o),o=n.child,E=e.child.memoizedState,E===null?E=jf(a):(h=E.cachePool,h!==null?(C=Se._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Jp(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=Bf(e,g,a),n.memoizedState=zf,sl(e.child,o)):(Ir(n),a=e.child,e=a.sibling,a=ji(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=a,n.memoizedState=null,a)}function qf(e,n){return n=sc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function sc(e,n){return e=yn(22,e,null,n),e.lanes=0,e}function Hf(e,n,a){return Vs(n,e.child,null,a),e=qf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function cy(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),rf(e.return,n,a)}function Ff(e,n,a,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=a,g.tailMode=h,g.treeForkCount=f)}function hy(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=me.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,it(me,g),He(e,n,o,a),o=Vt?Ko:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&cy(e,a,n);else if(e.tag===19)cy(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&Qu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Ff(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Qu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Ff(n,!0,a,null,f,o);break;case"together":Ff(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Ki(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Or|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Aa(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=ji(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=ji(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Gf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&zu(e)))}function j1(e,n,a){switch(n.tag){case 3:De(n,n.stateNode.containerInfo),br(n,Se,e.memoizedState.cache),Is();break;case 27:case 5:ls(n);break;case 4:De(n,n.stateNode.containerInfo);break;case 10:br(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,gf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ir(n),n.flags|=128,null):(a&n.child.childLanes)!==0?uy(e,n,a):(Ir(n),e=Ki(e,n,a),e!==null?e.sibling:null);Ir(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Aa(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return hy(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(me,me.current),o)break;return null;case 22:return n.lanes=0,iy(e,n,a,n.pendingProps);case 24:br(n,Se,e.memoizedState.cache)}return Ki(e,n,a)}function fy(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)we=!0;else{if(!Gf(e,a)&&(n.flags&128)===0)return we=!1,j1(e,n,a);we=(e.flags&131072)!==0}else we=!1,Vt&&(n.flags&1048576)!==0&&Fp(n,Ko,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Os(n.elementType),n.type=e,typeof e=="function")Xh(e)?(o=Ls(e,o),n.tag=1,n=oy(null,n,e,o,a)):(n.tag=0,n=Pf(null,n,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===Et){n.tag=11,n=ty(null,n,e,o,a);break t}else if(h===N){n.tag=14,n=ey(null,n,e,o,a);break t}}throw n=se(e)||e,Error(s(306,n,""))}}return n;case 0:return Pf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Ls(o,n.pendingProps),oy(e,n,o,h,a);case 3:t:{if(De(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,hf(e,n),tl(n,o,null,a);var g=n.memoizedState;if(o=g.cache,br(n,Se,o),o!==f.cache&&sf(n,[Se],a,!0),Wo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ly(e,n,o,a);break t}else if(o!==h){h=Nn(Error(s(424)),n),Qo(h),n=ly(e,n,o,a);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ne=Vn(e.firstChild),Be=n,Vt=!0,Ar=null,On=!0,a=ig(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Is(),o===h){n=Ki(e,n,a);break t}He(e,n,o,a)}n=n.child}return n;case 26:return rc(e,n),e===null?(a=S_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Vt||(a=n.type,e=n.pendingProps,o=Tc(wt.current).createElement(a),o[Ee]=n,o[ke]=e,Fe(o,a,e),Te(o),n.stateNode=o):n.memoizedState=S_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ls(n),e===null&&Vt&&(o=n.stateNode=E_(n.type,n.pendingProps,wt.current),Be=n,On=!0,h=ne,Ur(n.type)?(bd=h,ne=Vn(o.firstChild)):ne=h),He(e,n,n.pendingProps.children,a),rc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Vt&&((h=o=ne)&&(o=gA(o,n.type,n.pendingProps,On),o!==null?(n.stateNode=o,Be=n,ne=Vn(o.firstChild),On=!1,h=!0):h=!1),h||Sr(n)),ls(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,vd(h,f)?o=null:g!==null&&vd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=_f(e,n,D1,null,null,a),El._currentValue=h),rc(e,n),He(e,n,o,a),n.child;case 6:return e===null&&Vt&&((e=a=ne)&&(a=yA(a,n.pendingProps,On),a!==null?(n.stateNode=a,Be=n,ne=null,e=!0):e=!1),e||Sr(n)),null;case 13:return uy(e,n,a);case 4:return De(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Vs(n,null,o,a):He(e,n,o,a),n.child;case 11:return ty(e,n,n.type,n.pendingProps,a);case 7:return He(e,n,n.pendingProps,a),n.child;case 8:return He(e,n,n.pendingProps.children,a),n.child;case 12:return He(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,br(n,n.type,o.value),He(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,xs(n),h=qe(h),o=o(h),n.flags|=1,He(e,n,o,a),n.child;case 14:return ey(e,n,n.type,n.pendingProps,a);case 15:return ny(e,n,n.type,n.pendingProps,a);case 19:return hy(e,n,a);case 31:return z1(e,n,a);case 22:return iy(e,n,a,n.pendingProps);case 24:return xs(n),o=qe(Se),e===null?(h=lf(),h===null&&(h=Wt,f=af(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},cf(n),br(n,Se,h)):((e.lanes&a)!==0&&(hf(e,n),tl(n,null,null,a),Wo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),br(n,Se,o)):(o=f.cache,br(n,Se,o),o!==h.cache&&sf(n,[Se],a,!0))),He(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Qi(e){e.flags|=4}function Kf(e,n,a,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(zy())e.flags|=8192;else throw Ms=Hu,uf}else e.flags&=-16777217}function dy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!I_(n))if(zy())e.flags|=8192;else throw Ms=Hu,uf}function ac(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?fu():536870912,e.lanes|=n,Va|=n)}function al(e,n){if(!Vt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ie(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function B1(e,n,a){var o=n.pendingProps;switch(Wh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Hi(Se),ae(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ta(n)?Qi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ef())),ie(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Qi(n),f!==null?(ie(n),dy(n,f)):(ie(n),Kf(n,h,null,o,a))):f?f!==e.memoizedState?(Qi(n),ie(n),dy(n,f)):(ie(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Qi(n),ie(n),Kf(n,h,e,o,a)),null;case 27:if(Ws(n),a=wt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Qi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ie(n),null}e=at.current,Ta(n)?Kp(n):(e=E_(h,o,a),n.stateNode=e,Qi(n))}return ie(n),null;case 5:if(Ws(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Qi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ie(n),null}if(f=at.current,Ta(n))Kp(n);else{var g=Tc(wt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Ee]=n,f[ke]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Fe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Qi(n)}}return ie(n),Kf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Qi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=wt.current,Ta(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=Be,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ee]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||u_(e.nodeValue,a)),e||Sr(n,!0)}else e=Tc(e).createTextNode(o),e[Ee]=n,n.stateNode=e}return ie(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=Ta(n),a!==null){if(e===null){if(!o)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Ee]=n}else Is(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),e=!1}else a=ef(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(vn(n),n):(vn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return ie(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ta(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ee]=n}else Is(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),h=!1}else h=ef(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(vn(n),n):(vn(n),null)}return vn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),ac(n,n.updateQueue),ie(n),null);case 4:return ae(),e===null&&md(n.stateNode.containerInfo),ie(n),null;case 10:return Hi(n.type),ie(n),null;case 19:if(Y(me),o=n.memoizedState,o===null)return ie(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)al(o,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Qu(e),f!==null){for(n.flags|=128,al(o,!1),e=f.updateQueue,n.updateQueue=e,ac(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Bp(a,e),a=a.sibling;return it(me,me.current&1|2),Vt&&Bi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&en()>hc&&(n.flags|=128,h=!0,al(o,!1),n.lanes=4194304)}else{if(!h)if(e=Qu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,ac(n,e),al(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Vt)return ie(n),null}else 2*en()-o.renderingStartTime>hc&&a!==536870912&&(n.flags|=128,h=!0,al(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=en(),e.sibling=null,a=me.current,it(me,h?a&1|2:a&1),Vt&&Bi(n,o.treeForkCount),e):(ie(n),null);case 22:case 23:return vn(n),pf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),a=n.updateQueue,a!==null&&ac(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&Y(Ds),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Hi(Se),ie(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function q1(e,n){switch(Wh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Hi(Se),ae(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ws(n),null;case 31:if(n.memoizedState!==null){if(vn(n),n.alternate===null)throw Error(s(340));Is()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(vn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Is()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(me),null;case 4:return ae(),null;case 10:return Hi(n.type),null;case 22:case 23:return vn(n),pf(),e!==null&&Y(Ds),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Hi(Se),null;case 25:return null;default:return null}}function my(e,n){switch(Wh(n),n.tag){case 3:Hi(Se),ae();break;case 26:case 27:case 5:Ws(n);break;case 4:ae();break;case 31:n.memoizedState!==null&&vn(n);break;case 13:vn(n);break;case 19:Y(me);break;case 10:Hi(n.type);break;case 22:case 23:vn(n),pf(),e!==null&&Y(Ds);break;case 24:Hi(Se)}}function ol(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,g=a.inst;o=f(),g.destroy=o}a=a.next}while(a!==h)}}catch(E){Yt(n,n.return,E)}}function xr(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var C=a,z=E;try{z()}catch(H){Yt(h,C,H)}}}o=o.next}while(o!==f)}}catch(H){Yt(n,n.return,H)}}function py(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{sg(n,a)}catch(o){Yt(e,e.return,o)}}}function gy(e,n,a){a.props=Ls(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Yt(e,n,o)}}function ll(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Yt(e,n,h)}}function bi(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Yt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Yt(e,n,h)}else a.current=null}function yy(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Yt(e,e.return,h)}}function Qf(e,n,a){try{var o=e.stateNode;cA(o,e.type,a,n),o[ke]=n}catch(h){Yt(e,e.return,h)}}function _y(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ur(e.type)||e.tag===4}function Yf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||_y(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ur(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xf(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=qn));else if(o!==4&&(o===27&&Ur(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Xf(e,n,a),e=e.sibling;e!==null;)Xf(e,n,a),e=e.sibling}function oc(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&Ur(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(oc(e,n,a),e=e.sibling;e!==null;)oc(e,n,a),e=e.sibling}function vy(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Fe(n,o,a),n[Ee]=e,n[ke]=a}catch(f){Yt(e,e.return,f)}}var Yi=!1,Re=!1,$f=!1,Ey=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function H1(e,n){if(e=e.containerInfo,yd=Ic,e=Op(e),qh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,E=-1,C=-1,z=0,H=0,Q=e,j=null;e:for(;;){for(var q;Q!==a||h!==0&&Q.nodeType!==3||(E=g+h),Q!==f||o!==0&&Q.nodeType!==3||(C=g+o),Q.nodeType===3&&(g+=Q.nodeValue.length),(q=Q.firstChild)!==null;)j=Q,Q=q;for(;;){if(Q===e)break e;if(j===a&&++z===h&&(E=g),j===f&&++H===o&&(C=g),(q=Q.nextSibling)!==null)break;Q=j,j=Q.parentNode}Q=q}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(_d={focusedElem:e,selectionRange:a},Ic=!1,Ue=n;Ue!==null;)if(n=Ue,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ue=e;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var lt=Ls(a.type,h);e=o.getSnapshotBeforeUpdate(lt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(dt){Yt(a,a.return,dt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Td(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Td(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Ue=e;break}Ue=n.return}}function Ty(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:$i(e,a),o&4&&ol(5,a);break;case 1:if($i(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(g){Yt(a,a.return,g)}else{var h=Ls(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Yt(a,a.return,g)}}o&64&&py(a),o&512&&ll(a,a.return);break;case 3:if($i(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{sg(e,n)}catch(g){Yt(a,a.return,g)}}break;case 27:n===null&&o&4&&vy(a);case 26:case 5:$i(e,a),n===null&&o&4&&yy(a),o&512&&ll(a,a.return);break;case 12:$i(e,a);break;case 31:$i(e,a),o&4&&by(e,a);break;case 13:$i(e,a),o&4&&wy(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Z1.bind(null,a),_A(e,a))));break;case 22:if(o=a.memoizedState!==null||Yi,!o){n=n!==null&&n.memoizedState!==null||Re,h=Yi;var f=Re;Yi=o,(Re=n)&&!f?Ji(e,a,(a.subtreeFlags&8772)!==0):$i(e,a),Yi=h,Re=f}break;case 30:break;default:$i(e,a)}}function Ay(e){var n=e.alternate;n!==null&&(e.alternate=null,Ay(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ra(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var le=null,on=!1;function Xi(e,n,a){for(a=a.child;a!==null;)Sy(e,n,a),a=a.sibling}function Sy(e,n,a){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Pn,a)}catch{}switch(a.tag){case 26:Re||bi(a,n),Xi(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Re||bi(a,n);var o=le,h=on;Ur(a.type)&&(le=a.stateNode,on=!1),Xi(e,n,a),yl(a.stateNode),le=o,on=h;break;case 5:Re||bi(a,n);case 6:if(o=le,h=on,le=null,Xi(e,n,a),le=o,on=h,le!==null)if(on)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(a.stateNode)}catch(f){Yt(a,n,f)}else try{le.removeChild(a.stateNode)}catch(f){Yt(a,n,f)}break;case 18:le!==null&&(on?(e=le,p_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),qa(e)):p_(le,a.stateNode));break;case 4:o=le,h=on,le=a.stateNode.containerInfo,on=!0,Xi(e,n,a),le=o,on=h;break;case 0:case 11:case 14:case 15:xr(2,a,n),Re||xr(4,a,n),Xi(e,n,a);break;case 1:Re||(bi(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&gy(a,n,o)),Xi(e,n,a);break;case 21:Xi(e,n,a);break;case 22:Re=(o=Re)||a.memoizedState!==null,Xi(e,n,a),Re=o;break;default:Xi(e,n,a)}}function by(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{qa(e)}catch(a){Yt(n,n.return,a)}}}function wy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{qa(e)}catch(a){Yt(n,n.return,a)}}function F1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Ey),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Ey),n;default:throw Error(s(435,e.tag))}}function lc(e,n){var a=F1(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=W1.bind(null,e,o);o.then(h,h)}})}function ln(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Ur(E.type)){le=E.stateNode,on=!1;break t}break;case 5:le=E.stateNode,on=!1;break t;case 3:case 4:le=E.stateNode.containerInfo,on=!0;break t}E=E.return}if(le===null)throw Error(s(160));Sy(f,g,h),le=null,on=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ry(n,e),n=n.sibling}var Yn=null;function Ry(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ln(n,e),un(e),o&4&&(xr(3,e,e.return),ol(3,e),xr(5,e,e.return));break;case 1:ln(n,e),un(e),o&512&&(Re||a===null||bi(a,a.return)),o&64&&Yi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Yn;if(ln(n,e),un(e),o&512&&(Re||a===null||bi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ci]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Fe(f,o,a),f[Ee]=e,Te(f),o=f;break t;case"link":var g=R_("link","href",h).get(o+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),Fe(f,o,a),h.head.appendChild(f);break;case"meta":if(g=R_("meta","content",h).get(o+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}f=h.createElement(o),Fe(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[Ee]=e,Te(f),o=f}e.stateNode=o}else C_(h,e.type,e.stateNode);else e.stateNode=w_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?C_(h,e.type,e.stateNode):w_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Qf(e,e.memoizedProps,a.memoizedProps)}break;case 27:ln(n,e),un(e),o&512&&(Re||a===null||bi(a,a.return)),a!==null&&o&4&&Qf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(ln(n,e),un(e),o&512&&(Re||a===null||bi(a,a.return)),e.flags&32){h=e.stateNode;try{an(h,"")}catch(lt){Yt(e,e.return,lt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Qf(e,h,a!==null?a.memoizedProps:h)),o&1024&&($f=!0);break;case 6:if(ln(n,e),un(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(lt){Yt(e,e.return,lt)}}break;case 3:if(bc=null,h=Yn,Yn=Ac(n.containerInfo),ln(n,e),Yn=h,un(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{qa(n.containerInfo)}catch(lt){Yt(e,e.return,lt)}$f&&($f=!1,Cy(e));break;case 4:o=Yn,Yn=Ac(e.stateNode.containerInfo),ln(n,e),un(e),Yn=o;break;case 12:ln(n,e),un(e);break;case 31:ln(n,e),un(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,lc(e,o)));break;case 13:ln(n,e),un(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(cc=en()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,lc(e,o)));break;case 22:h=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,z=Yi,H=Re;if(Yi=z||h,Re=H||C,ln(n,e),Re=H,Yi=z,un(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||C||Yi||Re||Us(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=C.stateNode;var Q=C.memoizedProps.style,j=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(lt){Yt(C,C.return,lt)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(lt){Yt(C,C.return,lt)}}}else if(n.tag===18){if(a===null){C=n;try{var q=C.stateNode;h?g_(q,!0):g_(C.stateNode,!1)}catch(lt){Yt(C,C.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,lc(e,a))));break;case 19:ln(n,e),un(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,lc(e,o)));break;case 30:break;case 21:break;default:ln(n,e),un(e)}}function un(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(_y(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=Yf(e);oc(e,f,h);break;case 5:var g=a.stateNode;a.flags&32&&(an(g,""),a.flags&=-33);var E=Yf(e);oc(e,E,g);break;case 3:case 4:var C=a.stateNode.containerInfo,z=Yf(e);Xf(e,z,C);break;default:throw Error(s(161))}}catch(H){Yt(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Cy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Cy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function $i(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ty(e,n.alternate,n),n=n.sibling}function Us(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:xr(4,n,n.return),Us(n);break;case 1:bi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&gy(n,n.return,a),Us(n);break;case 27:yl(n.stateNode);case 26:case 5:bi(n,n.return),Us(n);break;case 22:n.memoizedState===null&&Us(n);break;case 30:Us(n);break;default:Us(n)}e=e.sibling}}function Ji(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Ji(h,f,a),ol(4,f);break;case 1:if(Ji(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Yt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)rg(C[h],E)}catch(z){Yt(o,o.return,z)}}a&&g&64&&py(f),ll(f,f.return);break;case 27:vy(f);case 26:case 5:Ji(h,f,a),a&&o===null&&g&4&&yy(f),ll(f,f.return);break;case 12:Ji(h,f,a);break;case 31:Ji(h,f,a),a&&g&4&&by(h,f);break;case 13:Ji(h,f,a),a&&g&4&&wy(h,f);break;case 22:f.memoizedState===null&&Ji(h,f,a),ll(f,f.return);break;case 30:break;default:Ji(h,f,a)}n=n.sibling}}function Jf(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Yo(a))}function Zf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Yo(e))}function Xn(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Iy(e,n,a,o),n=n.sibling}function Iy(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Xn(e,n,a,o),h&2048&&ol(9,n);break;case 1:Xn(e,n,a,o);break;case 3:Xn(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Yo(e)));break;case 12:if(h&2048){Xn(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Yt(n,n.return,C)}}else Xn(e,n,a,o);break;case 31:Xn(e,n,a,o);break;case 13:Xn(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Xn(e,n,a,o):ul(e,n):f._visibility&2?Xn(e,n,a,o):(f._visibility|=2,Da(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Jf(g,n);break;case 24:Xn(e,n,a,o),h&2048&&Zf(n.alternate,n);break;default:Xn(e,n,a,o)}}function Da(e,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=a,C=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:Da(f,g,E,C,h),ol(8,g);break;case 23:break;case 22:var H=g.stateNode;g.memoizedState!==null?H._visibility&2?Da(f,g,E,C,h):ul(f,g):(H._visibility|=2,Da(f,g,E,C,h)),h&&z&2048&&Jf(g.alternate,g);break;case 24:Da(f,g,E,C,h),h&&z&2048&&Zf(g.alternate,g);break;default:Da(f,g,E,C,h)}n=n.sibling}}function ul(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:ul(a,o),h&2048&&Jf(o.alternate,o);break;case 24:ul(a,o),h&2048&&Zf(o.alternate,o);break;default:ul(a,o)}n=n.sibling}}var cl=8192;function Oa(e,n,a){if(e.subtreeFlags&cl)for(e=e.child;e!==null;)Ny(e,n,a),e=e.sibling}function Ny(e,n,a){switch(e.tag){case 26:Oa(e,n,a),e.flags&cl&&e.memoizedState!==null&&xA(a,Yn,e.memoizedState,e.memoizedProps);break;case 5:Oa(e,n,a);break;case 3:case 4:var o=Yn;Yn=Ac(e.stateNode.containerInfo),Oa(e,n,a),Yn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=cl,cl=16777216,Oa(e,n,a),cl=o):Oa(e,n,a));break;default:Oa(e,n,a)}}function xy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function hl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ue=o,Oy(o,e)}xy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Dy(e),e=e.sibling}function Dy(e){switch(e.tag){case 0:case 11:case 15:hl(e),e.flags&2048&&xr(9,e,e.return);break;case 3:hl(e);break;case 12:hl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,uc(e)):hl(e);break;default:hl(e)}}function uc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ue=o,Oy(o,e)}xy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:xr(8,n,n.return),uc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,uc(n));break;default:uc(n)}e=e.sibling}}function Oy(e,n){for(;Ue!==null;){var a=Ue;switch(a.tag){case 0:case 11:case 15:xr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Yo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ue=o;else t:for(a=e;Ue!==null;){o=Ue;var h=o.sibling,f=o.return;if(Ay(o),o===a){Ue=null;break t}if(h!==null){h.return=f,Ue=h;break t}Ue=f}}}var G1={getCacheForType:function(e){var n=qe(Se),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return qe(Se).controller.signal}},K1=typeof WeakMap=="function"?WeakMap:Map,qt=0,Wt=null,Ct=null,Nt=0,Qt=0,En=null,Dr=!1,Ma=!1,Wf=!1,Zi=0,he=0,Or=0,Ps=0,td=0,Tn=0,Va=0,fl=null,cn=null,ed=!1,cc=0,My=0,hc=1/0,fc=null,Mr=null,Me=0,Vr=null,ka=null,Wi=0,nd=0,id=null,Vy=null,dl=0,rd=null;function An(){return(qt&2)!==0&&Nt!==0?Nt&-Nt:G.T!==null?cd():du()}function ky(){if(Tn===0)if((Nt&536870912)===0||Vt){var e=hs;hs<<=1,(hs&3932160)===0&&(hs=262144),Tn=e}else Tn=536870912;return e=_n.current,e!==null&&(e.flags|=32),Tn}function hn(e,n,a){(e===Wt&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(La(e,0),kr(e,Nt,Tn,!1)),fs(e,a),((qt&2)===0||e!==Wt)&&(e===Wt&&((qt&2)===0&&(Ps|=a),he===4&&kr(e,Nt,Tn,!1)),wi(e))}function Ly(e,n,a){if((qt&6)!==0)throw Error(s(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||zn(e,n),h=o?X1(e,n):ad(e,n,!0),f=o;do{if(h===0){Ma&&!o&&kr(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!Q1(a)){h=ad(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=fl;var C=E.current.memoizedState.isDehydrated;if(C&&(La(E,g).flags|=256),g=ad(E,g,!1),g!==2){if(Wf&&!C){E.errorRecoveryDisabledLanes|=f,Ps|=f,h=4;break t}f=cn,cn=h,f!==null&&(cn===null?cn=f:cn.push.apply(cn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){La(e,0),kr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:kr(o,n,Tn,!Dr);break t;case 2:cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=cc+300-en(),10<h)){if(kr(o,n,Tn,!Dr),oi(o,0,!0)!==0)break t;Wi=n,o.timeoutHandle=d_(Uy.bind(null,o,a,cn,fc,ed,n,Tn,Ps,Va,Dr,f,"Throttled",-0,0),h);break t}Uy(o,a,cn,fc,ed,n,Tn,Ps,Va,Dr,f,null,-0,0)}}break}while(!0);wi(e)}function Uy(e,n,a,o,h,f,g,E,C,z,H,Q,j,q){if(e.timeoutHandle=-1,Q=n.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},Ny(n,f,Q);var lt=(f&62914560)===f?cc-en():(f&4194048)===f?My-en():0;if(lt=DA(Q,lt),lt!==null){Wi=f,e.cancelPendingCommit=lt(Gy.bind(null,e,n,f,a,o,h,g,E,C,H,Q,null,j,q)),kr(e,f,g,!z);return}}Gy(e,n,f,a,o,h,g,E,C)}function Q1(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!gn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function kr(e,n,a,o){n&=~td,n&=~Ps,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-fe(h),g=1<<f;o[f]=-1,h&=~g}a!==0&&ds(e,a,n)}function dc(){return(qt&6)===0?(ml(0),!1):!0}function sd(){if(Ct!==null){if(Qt===0)var e=Ct.return;else e=Ct,qi=Ns=null,Tf(e),Ra=null,$o=0,e=Ct;for(;e!==null;)my(e.alternate,e),e=e.return;Ct=null}}function La(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,dA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Wi=0,sd(),Wt=e,Ct=a=ji(e.current,null),Nt=n,Qt=0,En=null,Dr=!1,Ma=zn(e,n),Wf=!1,Va=Tn=td=Ps=Or=he=0,cn=fl=null,ed=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-fe(o),f=1<<h;n|=e[h],o&=~f}return Zi=n,Vu(),a}function Py(e,n){bt=null,G.H=rl,n===wa||n===qu?(n=tg(),Qt=3):n===uf?(n=tg(),Qt=4):Qt=n===Uf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,En=n,Ct===null&&(he=1,nc(e,Nn(n,e.current)))}function zy(){var e=_n.current;return e===null?!0:(Nt&4194048)===Nt?Mn===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?e===Mn:!1}function jy(){var e=G.H;return G.H=rl,e===null?rl:e}function By(){var e=G.A;return G.A=G1,e}function mc(){he=4,Dr||(Nt&4194048)!==Nt&&_n.current!==null||(Ma=!0),(Or&134217727)===0&&(Ps&134217727)===0||Wt===null||kr(Wt,Nt,Tn,!1)}function ad(e,n,a){var o=qt;qt|=2;var h=jy(),f=By();(Wt!==e||Nt!==n)&&(fc=null,La(e,n)),n=!1;var g=he;t:do try{if(Qt!==0&&Ct!==null){var E=Ct,C=En;switch(Qt){case 8:sd(),g=6;break t;case 3:case 2:case 9:case 6:_n.current===null&&(n=!0);var z=Qt;if(Qt=0,En=null,Ua(e,E,C,z),a&&Ma){g=0;break t}break;default:z=Qt,Qt=0,En=null,Ua(e,E,C,z)}}Y1(),g=he;break}catch(H){Py(e,H)}while(!0);return n&&e.shellSuspendCounter++,qi=Ns=null,qt=o,G.H=h,G.A=f,Ct===null&&(Wt=null,Nt=0,Vu()),g}function Y1(){for(;Ct!==null;)qy(Ct)}function X1(e,n){var a=qt;qt|=2;var o=jy(),h=By();Wt!==e||Nt!==n?(fc=null,hc=en()+500,La(e,n)):Ma=zn(e,n);t:do try{if(Qt!==0&&Ct!==null){n=Ct;var f=En;e:switch(Qt){case 1:Qt=0,En=null,Ua(e,n,f,1);break;case 2:case 9:if(Zp(f)){Qt=0,En=null,Hy(n);break}n=function(){Qt!==2&&Qt!==9||Wt!==e||(Qt=7),wi(e)},f.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:Zp(f)?(Qt=0,En=null,Hy(n)):(Qt=0,En=null,Ua(e,n,f,7));break;case 5:var g=null;switch(Ct.tag){case 26:g=Ct.memoizedState;case 5:case 27:var E=Ct;if(g?I_(g):E.stateNode.complete){Qt=0,En=null;var C=E.sibling;if(C!==null)Ct=C;else{var z=E.return;z!==null?(Ct=z,pc(z)):Ct=null}break e}}Qt=0,En=null,Ua(e,n,f,5);break;case 6:Qt=0,En=null,Ua(e,n,f,6);break;case 8:sd(),he=6;break t;default:throw Error(s(462))}}$1();break}catch(H){Py(e,H)}while(!0);return qi=Ns=null,G.H=o,G.A=h,qt=a,Ct!==null?0:(Wt=null,Nt=0,Vu(),he)}function $1(){for(;Ct!==null&&!kh();)qy(Ct)}function qy(e){var n=fy(e.alternate,e,Zi);e.memoizedProps=e.pendingProps,n===null?pc(e):Ct=n}function Hy(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=ay(a,n,n.pendingProps,n.type,void 0,Nt);break;case 11:n=ay(a,n,n.pendingProps,n.type.render,n.ref,Nt);break;case 5:Tf(n);default:my(a,n),n=Ct=Bp(n,Zi),n=fy(a,n,Zi)}e.memoizedProps=e.pendingProps,n===null?pc(e):Ct=n}function Ua(e,n,a,o){qi=Ns=null,Tf(n),Ra=null,$o=0;var h=n.return;try{if(P1(e,h,n,a,Nt)){he=1,nc(e,Nn(a,e.current)),Ct=null;return}}catch(f){if(h!==null)throw Ct=h,f;he=1,nc(e,Nn(a,e.current)),Ct=null;return}n.flags&32768?(Vt||o===1?e=!0:Ma||(Nt&536870912)!==0?e=!1:(Dr=e=!0,(o===2||o===9||o===3||o===6)&&(o=_n.current,o!==null&&o.tag===13&&(o.flags|=16384))),Fy(n,e)):pc(n)}function pc(e){var n=e;do{if((n.flags&32768)!==0){Fy(n,Dr);return}e=n.return;var a=B1(n.alternate,n,Zi);if(a!==null){Ct=a;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=e}while(n!==null);he===0&&(he=5)}function Fy(e,n){do{var a=q1(e.alternate,e);if(a!==null){a.flags&=32767,Ct=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Ct=e;return}Ct=e=a}while(e!==null);he=6,Ct=null}function Gy(e,n,a,o,h,f,g,E,C){e.cancelPendingCommit=null;do gc();while(Me!==0);if((qt&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Qh,Ph(e,a,f,g,E,C),e===Wt&&(Ct=Wt=null,Nt=0),ka=n,Vr=e,Wi=a,nd=f,id=h,Vy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,tA(hr,function(){return $y(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=nt.p,nt.p=2,g=qt,qt|=4;try{H1(e,n,a)}finally{qt=g,nt.p=h,G.T=o}}Me=1,Ky(),Qy(),Yy()}}function Ky(){if(Me===1){Me=0;var e=Vr,n=ka,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var o=nt.p;nt.p=2;var h=qt;qt|=4;try{Ry(n,e);var f=_d,g=Op(e.containerInfo),E=f.focusedElem,C=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Dp(E.ownerDocument.documentElement,E)){if(C!==null&&qh(E)){var z=C.start,H=C.end;if(H===void 0&&(H=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(H,E.value.length);else{var Q=E.ownerDocument||document,j=Q&&Q.defaultView||window;if(j.getSelection){var q=j.getSelection(),lt=E.textContent.length,dt=Math.min(C.start,lt),Zt=C.end===void 0?dt:Math.min(C.end,lt);!q.extend&&dt>Zt&&(g=Zt,Zt=dt,dt=g);var k=xp(E,dt),x=xp(E,Zt);if(k&&x&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==x.node||q.focusOffset!==x.offset)){var P=Q.createRange();P.setStart(k.node,k.offset),q.removeAllRanges(),dt>Zt?(q.addRange(P),q.extend(x.node,x.offset)):(P.setEnd(x.node,x.offset),q.addRange(P))}}}}for(Q=[],q=E;q=q.parentNode;)q.nodeType===1&&Q.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var K=Q[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Ic=!!yd,_d=yd=null}finally{qt=h,nt.p=o,G.T=a}}e.current=n,Me=2}}function Qy(){if(Me===2){Me=0;var e=Vr,n=ka,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var o=nt.p;nt.p=2;var h=qt;qt|=4;try{Ty(e,n.alternate,n)}finally{qt=h,nt.p=o,G.T=a}}Me=3}}function Yy(){if(Me===4||Me===3){Me=0,au();var e=Vr,n=ka,a=Wi,o=Vy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Me=5:(Me=0,ka=Vr=null,Xy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Mr=null),Li(a),n=n.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Pn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=nt.p,nt.p=2,G.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,nt.p=h}}(Wi&3)!==0&&gc(),wi(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===rd?dl++:(dl=0,rd=e):dl=0,ml(0)}}function Xy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Yo(n)))}function gc(){return Ky(),Qy(),Yy(),$y()}function $y(){if(Me!==5)return!1;var e=Vr,n=nd;nd=0;var a=Li(Wi),o=G.T,h=nt.p;try{nt.p=32>a?32:a,G.T=null,a=id,id=null;var f=Vr,g=Wi;if(Me=0,ka=Vr=null,Wi=0,(qt&6)!==0)throw Error(s(331));var E=qt;if(qt|=4,Dy(f.current),Iy(f,f.current,g,a),qt=E,ml(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Pn,f)}catch{}return!0}finally{nt.p=h,G.T=o,Xy(e,n)}}function Jy(e,n,a){n=Nn(a,n),n=Lf(e.stateNode,n,2),e=Cr(e,n,2),e!==null&&(fs(e,2),wi(e))}function Yt(e,n,a){if(e.tag===3)Jy(e,e,a);else for(;n!==null;){if(n.tag===3){Jy(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Mr===null||!Mr.has(o))){e=Nn(a,e),a=Zg(2),o=Cr(n,a,2),o!==null&&(Wg(a,o,n,e),fs(o,2),wi(o));break}}n=n.return}}function od(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new K1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(Wf=!0,h.add(a),e=J1.bind(null,e,n,a),n.then(e,e))}function J1(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Wt===e&&(Nt&a)===a&&(he===4||he===3&&(Nt&62914560)===Nt&&300>en()-cc?(qt&2)===0&&La(e,0):td|=a,Va===Nt&&(Va=0)),wi(e)}function Zy(e,n){n===0&&(n=fu()),e=Rs(e,n),e!==null&&(fs(e,n),wi(e))}function Z1(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),Zy(e,a)}function W1(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),Zy(e,a)}function tA(e,n){return Oe(e,n)}var yc=null,Pa=null,ld=!1,_c=!1,ud=!1,Lr=0;function wi(e){e!==Pa&&e.next===null&&(Pa===null?yc=Pa=e:Pa=Pa.next=e),_c=!0,ld||(ld=!0,nA())}function ml(e,n){if(!ud&&_c){ud=!0;do for(var a=!1,o=yc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-fe(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,n_(o,f))}else f=Nt,f=oi(o,o===Wt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||zn(o,f)||(a=!0,n_(o,f));o=o.next}while(a);ud=!1}}function eA(){Wy()}function Wy(){_c=ld=!1;var e=0;Lr!==0&&fA()&&(e=Lr);for(var n=en(),a=null,o=yc;o!==null;){var h=o.next,f=t_(o,n);f===0?(o.next=null,a===null?yc=h:a.next=h,h===null&&(Pa=a)):(a=o,(e!==0||(f&3)!==0)&&(_c=!0)),o=h}Me!==0&&Me!==5||ml(e),Lr!==0&&(Lr=0)}function t_(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-fe(f),E=1<<g,C=h[g];C===-1?((E&a)===0||(E&o)!==0)&&(h[g]=Uh(E,n)):C<=n&&(e.expiredLanes|=E),f&=~E}if(n=Wt,a=Nt,a=oi(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&cr(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||zn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&cr(o),Li(a)){case 2:case 8:a=bo;break;case 32:a=hr;break;case 268435456:a=ou;break;default:a=hr}return o=e_.bind(null,e),a=Oe(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&cr(o),e.callbackPriority=2,e.callbackNode=null,2}function e_(e,n){if(Me!==0&&Me!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(gc()&&e.callbackNode!==a)return null;var o=Nt;return o=oi(e,e===Wt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Ly(e,o,n),t_(e,en()),e.callbackNode!=null&&e.callbackNode===a?e_.bind(null,e):null)}function n_(e,n){if(gc())return null;Ly(e,n,!0)}function nA(){mA(function(){(qt&6)!==0?Oe(So,eA):Wy()})}function cd(){if(Lr===0){var e=Sa;e===0&&(e=si,si<<=1,(si&261888)===0&&(si=256)),Lr=e}return Lr}function i_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:la(""+e)}function r_(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function iA(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=i_((h[ke]||null).action),g=o.submitter;g&&(n=(n=g[ke]||null)?i_(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new _i("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Lr!==0){var C=g?r_(h,g):new FormData(h);xf(a,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=g?r_(h,g):new FormData(h),xf(a,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var hd=0;hd<Kh.length;hd++){var fd=Kh[hd],rA=fd.toLowerCase(),sA=fd[0].toUpperCase()+fd.slice(1);Qn(rA,"on"+sA)}Qn(kp,"onAnimationEnd"),Qn(Lp,"onAnimationIteration"),Qn(Up,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(T1,"onTransitionRun"),Qn(A1,"onTransitionStart"),Qn(S1,"onTransitionCancel"),Qn(Pp,"onTransitionEnd"),mi("onMouseEnter",["mouseout","mouseover"]),mi("onMouseLeave",["mouseout","mouseover"]),mi("onPointerEnter",["pointerout","pointerover"]),mi("onPointerLeave",["pointerout","pointerover"]),di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),di("onBeforeInput",["compositionend","keypress","textInput","paste"]),di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pl));function s_(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],C=E.instance,z=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(H){Mu(H)}h.currentTarget=null,f=C}else for(g=0;g<o.length;g++){if(E=o[g],C=E.instance,z=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(H){Mu(H)}h.currentTarget=null,f=C}}}}function It(e,n){var a=n[ia];a===void 0&&(a=n[ia]=new Set);var o=e+"__bubble";a.has(o)||(a_(n,e,2,!1),a.add(o))}function dd(e,n,a){var o=0;n&&(o|=4),a_(a,e,o,n)}var vc="_reactListening"+Math.random().toString(36).slice(2);function md(e){if(!e[vc]){e[vc]=!0,Co.forEach(function(a){a!=="selectionchange"&&(aA.has(a)||dd(a,!1,e),dd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[vc]||(n[vc]=!0,dd("selectionchange",!1,n))}}function a_(e,n,a,o){switch(k_(n)){case 2:var h=VA;break;case 8:h=kA;break;default:h=Nd}a=h.bind(null,n,a,e),h=void 0,!_s||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function pd(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=hi(E),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){o=f=g;continue t}E=E.parentNode}}o=o.return}yr(function(){var z=f,H=wn(a),Q=[];t:{var j=zp.get(e);if(j!==void 0){var q=_i,lt=e;switch(e){case"keypress":if(Es(a)===0)break t;case"keydown":case"keyup":q=xu;break;case"focusin":lt="focus",q=As;break;case"focusout":lt="blur",q=As;break;case"beforeblur":case"afterblur":q=As;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case kp:case Lp:case Up:q=Su;break;case Pp:q=T;break;case"scroll":case"scrollend":q=zo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=bu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=zi;break;case"toggle":case"beforetoggle":q=St}var dt=(n&4)!==0,Zt=!dt&&(e==="scroll"||e==="scrollend"),k=dt?j!==null?j+"Capture":null:j;dt=[];for(var x=z,P;x!==null;){var K=x;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||k===null||(K=Hn(x,k),K!=null&&dt.push(gl(x,K,P))),Zt)break;x=x.return}0<dt.length&&(j=new q(j,lt,null,a,H),Q.push({event:j,listeners:dt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&a!==Lo&&(lt=a.relatedTarget||a.fromElement)&&(hi(lt)||lt[ui]))break t;if((q||j)&&(j=H.window===H?H:(j=H.ownerDocument)?j.defaultView||j.parentWindow:window,q?(lt=a.relatedTarget||a.toElement,q=z,lt=lt?hi(lt):null,lt!==null&&(Zt=c(lt),dt=lt.tag,lt!==Zt||dt!==5&&dt!==27&&dt!==6)&&(lt=null)):(q=null,lt=z),q!==lt)){if(dt=jo,K="onMouseLeave",k="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(dt=zi,K="onPointerLeave",k="onPointerEnter",x="pointer"),Zt=q==null?j:mn(q),P=lt==null?j:mn(lt),j=new dt(K,x+"leave",q,a,H),j.target=Zt,j.relatedTarget=P,K=null,hi(H)===z&&(dt=new dt(k,x+"enter",lt,a,H),dt.target=P,dt.relatedTarget=Zt,K=dt),Zt=K,q&&lt)e:{for(dt=oA,k=q,x=lt,P=0,K=k;K;K=dt(K))P++;K=0;for(var ct=x;ct;ct=dt(ct))K++;for(;0<P-K;)k=dt(k),P--;for(;0<K-P;)x=dt(x),K--;for(;P--;){if(k===x||x!==null&&k===x.alternate){dt=k;break e}k=dt(k),x=dt(x)}dt=null}else dt=null;q!==null&&o_(Q,j,q,dt,!1),lt!==null&&Zt!==null&&o_(Q,Zt,lt,dt,!0)}}t:{if(j=z?mn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var zt=bp;else if(Ap(j))if(wp)zt=_1;else{zt=g1;var ut=p1}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&oa(z.elementType)&&(zt=bp):zt=y1;if(zt&&(zt=zt(e,z))){Sp(Q,zt,a,H);break t}ut&&ut(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Mo(j,"number",j.value)}switch(ut=z?mn(z):window,e){case"focusin":(Ap(ut)||ut.contentEditable==="true")&&(pa=ut,Hh=z,Go=null);break;case"focusout":Go=Hh=pa=null;break;case"mousedown":Fh=!0;break;case"contextmenu":case"mouseup":case"dragend":Fh=!1,Mp(Q,a,H);break;case"selectionchange":if(E1)break;case"keydown":case"keyup":Mp(Q,a,H)}var Rt;if(Bt)t:{switch(e){case"compositionstart":var xt="onCompositionStart";break t;case"compositionend":xt="onCompositionEnd";break t;case"compositionupdate":xt="onCompositionUpdate";break t}xt=void 0}else ma?Ss(e,a)&&(xt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(xt="onCompositionStart");xt&&(Ti&&a.locale!=="ko"&&(ma||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&ma&&(Rt=Po()):(yi=H,Uo="value"in yi?yi.value:yi.textContent,ma=!0)),ut=Ec(z,xt),0<ut.length&&(xt=new Ei(xt,e,null,a,H),Q.push({event:xt,listeners:ut}),Rt?xt.data=Rt:(Rt=da(a),Rt!==null&&(xt.data=Rt)))),(Rt=Cn?h1(e,a):f1(e,a))&&(xt=Ec(z,"onBeforeInput"),0<xt.length&&(ut=new Ei("onBeforeInput","beforeinput",null,a,H),Q.push({event:ut,listeners:xt}),ut.data=Rt)),iA(Q,e,z,a,H)}s_(Q,n)})}function gl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Ec(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Hn(e,a),h!=null&&o.unshift(gl(e,h,f)),h=Hn(e,n),h!=null&&o.push(gl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function oA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function o_(e,n,a,o,h){for(var f=n._reactName,g=[];a!==null&&a!==o;){var E=a,C=E.alternate,z=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||z===null||(C=z,h?(z=Hn(a,f),z!=null&&g.unshift(gl(a,z,C))):h||(z=Hn(a,f),z!=null&&g.push(gl(a,z,C)))),a=a.return}g.length!==0&&e.push({event:n,listeners:g})}var lA=/\r\n?/g,uA=/\u0000|\uFFFD/g;function l_(e){return(typeof e=="string"?e:""+e).replace(lA,`
`).replace(uA,"")}function u_(e,n){return n=l_(n),l_(e)===n}function Jt(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||an(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&an(e,""+o);break;case"className":pn(e,"class",o);break;case"tabIndex":pn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":pn(e,a,o);break;case"style":ko(e,o,f);break;case"data":if(n!=="object"){pn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=la(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Jt(e,n,"name",h.name,h,null),Jt(e,n,"formEncType",h.formEncType,h,null),Jt(e,n,"formMethod",h.formMethod,h,null),Jt(e,n,"formTarget",h.formTarget,h,null)):(Jt(e,n,"encType",h.encType,h,null),Jt(e,n,"method",h.method,h,null),Jt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=la(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=qn);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=la(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":It("beforetoggle",e),It("toggle",e),sa(e,"popover",o);break;case"xlinkActuate":Ae(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ae(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ae(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ae(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ae(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ae(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":sa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Eu.get(a)||a,sa(e,a,o))}}function gd(e,n,a,o,h,f){switch(a){case"style":ko(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?an(e,o):(typeof o=="number"||typeof o=="bigint")&&an(e,""+o);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"onClick":o!=null&&(e.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Io.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[ke]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):sa(e,a,o)}}}function Fe(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",e),It("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Jt(e,n,f,g,a,null)}}h&&Jt(e,n,"srcSet",a.srcSet,a,null),o&&Jt(e,n,"src",a.src,a,null);return;case"input":It("invalid",e);var E=f=g=h=null,C=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var H=a[o];if(H!=null)switch(o){case"name":h=H;break;case"type":g=H;break;case"checked":C=H;break;case"defaultChecked":z=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:Jt(e,n,o,H,a,null)}}yu(e,f,E,C,z,g,h,!1);return;case"select":It("invalid",e),o=g=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Jt(e,n,h,E,a,null)}n=f,a=g,e.multiple=!!o,n!=null?dr(e,!!o,n,!1):a!=null&&dr(e,!!o,a,!0);return;case"textarea":It("invalid",e),f=h=o=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Jt(e,n,g,E,a,null)}mr(e,o,h,f);return;case"option":for(C in a)a.hasOwnProperty(C)&&(o=a[C],o!=null)&&(C==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Jt(e,n,C,o,a,null));return;case"dialog":It("beforetoggle",e),It("toggle",e),It("cancel",e),It("close",e);break;case"iframe":case"object":It("load",e);break;case"video":case"audio":for(o=0;o<pl.length;o++)It(pl[o],e);break;case"image":It("error",e),It("load",e);break;case"details":It("toggle",e);break;case"embed":case"source":case"link":It("error",e),It("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Jt(e,n,z,o,a,null)}return;default:if(oa(n)){for(H in a)a.hasOwnProperty(H)&&(o=a[H],o!==void 0&&gd(e,n,H,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Jt(e,n,E,o,a,null))}function cA(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,C=null,z=null,H=null;for(q in a){var Q=a[q];if(a.hasOwnProperty(q)&&Q!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=Q;default:o.hasOwnProperty(q)||Jt(e,n,q,null,o,Q)}}for(var j in o){var q=o[j];if(Q=a[j],o.hasOwnProperty(j)&&(q!=null||Q!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":H=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:q!==Q&&Jt(e,n,j,q,o,Q)}}aa(e,g,E,C,z,H,f,h);return;case"select":q=g=E=j=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":q=C;default:o.hasOwnProperty(f)||Jt(e,n,f,null,o,C)}for(h in o)if(f=o[h],C=a[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==C&&Jt(e,n,h,f,o,C)}n=E,a=g,o=q,j!=null?dr(e,!!a,j,!1):!!o!=!!a&&(n!=null?dr(e,!!a,n,!0):dr(e,!!a,a?[]:"",!1));return;case"textarea":q=j=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Jt(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=a[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Jt(e,n,g,h,o,f)}_u(e,j,q);return;case"option":for(var lt in a)j=a[lt],a.hasOwnProperty(lt)&&j!=null&&!o.hasOwnProperty(lt)&&(lt==="selected"?e.selected=!1:Jt(e,n,lt,null,o,j));for(C in o)j=o[C],q=a[C],o.hasOwnProperty(C)&&j!==q&&(j!=null||q!=null)&&(C==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":Jt(e,n,C,j,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in a)j=a[dt],a.hasOwnProperty(dt)&&j!=null&&!o.hasOwnProperty(dt)&&Jt(e,n,dt,null,o,j);for(z in o)if(j=o[z],q=a[z],o.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:Jt(e,n,z,j,o,q)}return;default:if(oa(n)){for(var Zt in a)j=a[Zt],a.hasOwnProperty(Zt)&&j!==void 0&&!o.hasOwnProperty(Zt)&&gd(e,n,Zt,void 0,o,j);for(H in o)j=o[H],q=a[H],!o.hasOwnProperty(H)||j===q||j===void 0&&q===void 0||gd(e,n,H,j,o,q);return}}for(var k in a)j=a[k],a.hasOwnProperty(k)&&j!=null&&!o.hasOwnProperty(k)&&Jt(e,n,k,null,o,j);for(Q in o)j=o[Q],q=a[Q],!o.hasOwnProperty(Q)||j===q||j==null&&q==null||Jt(e,n,Q,j,o,q)}function c_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&c_(g)){for(g=0,E=h.responseEnd,o+=1;o<a.length;o++){var C=a[o],z=C.startTime;if(z>E)break;var H=C.transferSize,Q=C.initiatorType;H&&c_(Q)&&(C=C.responseEnd,g+=H*(C<E?1:(E-z)/(C-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var yd=null,_d=null;function Tc(e){return e.nodeType===9?e:e.ownerDocument}function h_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function f_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function vd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ed=null;function fA(){var e=window.event;return e&&e.type==="popstate"?e===Ed?!1:(Ed=e,!0):(Ed=null,!1)}var d_=typeof setTimeout=="function"?setTimeout:void 0,dA=typeof clearTimeout=="function"?clearTimeout:void 0,m_=typeof Promise=="function"?Promise:void 0,mA=typeof queueMicrotask=="function"?queueMicrotask:typeof m_<"u"?function(e){return m_.resolve(null).then(e).catch(pA)}:d_;function pA(e){setTimeout(function(){throw e})}function Ur(e){return e==="head"}function p_(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),qa(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")yl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,yl(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ci]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&yl(e.ownerDocument.body);a=h}while(a);qa(n)}function g_(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function Td(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Td(a),ra(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function gA(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ci])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Vn(e.nextSibling),e===null)break}return null}function yA(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Vn(e.nextSibling),e===null))return null;return e}function y_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Vn(e.nextSibling),e===null))return null;return e}function Ad(e){return e.data==="$?"||e.data==="$~"}function Sd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function _A(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Vn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var bd=null;function __(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Vn(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function v_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function E_(e,n,a){switch(n=Tc(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function yl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ra(e)}var kn=new Map,T_=new Set;function Ac(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var tr=nt.d;nt.d={f:vA,r:EA,D:TA,C:AA,L:SA,m:bA,X:RA,S:wA,M:CA};function vA(){var e=tr.f(),n=dc();return e||n}function EA(e){var n=bn(e);n!==null&&n.tag===5&&n.type==="form"?Pg(n):tr.r(e)}var za=typeof document>"u"?null:document;function A_(e,n,a){var o=za;if(o&&typeof n=="string"&&n){var h=sn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),T_.has(h)||(T_.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Fe(n,"link",e),Te(n),o.head.appendChild(n)))}}function TA(e){tr.D(e),A_("dns-prefetch",e,null)}function AA(e,n){tr.C(e,n),A_("preconnect",e,n)}function SA(e,n,a){tr.L(e,n,a);var o=za;if(o&&e&&n){var h='link[rel="preload"][as="'+sn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+sn(a.imageSizes)+'"]')):h+='[href="'+sn(e)+'"]';var f=h;switch(n){case"style":f=ja(e);break;case"script":f=Ba(e)}kn.has(f)||(e=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),kn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(_l(f))||n==="script"&&o.querySelector(vl(f))||(n=o.createElement("link"),Fe(n,"link",e),Te(n),o.head.appendChild(n)))}}function bA(e,n){tr.m(e,n);var a=za;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+sn(o)+'"][href="'+sn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ba(e)}if(!kn.has(f)&&(e=S({rel:"modulepreload",href:e},n),kn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(vl(f)))return}o=a.createElement("link"),Fe(o,"link",e),Te(o),a.head.appendChild(o)}}}function wA(e,n,a){tr.S(e,n,a);var o=za;if(o&&e){var h=fi(o).hoistableStyles,f=ja(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(_l(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},a),(a=kn.get(f))&&wd(e,a);var C=g=o.createElement("link");Te(C),Fe(C,"link",e),C._p=new Promise(function(z,H){C.onload=z,C.onerror=H}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Sc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function RA(e,n){tr.X(e,n);var a=za;if(a&&e){var o=fi(a).hoistableScripts,h=Ba(e),f=o.get(h);f||(f=a.querySelector(vl(h)),f||(e=S({src:e,async:!0},n),(n=kn.get(h))&&Rd(e,n),f=a.createElement("script"),Te(f),Fe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function CA(e,n){tr.M(e,n);var a=za;if(a&&e){var o=fi(a).hoistableScripts,h=Ba(e),f=o.get(h);f||(f=a.querySelector(vl(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=kn.get(h))&&Rd(e,n),f=a.createElement("script"),Te(f),Fe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function S_(e,n,a,o){var h=(h=wt.current)?Ac(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ja(a.href),a=fi(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ja(a.href);var f=fi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(_l(e)))&&!f._p&&(g.instance=f,g.state.loading=5),kn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},kn.set(e,a),f||IA(h,e,a,g.state))),n&&o===null)throw Error(s(528,""));return g}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ba(a),a=fi(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function ja(e){return'href="'+sn(e)+'"'}function _l(e){return'link[rel="stylesheet"]['+e+"]"}function b_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function IA(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Fe(n,"link",a),Te(n),e.head.appendChild(n))}function Ba(e){return'[src="'+sn(e)+'"]'}function vl(e){return"script[async]"+e}function w_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+sn(a.href)+'"]');if(o)return n.instance=o,Te(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Te(o),Fe(o,"style",h),Sc(o,a.precedence,e),n.instance=o;case"stylesheet":h=ja(a.href);var f=e.querySelector(_l(h));if(f)return n.state.loading|=4,n.instance=f,Te(f),f;o=b_(a),(h=kn.get(h))&&wd(o,h),f=(e.ownerDocument||e).createElement("link"),Te(f);var g=f;return g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),Fe(f,"link",o),n.state.loading|=4,Sc(f,a.precedence,e),n.instance=f;case"script":return f=Ba(a.src),(h=e.querySelector(vl(f)))?(n.instance=h,Te(h),h):(o=a,(h=kn.get(f))&&(o=S({},a),Rd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Te(h),Fe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Sc(o,a.precedence,e));return n.instance}function Sc(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function wd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Rd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var bc=null;function R_(e,n,a){if(bc===null){var o=new Map,h=bc=new Map;h.set(a,o)}else h=bc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[ci]||f[Ee]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function C_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function NA(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function I_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function xA(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=ja(o.href),f=n.querySelector(_l(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=wc.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,Te(f);return}f=n.ownerDocument||n,o=b_(o),(h=kn.get(h))&&wd(o,h),f=f.createElement("link"),Te(f);var g=f;g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),Fe(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=wc.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Cd=0;function DA(e,n){return e.stylesheets&&e.count===0&&Cc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&Cc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Cd===0&&(Cd=62500*hA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Cc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Cd?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function wc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Cc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Rc=null;function Cc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Rc=new Map,n.forEach(OA,e),Rc=null,wc.call(e))}function OA(e,n){if(!(n.state.loading&4)){var a=Rc.get(e);if(a)var o=a.get(null);else{a=new Map,Rc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=a.get(g)||o,f===o&&a.set(null,h),a.set(g,h),this.count++,o=wc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var El={$$typeof:yt,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function MA(e,n,a,o,h,f,g,E,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function N_(e,n,a,o,h,f,g,E,C,z,H,Q){return e=new MA(e,n,a,g,C,z,H,Q,E),n=1,f===!0&&(n|=24),f=yn(3,null,null,n),e.current=f,f.stateNode=e,n=af(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},cf(f),e}function x_(e){return e?(e=_a,e):_a}function D_(e,n,a,o,h,f){h=x_(h),o.context===null?o.context=h:o.pendingContext=h,o=Rr(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Cr(e,o,n),a!==null&&(hn(a,e,n),Zo(a,e,n))}function O_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Id(e,n){O_(e,n),(e=e.alternate)&&O_(e,n)}function M_(e){if(e.tag===13||e.tag===31){var n=Rs(e,67108864);n!==null&&hn(n,e,67108864),Id(e,67108864)}}function V_(e){if(e.tag===13||e.tag===31){var n=An();n=ms(n);var a=Rs(e,n);a!==null&&hn(a,e,n),Id(e,n)}}var Ic=!0;function VA(e,n,a,o){var h=G.T;G.T=null;var f=nt.p;try{nt.p=2,Nd(e,n,a,o)}finally{nt.p=f,G.T=h}}function kA(e,n,a,o){var h=G.T;G.T=null;var f=nt.p;try{nt.p=8,Nd(e,n,a,o)}finally{nt.p=f,G.T=h}}function Nd(e,n,a,o){if(Ic){var h=xd(o);if(h===null)pd(e,n,o,Nc,a),L_(e,o);else if(UA(h,e,n,a,o))o.stopPropagation();else if(L_(e,o),n&4&&-1<LA.indexOf(e)){for(;h!==null;){var f=bn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ai(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var C=1<<31-fe(g);E.entanglements[1]|=C,g&=~C}wi(f),(qt&6)===0&&(hc=en()+500,ml(0))}}break;case 31:case 13:E=Rs(f,2),E!==null&&hn(E,f,2),dc(),Id(f,2)}if(f=xd(o),f===null&&pd(e,n,o,Nc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else pd(e,n,o,null,a)}}function xd(e){return e=wn(e),Dd(e)}var Nc=null;function Dd(e){if(Nc=null,e=hi(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=p(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Nc=e,null}function k_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cs()){case So:return 2;case bo:return 8;case hr:case Lh:return 32;case ou:return 268435456;default:return 32}default:return 32}}var Od=!1,Pr=null,zr=null,jr=null,Tl=new Map,Al=new Map,Br=[],LA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function L_(e,n){switch(e){case"focusin":case"focusout":Pr=null;break;case"dragenter":case"dragleave":zr=null;break;case"mouseover":case"mouseout":jr=null;break;case"pointerover":case"pointerout":Tl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Al.delete(n.pointerId)}}function Sl(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=bn(n),n!==null&&M_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function UA(e,n,a,o,h){switch(n){case"focusin":return Pr=Sl(Pr,e,n,a,o,h),!0;case"dragenter":return zr=Sl(zr,e,n,a,o,h),!0;case"mouseover":return jr=Sl(jr,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return Tl.set(f,Sl(Tl.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Al.set(f,Sl(Al.get(f)||null,e,n,a,o,h)),!0}return!1}function U_(e){var n=hi(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,jn(e.priority,function(){V_(a)});return}}else if(n===31){if(n=p(a),n!==null){e.blockedOn=n,jn(e.priority,function(){V_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=xd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Lo=o,a.target.dispatchEvent(o),Lo=null}else return n=bn(a),n!==null&&M_(n),e.blockedOn=a,!1;n.shift()}return!0}function P_(e,n,a){xc(e)&&a.delete(n)}function PA(){Od=!1,Pr!==null&&xc(Pr)&&(Pr=null),zr!==null&&xc(zr)&&(zr=null),jr!==null&&xc(jr)&&(jr=null),Tl.forEach(P_),Al.forEach(P_)}function Dc(e,n){e.blockedOn===n&&(e.blockedOn=null,Od||(Od=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,PA)))}var Oc=null;function z_(e){Oc!==e&&(Oc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Oc===e&&(Oc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Dd(o||a)===null)continue;break}var f=bn(a);f!==null&&(e.splice(n,3),n-=3,xf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function qa(e){function n(C){return Dc(C,e)}Pr!==null&&Dc(Pr,e),zr!==null&&Dc(zr,e),jr!==null&&Dc(jr,e),Tl.forEach(n),Al.forEach(n);for(var a=0;a<Br.length;a++){var o=Br[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Br.length&&(a=Br[0],a.blockedOn===null);)U_(a),a.blockedOn===null&&Br.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],g=h[ke]||null;if(typeof f=="function")g||z_(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[ke]||null)E=g.formAction;else if(Dd(h)!==null)continue}else E=g.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),z_(a)}}}function j_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Md(e){this._internalRoot=e}Mc.prototype.render=Md.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=An();D_(a,o,e,n,null,null)},Mc.prototype.unmount=Md.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;D_(e.current,2,null,e,null,null),dc(),n[ui]=null}};function Mc(e){this._internalRoot=e}Mc.prototype.unstable_scheduleHydration=function(e){if(e){var n=du();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Br.length&&n!==0&&n<Br[a].priority;a++);Br.splice(a,0,e),a===0&&U_(e)}};var B_=t.version;if(B_!=="19.2.3")throw Error(s(527,B_,"19.2.3"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var zA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vc.isDisabled&&Vc.supportsFiber)try{Pn=Vc.inject(zA),ze=Vc}catch{}}return wl.createRoot=function(e,n){if(!l(e))throw Error(s(299));var a=!1,o="",h=Yg,f=Xg,g=$g;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=N_(e,1,!1,null,null,a,o,null,h,f,g,j_),e[ui]=n.current,md(e),new Md(n)},wl.hydrateRoot=function(e,n,a){if(!l(e))throw Error(s(299));var o=!1,h="",f=Yg,g=Xg,E=$g,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),n=N_(e,1,!0,n,a??null,o,h,C,f,g,E,j_),n.context=x_(null),a=n.current,o=An(),o=ms(o),h=Rr(o),h.callback=null,Cr(a,h,o),a=o,n.current.lanes=a,fs(n,a),wi(n),e[ui]=n.current,md(e),new Mc(n)},wl.version="19.2.3",wl}var J_;function XA(){if(J_)return Ld.exports;J_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Ld.exports=YA(),Ld.exports}var $A=XA();const N0=(...r)=>r.filter((t,i,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===i).join(" ").trim();const JA=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const ZA=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,s)=>s?s.toUpperCase():i.toLowerCase());const Z_=r=>{const t=ZA(r);return t.charAt(0).toUpperCase()+t.slice(1)};var WA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const tS=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const eS=Ht.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:d,...p},_)=>Ht.createElement("svg",{ref:_,...WA,width:t,height:t,stroke:r,strokeWidth:s?Number(i)*24/Number(t):i,className:N0("lucide",l),...!c&&!tS(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,A])=>Ht.createElement(y,A)),...Array.isArray(c)?c:[c]]));const tn=(r,t)=>{const i=Ht.forwardRef(({className:s,...l},c)=>Ht.createElement(eS,{ref:c,iconNode:t,className:N0(`lucide-${JA(Z_(r))}`,`lucide-${r}`,s),...l}));return i.displayName=Z_(r),i};const nS=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],iS=tn("arrow-up-down",nS);const rS=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],sS=tn("award",rS);const aS=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],x0=tn("car",aS);const oS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],lS=tn("chevron-right",oS);const uS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],cS=tn("circle-plus",uS);const hS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],fS=tn("clock",hS);const dS=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],mS=tn("funnel",dS);const pS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],gS=tn("globe",pS);const yS=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],_S=tn("heart",yS);const vS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ES=tn("log-out",vS);const TS=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],AS=tn("mail",TS);const SS=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],bS=tn("map-pin",SS);const wS=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],RS=tn("menu",wS);const CS=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],IS=tn("phone",CS);const NS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],xS=tn("shield-check",NS);const DS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],OS=tn("x",DS),MS=()=>{};var W_={};const D0=function(r){const t=[];let i=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},VS=function(r){const t=[];let i=0,s=0;for(;i<r.length;){const l=r[i++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[s++]=String.fromCharCode(55296+(_>>10)),t[s++]=String.fromCharCode(56320+(_&1023))}else{const c=r[i++],d=r[i++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},O0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,_=l+2<r.length,y=_?r[l+2]:0,A=c>>2,S=(c&3)<<4|p>>4;let M=(p&15)<<2|y>>6,F=y&63;_||(F=64,d||(M=64)),s.push(i[A],i[S],i[M],i[F])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(D0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):VS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const y=l<r.length?i[r.charAt(l)]:64;++l;const S=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||y==null||S==null)throw new kS;const M=c<<2|p>>4;if(s.push(M),y!==64){const F=p<<4&240|y>>2;if(s.push(F),S!==64){const et=y<<6&192|S;s.push(et)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class kS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LS=function(r){const t=D0(r);return O0.encodeByteArray(t,!0)},Jc=function(r){return LS(r).replace(/\./g,"")},M0=function(r){try{return O0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function US(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const PS=()=>US().__FIREBASE_DEFAULTS__,zS=()=>{if(typeof process>"u"||typeof W_>"u")return;const r=W_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},jS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&M0(r[1]);return t&&JSON.parse(t)},yh=()=>{try{return MS()||PS()||zS()||jS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},V0=r=>yh()?.emulatorHosts?.[r],BS=r=>{const t=V0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},k0=()=>yh()?.config,L0=r=>yh()?.[`_${r}`];class qS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}function co(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function U0(r){return(await fetch(r,{credentials:"include"})).ok}function HS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Jc(JSON.stringify(i)),Jc(JSON.stringify(d)),""].join(".")}const Ml={};function FS(){const r={prod:[],emulator:[]};for(const t of Object.keys(Ml))Ml[t]?r.emulator.push(t):r.prod.push(t);return r}function GS(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let tv=!1;function P0(r,t){if(typeof window>"u"||typeof document>"u"||!co(window.location.host)||Ml[r]===t||Ml[r]||tv)return;Ml[r]=t;function i(M){return`__firebase__banner__${M}`}const s="__firebase__banner",c=FS().prod.length>0;function d(){const M=document.getElementById(s);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function _(M,F){M.setAttribute("width","24"),M.setAttribute("id",F),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function y(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{tv=!0,d()},M}function A(M,F){M.setAttribute("id",F),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function S(){const M=GS(s),F=i("text"),et=document.getElementById(F)||document.createElement("span"),Z=i("learnmore"),W=document.getElementById(Z)||document.createElement("a"),ot=i("preprendIcon"),gt=document.getElementById(ot)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const yt=M.element;p(yt),A(W,Z);const Et=y();_(gt,ot),yt.append(gt,et,W,Et),document.body.appendChild(yt)}c?(et.innerText="Preview backend disconnected.",gt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(gt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,et.innerText="Preview backend running in this workspace."),et.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function QS(){const r=yh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function $S(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function JS(){const r=Ze();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function ZS(){return!QS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WS(){try{return typeof indexedDB=="object"}catch{return!1}}function tb(){return new Promise((r,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const eb="FirebaseError";class or extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=eb,Object.setPrototypeOf(this,or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xl.prototype.create)}}class Xl{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?nb(c,s):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new or(l,p,s)}}function nb(r,t){return r.replace(ib,(i,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const ib=/\{\$([^}]+)}/g;function rb(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Hs(r,t){if(r===t)return!0;const i=Object.keys(r),s=Object.keys(t);for(const l of i){if(!s.includes(l))return!1;const c=r[l],d=t[l];if(ev(c)&&ev(d)){if(!Hs(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function ev(r){return r!==null&&typeof r=="object"}function $l(r){const t=[];for(const[i,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Cl(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,c]=s.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function Il(r){const t=r.indexOf("?");if(!t)return"";const i=r.indexOf("#",t);return r.substring(t,i>0?i:void 0)}function sb(r,t){const i=new ab(r,t);return i.subscribe.bind(i)}class ab{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,s){let l;if(t===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");ob(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:s},l.next===void 0&&(l.next=jd),l.error===void 0&&(l.error=jd),l.complete===void 0&&(l.complete=jd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ob(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function jd(){}function We(r){return r&&r._delegate?r._delegate:r}class Fs{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const zs="[DEFAULT]";class lb{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new qS;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(cb(t))try{this.getOrInitializeService({instanceIdentifier:zs})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=zs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=zs){return this.instances.has(t)}getOptions(t=zs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&d.resolve(l)}return l}onInit(t,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&t(c,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:ub(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=zs){return this.component?this.component.multipleInstances?t:zs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ub(r){return r===zs?void 0:r}function cb(r){return r.instantiationMode==="EAGER"}class hb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new lb(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Dt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Dt||(Dt={}));const fb={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},db=Dt.INFO,mb={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},pb=(r,t,...i)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=mb[t];if(l)console[l](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Nm{constructor(t){this.name=t,this._logLevel=db,this._logHandler=pb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?fb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...t),this._logHandler(this,Dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...t),this._logHandler(this,Dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...t),this._logHandler(this,Dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...t),this._logHandler(this,Dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...t),this._logHandler(this,Dt.ERROR,...t)}}const gb=(r,t)=>t.some(i=>r instanceof i);let nv,iv;function yb(){return nv||(nv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _b(){return iv||(iv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const z0=new WeakMap,tm=new WeakMap,j0=new WeakMap,Bd=new WeakMap,xm=new WeakMap;function vb(r){const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Xr(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&z0.set(i,r)}).catch(()=>{}),xm.set(t,r),t}function Eb(r){if(tm.has(r))return;const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});tm.set(r,t)}let em={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return tm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||j0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Xr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function Tb(r){em=r(em)}function Ab(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=r.call(qd(this),t,...i);return j0.set(s,t.sort?t.sort():[t]),Xr(s)}:_b().includes(r)?function(...t){return r.apply(qd(this),t),Xr(z0.get(this))}:function(...t){return Xr(r.apply(qd(this),t))}}function Sb(r){return typeof r=="function"?Ab(r):(r instanceof IDBTransaction&&Eb(r),gb(r,yb())?new Proxy(r,em):r)}function Xr(r){if(r instanceof IDBRequest)return vb(r);if(Bd.has(r))return Bd.get(r);const t=Sb(r);return t!==r&&(Bd.set(r,t),xm.set(t,r)),t}const qd=r=>xm.get(r);function bb(r,t,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=Xr(d);return s&&d.addEventListener("upgradeneeded",_=>{s(Xr(d.result),_.oldVersion,_.newVersion,Xr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const wb=["get","getKey","getAll","getAllKeys","count"],Rb=["put","add","delete","clear"],Hd=new Map;function rv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Hd.get(t))return Hd.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,l=Rb.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||wb.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return Hd.set(t,c),c}Tb(r=>({...r,get:(t,i,s)=>rv(t,i)||r.get(t,i,s),has:(t,i)=>!!rv(t,i)||r.has(t,i)}));class Cb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Ib(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function Ib(r){return r.getComponent()?.type==="VERSION"}const nm="@firebase/app",sv="0.14.7";const ir=new Nm("@firebase/app"),Nb="@firebase/app-compat",xb="@firebase/analytics-compat",Db="@firebase/analytics",Ob="@firebase/app-check-compat",Mb="@firebase/app-check",Vb="@firebase/auth",kb="@firebase/auth-compat",Lb="@firebase/database",Ub="@firebase/data-connect",Pb="@firebase/database-compat",zb="@firebase/functions",jb="@firebase/functions-compat",Bb="@firebase/installations",qb="@firebase/installations-compat",Hb="@firebase/messaging",Fb="@firebase/messaging-compat",Gb="@firebase/performance",Kb="@firebase/performance-compat",Qb="@firebase/remote-config",Yb="@firebase/remote-config-compat",Xb="@firebase/storage",$b="@firebase/storage-compat",Jb="@firebase/firestore",Zb="@firebase/ai",Wb="@firebase/firestore-compat",tw="firebase",ew="12.8.0";const im="[DEFAULT]",nw={[nm]:"fire-core",[Nb]:"fire-core-compat",[Db]:"fire-analytics",[xb]:"fire-analytics-compat",[Mb]:"fire-app-check",[Ob]:"fire-app-check-compat",[Vb]:"fire-auth",[kb]:"fire-auth-compat",[Lb]:"fire-rtdb",[Ub]:"fire-data-connect",[Pb]:"fire-rtdb-compat",[zb]:"fire-fn",[jb]:"fire-fn-compat",[Bb]:"fire-iid",[qb]:"fire-iid-compat",[Hb]:"fire-fcm",[Fb]:"fire-fcm-compat",[Gb]:"fire-perf",[Kb]:"fire-perf-compat",[Qb]:"fire-rc",[Yb]:"fire-rc-compat",[Xb]:"fire-gcs",[$b]:"fire-gcs-compat",[Jb]:"fire-fst",[Wb]:"fire-fst-compat",[Zb]:"fire-vertex","fire-js":"fire-js",[tw]:"fire-js-all"};const Zc=new Map,iw=new Map,rm=new Map;function av(r,t){try{r.container.addComponent(t)}catch(i){ir.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function io(r){const t=r.name;if(rm.has(t))return ir.debug(`There were multiple attempts to register component ${t}.`),!1;rm.set(t,r);for(const i of Zc.values())av(i,r);for(const i of iw.values())av(i,r);return!0}function Dm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function dn(r){return r==null?!1:r.settings!==void 0}const rw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$r=new Xl("app","Firebase",rw);class sw{constructor(t,i,s){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw $r.create("app-deleted",{appName:this._name})}}const ho=ew;function B0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const s={name:im,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw $r.create("bad-app-name",{appName:String(l)});if(i||(i=k0()),!i)throw $r.create("no-options");const c=Zc.get(l);if(c){if(Hs(i,c.options)&&Hs(s,c.config))return c;throw $r.create("duplicate-app",{appName:l})}const d=new hb(l);for(const _ of rm.values())d.addComponent(_);const p=new sw(i,s,d);return Zc.set(l,p),p}function q0(r=im){const t=Zc.get(r);if(!t&&r===im&&k0())return B0();if(!t)throw $r.create("no-app",{appName:r});return t}function Jr(r,t,i){let s=nw[r]??r;i&&(s+=`-${i}`);const l=s.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${t}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ir.warn(d.join(" "));return}io(new Fs(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const aw="firebase-heartbeat-database",ow=1,zl="firebase-heartbeat-store";let Fd=null;function H0(){return Fd||(Fd=bb(aw,ow,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(zl)}catch(i){console.warn(i)}}}}).catch(r=>{throw $r.create("idb-open",{originalErrorMessage:r.message})})),Fd}async function lw(r){try{const i=(await H0()).transaction(zl),s=await i.objectStore(zl).get(F0(r));return await i.done,s}catch(t){if(t instanceof or)ir.warn(t.message);else{const i=$r.create("idb-get",{originalErrorMessage:t?.message});ir.warn(i.message)}}}async function ov(r,t){try{const s=(await H0()).transaction(zl,"readwrite");await s.objectStore(zl).put(t,F0(r)),await s.done}catch(i){if(i instanceof or)ir.warn(i.message);else{const s=$r.create("idb-set",{originalErrorMessage:i?.message});ir.warn(s.message)}}}function F0(r){return`${r.name}!${r.options.appId}`}const uw=1024,cw=30;class hw{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new dw(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=lv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>cw){const l=mw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ir.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=lv(),{heartbeatsToSend:i,unsentEntries:s}=fw(this._heartbeatsCache.heartbeats),l=Jc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ir.warn(t),""}}}function lv(){return new Date().toISOString().substring(0,10)}function fw(r,t=uw){const i=[];let s=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),uv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),uv(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class dw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WS()?tb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await lw(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return ov(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return ov(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function uv(r){return Jc(JSON.stringify({version:2,heartbeats:r})).length}function mw(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,t=s);return t}function pw(r){io(new Fs("platform-logger",t=>new Cb(t),"PRIVATE")),io(new Fs("heartbeat",t=>new hw(t),"PRIVATE")),Jr(nm,sv,r),Jr(nm,sv,"esm2020"),Jr("fire-js","")}pw("");var gw="firebase",yw="12.8.0";Jr(gw,yw,"app");function G0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _w=G0,K0=new Xl("auth","Firebase",G0());const Wc=new Nm("@firebase/auth");function vw(r,...t){Wc.logLevel<=Dt.WARN&&Wc.warn(`Auth (${ho}): ${r}`,...t)}function Bc(r,...t){Wc.logLevel<=Dt.ERROR&&Wc.error(`Auth (${ho}): ${r}`,...t)}function ni(r,...t){throw Om(r,...t)}function Ii(r,...t){return Om(r,...t)}function Q0(r,t,i){const s={..._w(),[t]:i};return new Xl("auth","Firebase",s).create(t,{appName:r.name})}function Wn(r){return Q0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Om(r,...t){if(typeof r!="string"){const i=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(i,...s)}return K0.create(r,...t)}function mt(r,t,...i){if(!r)throw Om(t,...i)}function er(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Bc(t),new Error(t)}function rr(r,t){r||er(t)}function sm(){return typeof self<"u"&&self.location?.href||""}function Ew(){return cv()==="http:"||cv()==="https:"}function cv(){return typeof self<"u"&&self.location?.protocol||null}function Tw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ew()||XS()||"connection"in navigator)?navigator.onLine:!0}function Aw(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Jl{constructor(t,i){this.shortDelay=t,this.longDelay=i,rr(i>t,"Short delay should be less than long delay!"),this.isMobile=KS()||$S()}get(){return Tw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Mm(r,t){rr(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class Y0{static initialize(t,i,s){this.fetchImpl=t,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Sw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const bw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ww=new Jl(3e4,6e4);function lr(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function os(r,t,i,s,l={}){return X0(r,l,async()=>{let c={},d={};s&&(t==="GET"?d=s:c={body:JSON.stringify(s)});const p=$l({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:_,...c};return YS()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&co(r.emulatorConfig.host)&&(y.credentials="include"),Y0.fetch()(await $0(r,r.config.apiHost,i,p),y)})}async function X0(r,t,i){r._canInitEmulator=!1;const s={...Sw,...t};try{const l=new Cw(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw kc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw kc(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw kc(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw kc(r,"user-disabled",d);const A=s[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Q0(r,A,y);ni(r,A)}}catch(l){if(l instanceof or)throw l;ni(r,"network-request-failed",{message:String(l)})}}async function fo(r,t,i,s,l={}){const c=await os(r,t,i,s,l);return"mfaPendingCredential"in c&&ni(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function $0(r,t,i,s){const l=`${t}${i}?${s}`,c=r,d=c.config.emulator?Mm(r.config,l):`${r.config.apiScheme}://${l}`;return bw.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function Rw(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Cw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(Ii(this.auth,"network-request-failed")),ww.get())})}}function kc(r,t,i){const s={appName:r.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=Ii(r,t,s);return l.customData._tokenResponse=i,l}function hv(r){return r!==void 0&&r.enterprise!==void 0}class Iw{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return Rw(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Nw(r,t){return os(r,"GET","/v2/recaptchaConfig",lr(r,t))}async function xw(r,t){return os(r,"POST","/v1/accounts:delete",t)}async function th(r,t){return os(r,"POST","/v1/accounts:lookup",t)}function Vl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Dw(r,t=!1){const i=We(r),s=await i.getIdToken(t),l=Vm(s);mt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:s,authTime:Vl(Gd(l.auth_time)),issuedAtTime:Vl(Gd(l.iat)),expirationTime:Vl(Gd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Gd(r){return Number(r)*1e3}function Vm(r){const[t,i,s]=r.split(".");if(t===void 0||i===void 0||s===void 0)return Bc("JWT malformed, contained fewer than 3 sections"),null;try{const l=M0(i);return l?JSON.parse(l):(Bc("Failed to decode base64 JWT payload"),null)}catch(l){return Bc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function fv(r){const t=Vm(r);return mt(t,"internal-error"),mt(typeof t.exp<"u","internal-error"),mt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function jl(r,t,i=!1){if(i)return t;try{return await t}catch(s){throw s instanceof or&&Ow(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function Ow({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class Mw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class am{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vl(this.lastLoginAt),this.creationTime=Vl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function eh(r){const t=r.auth,i=await r.getIdToken(),s=await jl(r,th(t,{idToken:i}));mt(s?.users.length,t,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?J0(l.providerUserInfo):[],d=kw(r.providerData,c),p=r.isAnonymous,_=!(r.email&&l.passwordHash)&&!d?.length,y=p?_:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new am(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,A)}async function Vw(r){const t=We(r);await eh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function kw(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function J0(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Lw(r,t){const i=await X0(r,{},async()=>{const s=$l({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await $0(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:s};return r.emulatorConfig&&co(r.emulatorConfig.host)&&(_.credentials="include"),Y0.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Uw(r,t){return os(r,"POST","/v2/accounts:revokeToken",lr(r,t))}class $a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){mt(t.idToken,"internal-error"),mt(typeof t.idToken<"u","internal-error"),mt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):fv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){mt(t.length!==0,"internal-error");const i=fv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(mt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await Lw(t,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,i,s){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,d=new $a;return s&&(mt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(mt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(mt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new $a,this.toJSON())}_performRefresh(){return er("not implemented")}}function Hr(r,t){mt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class $n{constructor({uid:t,auth:i,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new Mw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new am(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await jl(this,this.stsTokenManager.getToken(this.auth,t));return mt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return Dw(this,t)}reload(){return Vw(this)}_assign(t){this!==t&&(mt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new $n({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),i&&await eh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(dn(this.auth.app))return Promise.reject(Wn(this.auth));const t=await this.getIdToken();return await jl(this,xw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const s=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:M,isAnonymous:F,providerData:et,stsTokenManager:Z}=i;mt(S&&Z,t,"internal-error");const W=$a.fromJSON(this.name,Z);mt(typeof S=="string",t,"internal-error"),Hr(s,t.name),Hr(l,t.name),mt(typeof M=="boolean",t,"internal-error"),mt(typeof F=="boolean",t,"internal-error"),Hr(c,t.name),Hr(d,t.name),Hr(p,t.name),Hr(_,t.name),Hr(y,t.name),Hr(A,t.name);const ot=new $n({uid:S,auth:t,email:l,emailVerified:M,displayName:s,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:W,createdAt:y,lastLoginAt:A});return et&&Array.isArray(et)&&(ot.providerData=et.map(gt=>({...gt}))),_&&(ot._redirectEventId=_),ot}static async _fromIdTokenResponse(t,i,s=!1){const l=new $a;l.updateFromServerResponse(i);const c=new $n({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await eh(c),c}static async _fromGetAccountInfoResponse(t,i,s){const l=i.users[0];mt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?J0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new $a;p.updateFromIdToken(s);const _=new $n({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new am(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const dv=new Map;function nr(r){rr(r instanceof Function,"Expected a class definition");let t=dv.get(r);return t?(rr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,dv.set(r,t),t)}class Z0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Z0.type="NONE";const mv=Z0;function qc(r,t,i){return`firebase:${r}:${t}:${i}`}class Ja{constructor(t,i,s){this.persistence=t,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=qc(this.userKey,l.apiKey,c),this.fullPersistenceKey=qc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await th(this.auth,{idToken:t}).catch(()=>{});return i?$n._fromGetAccountInfoResponse(this.auth,i,t):null}return $n._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,s="authUser"){if(!i.length)return new Ja(nr(mv),t,s);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||nr(mv);const d=qc(s,t.config.apiKey,t.name);let p=null;for(const y of i)try{const A=await y._get(d);if(A){let S;if(typeof A=="string"){const M=await th(t,{idToken:A}).catch(()=>{});if(!M)break;S=await $n._fromGetAccountInfoResponse(t,M,A)}else S=$n._fromJSON(t,A);y!==c&&(p=S),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Ja(c,t,s):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Ja(c,t,s))}}function pv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(nE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(W0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(rE(t))return"Blackberry";if(sE(t))return"Webos";if(tE(t))return"Safari";if((t.includes("chrome/")||eE(t))&&!t.includes("edge/"))return"Chrome";if(iE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(i);if(s?.length===2)return s[1]}return"Other"}function W0(r=Ze()){return/firefox\//i.test(r)}function tE(r=Ze()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function eE(r=Ze()){return/crios\//i.test(r)}function nE(r=Ze()){return/iemobile/i.test(r)}function iE(r=Ze()){return/android/i.test(r)}function rE(r=Ze()){return/blackberry/i.test(r)}function sE(r=Ze()){return/webos/i.test(r)}function km(r=Ze()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Pw(r=Ze()){return km(r)&&!!window.navigator?.standalone}function zw(){return JS()&&document.documentMode===10}function aE(r=Ze()){return km(r)||iE(r)||sE(r)||rE(r)||/windows phone/i.test(r)||nE(r)}function oE(r,t=[]){let i;switch(r){case"Browser":i=pv(Ze());break;case"Worker":i=`${pv(Ze())}-${r}`;break;default:i=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${ho}/${s}`}class jw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const s=c=>new Promise((d,p)=>{try{const _=t(c);d(_)}catch(_){p(_)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const s of this.queue)await s(t),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function Bw(r,t={}){return os(r,"GET","/v2/passwordPolicy",lr(r,t))}const qw=6;class Hw{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??qw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=t.length>=s),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class Fw{constructor(t,i,s,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gv(this),this.idTokenSubscription=new gv(this),this.beforeStateQueue=new jw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=K0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=nr(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ja.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await th(this,{idToken:t}),s=await $n._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(dn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(s=p.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await eh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Aw()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(dn(this.app))return Promise.reject(Wn(this));const i=t?We(t):null;return i&&mt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&mt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return dn(this.app)?Promise.reject(Wn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return dn(this.app)?Promise.reject(Wn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(nr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Bw(this),i=new Hw(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Xl("auth","Firebase",t())}onAuthStateChanged(t,i,s){return this.registerStateListener(this.authStateSubscription,t,i,s)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,s){return this.registerStateListener(this.idTokenSubscription,t,i,s)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await Uw(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const s=await this.getOrInitRedirectPersistenceManager(i);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&nr(t)||this._popupRedirectResolver;mt(i,this,"argument-error"),this.redirectPersistenceManager=await Ja.create(this,[nr(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(mt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,s,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=oE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&vw(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ur(r){return We(r)}class gv{constructor(t){this.auth=t,this.observer=null,this.addObserver=sb(i=>this.observer=i)}get next(){return mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let _h={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Gw(r){_h=r}function lE(r){return _h.loadJS(r)}function Kw(){return _h.recaptchaEnterpriseScript}function Qw(){return _h.gapiScript}function Yw(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class Xw{constructor(){this.enterprise=new $w}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class $w{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const Jw="recaptcha-enterprise",uE="NO_RECAPTCHA";class Zw{constructor(t){this.type=Jw,this.auth=ur(t)}async verify(t="verify",i=!1){async function s(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{Nw(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new Iw(_);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(_=>{p(_)})})}function l(c,d,p){const _=window.grecaptcha;hv(_)?_.enterprise.ready(()=>{_.enterprise.execute(c,{action:t}).then(y=>{d(y)}).catch(()=>{d(uE)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Xw().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{s(this.auth).then(p=>{if(!i&&hv(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let _=Kw();_.length!==0&&(_+=p),lE(_).then(()=>{l(p,c,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function yv(r,t,i,s=!1,l=!1){const c=new Zw(r);let d;if(l)d=uE;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const _=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const _=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function om(r,t,i,s,l){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await yv(r,t,i,i==="getOobCode");return s(r,c)}else return s(r,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await yv(r,t,i,i==="getOobCode");return s(r,d)}else return Promise.reject(c)})}function Ww(r,t){const i=Dm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Hs(c,t??{}))return l;ni(l,"already-initialized")}return i.initialize({options:t})}function tR(r,t){const i=t?.persistence||[],s=(Array.isArray(i)?i:[i]).map(nr);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function eR(r,t,i){const s=ur(r);mt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=cE(t),{host:d,port:p}=nR(t),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){mt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),mt(Hs(y,s.config.emulator)&&Hs(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,co(d)?(U0(`${c}//${d}${_}`),P0("Auth",!0)):iR()}function cE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function nR(r){const t=cE(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:_v(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:_v(d)}}}function _v(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function iR(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Lm{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return er("not implemented")}_getIdTokenResponse(t){return er("not implemented")}_linkToIdToken(t,i){return er("not implemented")}_getReauthenticationResolver(t){return er("not implemented")}}async function rR(r,t){return os(r,"POST","/v1/accounts:signUp",t)}async function sR(r,t){return fo(r,"POST","/v1/accounts:signInWithPassword",lr(r,t))}async function aR(r,t){return fo(r,"POST","/v1/accounts:signInWithEmailLink",lr(r,t))}async function oR(r,t){return fo(r,"POST","/v1/accounts:signInWithEmailLink",lr(r,t))}class Bl extends Lm{constructor(t,i,s,l=null){super("password",s),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new Bl(t,i,"password")}static _fromEmailAndCode(t,i,s=null){return new Bl(t,i,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return om(t,i,"signInWithPassword",sR);case"emailLink":return aR(t,{email:this._email,oobCode:this._password});default:ni(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const s={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return om(t,s,"signUpPassword",rR);case"emailLink":return oR(t,{idToken:i,email:this._email,oobCode:this._password});default:ni(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Za(r,t){return fo(r,"POST","/v1/accounts:signInWithIdp",lr(r,t))}const lR="http://localhost";class Gs extends Lm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Gs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ni("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l,...c}=i;if(!s||!l)return null;const d=new Gs(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Za(t,i)}_linkToIdToken(t,i){const s=this.buildRequest();return s.idToken=i,Za(t,s)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Za(t,i)}buildRequest(){const t={requestUri:lR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=$l(i)}return t}}function uR(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function cR(r){const t=Cl(Il(r)).link,i=t?Cl(Il(t)).deep_link_id:null,s=Cl(Il(r)).deep_link_id;return(s?Cl(Il(s)).link:null)||s||i||t||r}class Um{constructor(t){const i=Cl(Il(t)),s=i.apiKey??null,l=i.oobCode??null,c=uR(i.mode??null);mt(s&&l&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=cR(t);try{return new Um(i)}catch{return null}}}class mo{constructor(){this.providerId=mo.PROVIDER_ID}static credential(t,i){return Bl._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const s=Um.parseLink(i);return mt(s,"argument-error"),Bl._fromEmailAndCode(t,s.code,s.tenantId)}}mo.PROVIDER_ID="password";mo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";mo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class hE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Zl extends hE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Fr extends Zl{constructor(){super("facebook.com")}static credential(t){return Gs._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fr.credentialFromTaggedObject(t)}static credentialFromError(t){return Fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fr.credential(t.oauthAccessToken)}catch{return null}}}Fr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fr.PROVIDER_ID="facebook.com";class Gr extends Zl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Gs._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Gr.credentialFromTaggedObject(t)}static credentialFromError(t){return Gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:s}=t;if(!i&&!s)return null;try{return Gr.credential(i,s)}catch{return null}}}Gr.GOOGLE_SIGN_IN_METHOD="google.com";Gr.PROVIDER_ID="google.com";class Kr extends Zl{constructor(){super("github.com")}static credential(t){return Gs._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Kr.credentialFromTaggedObject(t)}static credentialFromError(t){return Kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Kr.credential(t.oauthAccessToken)}catch{return null}}}Kr.GITHUB_SIGN_IN_METHOD="github.com";Kr.PROVIDER_ID="github.com";class Qr extends Zl{constructor(){super("twitter.com")}static credential(t,i){return Gs._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Qr.credentialFromTaggedObject(t)}static credentialFromError(t){return Qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=t;if(!i||!s)return null;try{return Qr.credential(i,s)}catch{return null}}}Qr.TWITTER_SIGN_IN_METHOD="twitter.com";Qr.PROVIDER_ID="twitter.com";async function fE(r,t){return fo(r,"POST","/v1/accounts:signUp",lr(r,t))}class Vi{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,s,l=!1){const c=await $n._fromIdTokenResponse(t,s,l),d=vv(s);return new Vi({user:c,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(t,i,s){await t._updateTokensIfNecessary(s,!0);const l=vv(s);return new Vi({user:t,providerId:l,_tokenResponse:s,operationType:i})}}function vv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function hR(r){if(dn(r.app))return Promise.reject(Wn(r));const t=ur(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Vi({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await fE(t,{returnSecureToken:!0}),s=await Vi._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(s.user),s}class nh extends or{constructor(t,i,s,l){super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,nh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,i,s,l){return new nh(t,i,s,l)}}function dE(r,t,i,s){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?nh._fromErrorAndOperation(r,c,t,s):c})}async function fR(r,t,i=!1){const s=await jl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return Vi._forOperation(r,"link",s)}async function dR(r,t,i=!1){const{auth:s}=r;if(dn(s.app))return Promise.reject(Wn(s));const l="reauthenticate";try{const c=await jl(r,dE(s,l,t,r),i);mt(c.idToken,s,"internal-error");const d=Vm(c.idToken);mt(d,s,"internal-error");const{sub:p}=d;return mt(r.uid===p,s,"user-mismatch"),Vi._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ni(s,"user-mismatch"),c}}async function mE(r,t,i=!1){if(dn(r.app))return Promise.reject(Wn(r));const s="signIn",l=await dE(r,s,t),c=await Vi._fromIdTokenResponse(r,s,l);return i||await r._updateCurrentUser(c.user),c}async function mR(r,t){return mE(ur(r),t)}async function pR(r,t){return fo(r,"POST","/v1/accounts:signInWithCustomToken",lr(r,t))}async function gR(r,t){if(dn(r.app))return Promise.reject(Wn(r));const i=ur(r),s=await pR(i,{token:t,returnSecureToken:!0}),l=await Vi._fromIdTokenResponse(i,"signIn",s);return await i._updateCurrentUser(l.user),l}async function pE(r){const t=ur(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function yR(r,t,i){if(dn(r.app))return Promise.reject(Wn(r));const s=ur(r),d=await om(s,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",fE).catch(_=>{throw _.code==="auth/password-does-not-meet-requirements"&&pE(r),_}),p=await Vi._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(p.user),p}function _R(r,t,i){return dn(r.app)?Promise.reject(Wn(r)):mR(We(r),mo.credential(t,i)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&pE(r),s})}function vR(r,t,i,s){return We(r).onIdTokenChanged(t,i,s)}function ER(r,t,i){return We(r).beforeAuthStateChanged(t,i)}function TR(r,t,i,s){return We(r).onAuthStateChanged(t,i,s)}function AR(r){return We(r).signOut()}const ih="__sak";class gE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ih,"1"),this.storage.removeItem(ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const SR=1e3,bR=10;class yE extends gE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&t(i,l,s)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const s=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);zw()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,bR):l()}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:s}),!0)})},SR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}yE.type="LOCAL";const wR=yE;class _E extends gE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}_E.type="SESSION";const vE=_E;function RR(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class vh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const s=new vh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:s,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await RR(p);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vh.receivers=[];function Pm(r="",t=10){let i="";for(let s=0;s<t;s++)i+=Math.floor(Math.random()*10);return r+i}class CR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=Pm("",20);l.port1.start();const A=setTimeout(()=>{_(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(S){const M=S;if(M.data.eventId===y)switch(M.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(M.data.response);break;default:clearTimeout(A),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ni(){return window}function IR(r){Ni().location.href=r}function EE(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function NR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xR(){return navigator?.serviceWorker?.controller||null}function DR(){return EE()?self:null}const TE="firebaseLocalStorageDb",OR=1,rh="firebaseLocalStorage",AE="fbase_key";class Wl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Eh(r,t){return r.transaction([rh],t?"readwrite":"readonly").objectStore(rh)}function MR(){const r=indexedDB.deleteDatabase(TE);return new Wl(r).toPromise()}function lm(){const r=indexedDB.open(TE,OR);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(rh,{keyPath:AE})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(rh)?t(s):(s.close(),await MR(),t(await lm()))})})}async function Ev(r,t,i){const s=Eh(r,!0).put({[AE]:t,value:i});return new Wl(s).toPromise()}async function VR(r,t){const i=Eh(r,!1).get(t),s=await new Wl(i).toPromise();return s===void 0?null:s.value}function Tv(r,t){const i=Eh(r,!0).delete(t);return new Wl(i).toPromise()}const kR=800,LR=3;class SE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(i++>LR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return EE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vh._getInstance(DR()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await NR(),!this.activeServiceWorker)return;this.sender=new CR(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||xR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await lm();return await Ev(t,ih,"1"),await Tv(t,ih),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>Ev(s,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(s=>VR(s,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Tv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Eh(l,!1).getAll();return new Wl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}SE.type="LOCAL";const UR=SE;new Jl(3e4,6e4);function PR(r,t){return t?nr(t):(mt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class zm extends Lm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Za(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Za(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Za(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function zR(r){return mE(r.auth,new zm(r),r.bypassAuthState)}function jR(r){const{auth:t,user:i}=r;return mt(i,t,"internal-error"),dR(i,new zm(r),r.bypassAuthState)}async function BR(r){const{auth:t,user:i}=r;return mt(i,t,"internal-error"),fR(i,new zm(r),r.bypassAuthState)}class bE{constructor(t,i,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return zR;case"linkViaPopup":case"linkViaRedirect":return BR;case"reauthViaPopup":case"reauthViaRedirect":return jR;default:ni(this.auth,"internal-error")}}resolve(t){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qR=new Jl(2e3,1e4);class Qa extends bE{constructor(t,i,s,l,c){super(t,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Qa.currentPopupAction&&Qa.currentPopupAction.cancel(),Qa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return mt(t,this.auth,"internal-error"),t}async onExecution(){rr(this.filter.length===1,"Popup operations only handle one event");const t=Pm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,qR.get())};t()}}Qa.currentPopupAction=null;const HR="pendingRedirect",Hc=new Map;class FR extends bE{constructor(t,i,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let t=Hc.get(this.auth._key());if(!t){try{const s=await GR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(i){t=()=>Promise.reject(i)}Hc.set(this.auth._key(),t)}return this.bypassAuthState||Hc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GR(r,t){const i=YR(t),s=QR(r);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function KR(r,t){Hc.set(r._key(),t)}function QR(r){return nr(r._redirectPersistence)}function YR(r){return qc(HR,r.config.apiKey,r.name)}async function XR(r,t,i=!1){if(dn(r.app))return Promise.reject(Wn(r));const s=ur(r),l=PR(s,t),d=await new FR(s,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}const $R=600*1e3;class JR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(i=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!ZR(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!wE(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ii(this.auth,s))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const s=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=$R&&this.cachedEventUids.clear(),this.cachedEventUids.has(Av(t))}saveEventToCache(t){this.cachedEventUids.add(Av(t)),this.lastProcessedEventTime=Date.now()}}function Av(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function wE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function ZR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wE(r);default:return!1}}async function WR(r,t={}){return os(r,"GET","/v1/projects",t)}const t2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,e2=/^https?/;async function n2(r){if(r.config.emulator)return;const{authorizedDomains:t}=await WR(r);for(const i of t)try{if(i2(i))return}catch{}ni(r,"unauthorized-domain")}function i2(r){const t=sm(),{protocol:i,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!e2.test(i))return!1;if(t2.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const r2=new Jl(3e4,6e4);function Sv(){const r=Ni().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function s2(r){return new Promise((t,i)=>{function s(){Sv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Sv(),i(Ii(r,"network-request-failed"))},timeout:r2.get()})}if(Ni().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ni().gapi?.load)s();else{const l=Yw("iframefcb");return Ni()[l]=()=>{gapi.load?s():i(Ii(r,"network-request-failed"))},lE(`${Qw()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Fc=null,t})}let Fc=null;function a2(r){return Fc=Fc||s2(r),Fc}const o2=new Jl(5e3,15e3),l2="__/auth/iframe",u2="emulator/auth/iframe",c2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},h2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function f2(r){const t=r.config;mt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Mm(t,u2):`https://${r.config.authDomain}/${l2}`,s={apiKey:t.apiKey,appName:r.name,v:ho},l=h2.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${$l(s).slice(1)}`}async function d2(r){const t=await a2(r),i=Ni().gapi;return mt(i,r,"internal-error"),t.open({where:document.body,url:f2(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:c2,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=Ii(r,"network-request-failed"),p=Ni().setTimeout(()=>{c(d)},o2.get());function _(){Ni().clearTimeout(p),l(s)}s.ping(_).then(_,()=>{c(d)})}))}const m2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},p2=500,g2=600,y2="_blank",_2="http://localhost";class bv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function v2(r,t,i,s=p2,l=g2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const _={...m2,width:s.toString(),height:l.toString(),top:c,left:d},y=Ze().toLowerCase();i&&(p=eE(y)?y2:i),W0(y)&&(t=t||_2,_.scrollbars="yes");const A=Object.entries(_).reduce((M,[F,et])=>`${M}${F}=${et},`,"");if(Pw(y)&&p!=="_self")return E2(t||"",p),new bv(null);const S=window.open(t||"",p,A);mt(S,r,"popup-blocked");try{S.focus()}catch{}return new bv(S)}function E2(r,t){const i=document.createElement("a");i.href=r,i.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}const T2="__/auth/handler",A2="emulator/auth/handler",S2=encodeURIComponent("fac");async function wv(r,t,i,s,l,c){mt(r.config.authDomain,r,"auth-domain-config-required"),mt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:s,v:ho,eventId:l};if(t instanceof hE){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",rb(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(t instanceof Zl){const A=t.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const _=await r._getAppCheckToken(),y=_?`#${S2}=${encodeURIComponent(_)}`:"";return`${b2(r)}?${$l(p).slice(1)}${y}`}function b2({config:r}){return r.emulator?Mm(r,A2):`https://${r.authDomain}/${T2}`}const Kd="webStorageSupport";class w2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vE,this._completeRedirectFn=XR,this._overrideRedirectResult=KR}async _openPopup(t,i,s,l){rr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await wv(t,i,s,sm(),l);return v2(t,c,Pm())}async _openRedirect(t,i,s,l){await this._originValidation(t);const c=await wv(t,i,s,sm(),l);return IR(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(rr(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(t){const i=await d2(t),s=new JR(t);return i.register("authEvent",l=>(mt(l?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=i,s}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Kd,{type:Kd},l=>{const c=l?.[0]?.[Kd];c!==void 0&&i(!!c),ni(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=n2(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return aE()||tE()||km()}}const R2=w2;var Rv="@firebase/auth",Cv="1.12.0";class C2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function I2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function N2(r){io(new Fs("auth",(t,{options:i})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=s.options;mt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const _={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oE(r)},y=new Fw(s,l,c,_);return tR(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,s)=>{t.getProvider("auth-internal").initialize()})),io(new Fs("auth-internal",t=>{const i=ur(t.getProvider("auth").getImmediate());return(s=>new C2(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jr(Rv,Cv,I2(r)),Jr(Rv,Cv,"esm2020")}const x2=300,D2=L0("authIdTokenMaxAge")||x2;let Iv=null;const O2=r=>async t=>{const i=t&&await t.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>D2)return;const l=i?.token;Iv!==l&&(Iv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function M2(r=q0()){const t=Dm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=Ww(r,{popupRedirectResolver:R2,persistence:[UR,wR,vE]}),s=L0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=O2(c.toString());ER(i,d,()=>d(i.currentUser)),vR(i,p=>d(p))}}const l=V0("auth");return l&&eR(i,`http://${l}`),i}function V2(){return document.getElementsByTagName("head")?.[0]??document}Gw({loadJS(r){return new Promise((t,i)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const c=Ii("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",V2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});N2("Browser");var Nv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Zr,RE;(function(){var r;function t(N,w){function I(){}I.prototype=w.prototype,N.F=w.prototype,N.prototype=new I,N.prototype.constructor=N,N.D=function(V,D,L){for(var R=Array(arguments.length-2),se=2;se<arguments.length;se++)R[se-2]=arguments[se];return w.prototype[D].apply(V,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,w,I){I||(I=0);const V=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)V[D]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(D=0;D<16;++D)V[D]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=N.g[0],I=N.g[1],D=N.g[2];let L=N.g[3],R;R=w+(L^I&(D^L))+V[0]+3614090360&4294967295,w=I+(R<<7&4294967295|R>>>25),R=L+(D^w&(I^D))+V[1]+3905402710&4294967295,L=w+(R<<12&4294967295|R>>>20),R=D+(I^L&(w^I))+V[2]+606105819&4294967295,D=L+(R<<17&4294967295|R>>>15),R=I+(w^D&(L^w))+V[3]+3250441966&4294967295,I=D+(R<<22&4294967295|R>>>10),R=w+(L^I&(D^L))+V[4]+4118548399&4294967295,w=I+(R<<7&4294967295|R>>>25),R=L+(D^w&(I^D))+V[5]+1200080426&4294967295,L=w+(R<<12&4294967295|R>>>20),R=D+(I^L&(w^I))+V[6]+2821735955&4294967295,D=L+(R<<17&4294967295|R>>>15),R=I+(w^D&(L^w))+V[7]+4249261313&4294967295,I=D+(R<<22&4294967295|R>>>10),R=w+(L^I&(D^L))+V[8]+1770035416&4294967295,w=I+(R<<7&4294967295|R>>>25),R=L+(D^w&(I^D))+V[9]+2336552879&4294967295,L=w+(R<<12&4294967295|R>>>20),R=D+(I^L&(w^I))+V[10]+4294925233&4294967295,D=L+(R<<17&4294967295|R>>>15),R=I+(w^D&(L^w))+V[11]+2304563134&4294967295,I=D+(R<<22&4294967295|R>>>10),R=w+(L^I&(D^L))+V[12]+1804603682&4294967295,w=I+(R<<7&4294967295|R>>>25),R=L+(D^w&(I^D))+V[13]+4254626195&4294967295,L=w+(R<<12&4294967295|R>>>20),R=D+(I^L&(w^I))+V[14]+2792965006&4294967295,D=L+(R<<17&4294967295|R>>>15),R=I+(w^D&(L^w))+V[15]+1236535329&4294967295,I=D+(R<<22&4294967295|R>>>10),R=w+(D^L&(I^D))+V[1]+4129170786&4294967295,w=I+(R<<5&4294967295|R>>>27),R=L+(I^D&(w^I))+V[6]+3225465664&4294967295,L=w+(R<<9&4294967295|R>>>23),R=D+(w^I&(L^w))+V[11]+643717713&4294967295,D=L+(R<<14&4294967295|R>>>18),R=I+(L^w&(D^L))+V[0]+3921069994&4294967295,I=D+(R<<20&4294967295|R>>>12),R=w+(D^L&(I^D))+V[5]+3593408605&4294967295,w=I+(R<<5&4294967295|R>>>27),R=L+(I^D&(w^I))+V[10]+38016083&4294967295,L=w+(R<<9&4294967295|R>>>23),R=D+(w^I&(L^w))+V[15]+3634488961&4294967295,D=L+(R<<14&4294967295|R>>>18),R=I+(L^w&(D^L))+V[4]+3889429448&4294967295,I=D+(R<<20&4294967295|R>>>12),R=w+(D^L&(I^D))+V[9]+568446438&4294967295,w=I+(R<<5&4294967295|R>>>27),R=L+(I^D&(w^I))+V[14]+3275163606&4294967295,L=w+(R<<9&4294967295|R>>>23),R=D+(w^I&(L^w))+V[3]+4107603335&4294967295,D=L+(R<<14&4294967295|R>>>18),R=I+(L^w&(D^L))+V[8]+1163531501&4294967295,I=D+(R<<20&4294967295|R>>>12),R=w+(D^L&(I^D))+V[13]+2850285829&4294967295,w=I+(R<<5&4294967295|R>>>27),R=L+(I^D&(w^I))+V[2]+4243563512&4294967295,L=w+(R<<9&4294967295|R>>>23),R=D+(w^I&(L^w))+V[7]+1735328473&4294967295,D=L+(R<<14&4294967295|R>>>18),R=I+(L^w&(D^L))+V[12]+2368359562&4294967295,I=D+(R<<20&4294967295|R>>>12),R=w+(I^D^L)+V[5]+4294588738&4294967295,w=I+(R<<4&4294967295|R>>>28),R=L+(w^I^D)+V[8]+2272392833&4294967295,L=w+(R<<11&4294967295|R>>>21),R=D+(L^w^I)+V[11]+1839030562&4294967295,D=L+(R<<16&4294967295|R>>>16),R=I+(D^L^w)+V[14]+4259657740&4294967295,I=D+(R<<23&4294967295|R>>>9),R=w+(I^D^L)+V[1]+2763975236&4294967295,w=I+(R<<4&4294967295|R>>>28),R=L+(w^I^D)+V[4]+1272893353&4294967295,L=w+(R<<11&4294967295|R>>>21),R=D+(L^w^I)+V[7]+4139469664&4294967295,D=L+(R<<16&4294967295|R>>>16),R=I+(D^L^w)+V[10]+3200236656&4294967295,I=D+(R<<23&4294967295|R>>>9),R=w+(I^D^L)+V[13]+681279174&4294967295,w=I+(R<<4&4294967295|R>>>28),R=L+(w^I^D)+V[0]+3936430074&4294967295,L=w+(R<<11&4294967295|R>>>21),R=D+(L^w^I)+V[3]+3572445317&4294967295,D=L+(R<<16&4294967295|R>>>16),R=I+(D^L^w)+V[6]+76029189&4294967295,I=D+(R<<23&4294967295|R>>>9),R=w+(I^D^L)+V[9]+3654602809&4294967295,w=I+(R<<4&4294967295|R>>>28),R=L+(w^I^D)+V[12]+3873151461&4294967295,L=w+(R<<11&4294967295|R>>>21),R=D+(L^w^I)+V[15]+530742520&4294967295,D=L+(R<<16&4294967295|R>>>16),R=I+(D^L^w)+V[2]+3299628645&4294967295,I=D+(R<<23&4294967295|R>>>9),R=w+(D^(I|~L))+V[0]+4096336452&4294967295,w=I+(R<<6&4294967295|R>>>26),R=L+(I^(w|~D))+V[7]+1126891415&4294967295,L=w+(R<<10&4294967295|R>>>22),R=D+(w^(L|~I))+V[14]+2878612391&4294967295,D=L+(R<<15&4294967295|R>>>17),R=I+(L^(D|~w))+V[5]+4237533241&4294967295,I=D+(R<<21&4294967295|R>>>11),R=w+(D^(I|~L))+V[12]+1700485571&4294967295,w=I+(R<<6&4294967295|R>>>26),R=L+(I^(w|~D))+V[3]+2399980690&4294967295,L=w+(R<<10&4294967295|R>>>22),R=D+(w^(L|~I))+V[10]+4293915773&4294967295,D=L+(R<<15&4294967295|R>>>17),R=I+(L^(D|~w))+V[1]+2240044497&4294967295,I=D+(R<<21&4294967295|R>>>11),R=w+(D^(I|~L))+V[8]+1873313359&4294967295,w=I+(R<<6&4294967295|R>>>26),R=L+(I^(w|~D))+V[15]+4264355552&4294967295,L=w+(R<<10&4294967295|R>>>22),R=D+(w^(L|~I))+V[6]+2734768916&4294967295,D=L+(R<<15&4294967295|R>>>17),R=I+(L^(D|~w))+V[13]+1309151649&4294967295,I=D+(R<<21&4294967295|R>>>11),R=w+(D^(I|~L))+V[4]+4149444226&4294967295,w=I+(R<<6&4294967295|R>>>26),R=L+(I^(w|~D))+V[11]+3174756917&4294967295,L=w+(R<<10&4294967295|R>>>22),R=D+(w^(L|~I))+V[2]+718787259&4294967295,D=L+(R<<15&4294967295|R>>>17),R=I+(L^(D|~w))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+L&4294967295}s.prototype.v=function(N,w){w===void 0&&(w=N.length);const I=w-this.blockSize,V=this.C;let D=this.h,L=0;for(;L<w;){if(D==0)for(;L<=I;)l(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<w;)if(V[D++]=N.charCodeAt(L++),D==this.blockSize){l(this,V),D=0;break}}else for(;L<w;)if(V[D++]=N[L++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=w},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;w=this.o*8;for(var I=N.length-8;I<N.length;++I)N[I]=w&255,w/=256;for(this.v(N),N=Array(16),w=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)N[w++]=this.g[I]>>>V&255;return N};function c(N,w){var I=p;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=w(N)}function d(N,w){this.h=w;const I=[];let V=!0;for(let D=N.length-1;D>=0;D--){const L=N[D]|0;V&&L==w||(I[D]=L,V=!1)}this.g=I}var p={};function _(N){return-128<=N&&N<128?c(N,function(w){return new d([w|0],w<0?-1:0)}):new d([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return S;if(N<0)return W(y(-N));const w=[];let I=1;for(let V=0;N>=I;V++)w[V]=N/I|0,I*=4294967296;return new d(w,0)}function A(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return W(A(N.substring(1),w));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(w,8));let V=S;for(let L=0;L<N.length;L+=8){var D=Math.min(8,N.length-L);const R=parseInt(N.substring(L,L+D),w);D<8?(D=y(Math.pow(w,D)),V=V.j(D).add(y(R))):(V=V.j(I),V=V.add(y(R)))}return V}var S=_(0),M=_(1),F=_(16777216);r=d.prototype,r.m=function(){if(Z(this))return-W(this).m();let N=0,w=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);N+=(V>=0?V:4294967296+V)*w,w*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(et(this))return"0";if(Z(this))return"-"+W(this).toString(N);const w=y(Math.pow(N,6));var I=this;let V="";for(;;){const D=Et(I,w).g;I=ot(I,D.j(w));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(N);if(I=D,et(I))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function et(N){if(N.h!=0)return!1;for(let w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function Z(N){return N.h==-1}r.l=function(N){return N=ot(this,N),Z(N)?-1:et(N)?0:1};function W(N){const w=N.g.length,I=[];for(let V=0;V<w;V++)I[V]=~N.g[V];return new d(I,~N.h).add(M)}r.abs=function(){return Z(this)?W(this):this},r.add=function(N){const w=Math.max(this.g.length,N.g.length),I=[];let V=0;for(let D=0;D<=w;D++){let L=V+(this.i(D)&65535)+(N.i(D)&65535),R=(L>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);V=R>>>16,L&=65535,R&=65535,I[D]=R<<16|L}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ot(N,w){return N.add(W(w))}r.j=function(N){if(et(this)||et(N))return S;if(Z(this))return Z(N)?W(this).j(W(N)):W(W(this).j(N));if(Z(N))return W(this.j(W(N)));if(this.l(F)<0&&N.l(F)<0)return y(this.m()*N.m());const w=this.g.length+N.g.length,I=[];for(var V=0;V<2*w;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<N.g.length;D++){const L=this.i(V)>>>16,R=this.i(V)&65535,se=N.i(D)>>>16,xe=N.i(D)&65535;I[2*V+2*D]+=R*xe,gt(I,2*V+2*D),I[2*V+2*D+1]+=L*xe,gt(I,2*V+2*D+1),I[2*V+2*D+1]+=R*se,gt(I,2*V+2*D+1),I[2*V+2*D+2]+=L*se,gt(I,2*V+2*D+2)}for(N=0;N<w;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=w;N<2*w;N++)I[N]=0;return new d(I,0)};function gt(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function yt(N,w){this.g=N,this.h=w}function Et(N,w){if(et(w))throw Error("division by zero");if(et(N))return new yt(S,S);if(Z(N))return w=Et(W(N),w),new yt(W(w.g),W(w.h));if(Z(w))return w=Et(N,W(w)),new yt(W(w.g),w.h);if(N.g.length>30){if(Z(N)||Z(w))throw Error("slowDivide_ only works with positive integers.");for(var I=M,V=w;V.l(N)<=0;)I=te(I),V=te(V);var D=Pt(I,1),L=Pt(V,1);for(V=Pt(V,2),I=Pt(I,2);!et(V);){var R=L.add(V);R.l(N)<=0&&(D=D.add(I),L=R),V=Pt(V,1),I=Pt(I,1)}return w=ot(N,D.j(w)),new yt(D,w)}for(D=S;N.l(w)>=0;){for(I=Math.max(1,Math.floor(N.m()/w.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=y(I),R=L.j(w);Z(R)||R.l(N)>0;)I-=V,L=y(I),R=L.j(w);et(L)&&(L=M),D=D.add(L),N=ot(N,R)}return new yt(D,N)}r.B=function(N){return Et(this,N).h},r.and=function(N){const w=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)&N.i(V);return new d(I,this.h&N.h)},r.or=function(N){const w=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)|N.i(V);return new d(I,this.h|N.h)},r.xor=function(N){const w=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)^N.i(V);return new d(I,this.h^N.h)};function te(N){const w=N.g.length+1,I=[];for(let V=0;V<w;V++)I[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(I,N.h)}function Pt(N,w){const I=w>>5;w%=32;const V=N.g.length-I,D=[];for(let L=0;L<V;L++)D[L]=w>0?N.i(L+I)>>>w|N.i(L+I+1)<<32-w:N.i(L+I);return new d(D,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,RE=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,Zr=d}).apply(typeof Nv<"u"?Nv:typeof self<"u"?self:typeof window<"u"?window:{});var Lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var CE,Nl,IE,Gc,um,NE,xE,DE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lc=="object"&&Lc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function l(u,m){if(m)t:{var v=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in v))break t;v=v[U]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,U,B){for(var tt=Array(arguments.length-2),St=2;St<arguments.length;St++)tt[St-2]=arguments[St];return m.prototype[U].apply(T,tt)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function et(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const B=U.length||0;u.length=v+B;for(let tt=0;tt<B;tt++)u[v+tt]=U[tt]}else u.push(U)}}class Z{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function ot(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class gt{constructor(){this.h=this.g=null}add(m,v){const T=yt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var yt=new Z(()=>new Et,u=>u.reset());class Et{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let te,Pt=!1,N=new gt,w=()=>{const u=Promise.resolve(void 0);te=()=>{u.then(I)}};function I(){for(var u;u=ot();){try{u.h.call(u.g)}catch(v){W(v)}var m=yt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Pt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function se(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(se,D),se.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&se.Z.h.call(this)},se.prototype.h=function(){se.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var xe="closure_listenable_"+(Math.random()*1e6|0),G=0;function nt(u,m,v,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=U,this.key=++G,this.da=this.fa=!1}function ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ut(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Gt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(u,m){let v,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(v in T)u[v]=T[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function at(u){this.src=u,this.g={},this.h=0}at.prototype.add=function(u,m,v,T,U){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const tt=wt(u,m,T,U);return tt>-1?(m=u[tt],v||(m.fa=!1)):(m=new nt(m,this.src,B,!!T,U),m.fa=v,u.push(m)),m};function _t(u,m){const v=m.type;if(v in u.g){var T=u.g[v],U=Array.prototype.indexOf.call(T,m,void 0),B;(B=U>=0)&&Array.prototype.splice.call(T,U,1),B&&(ft(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function wt(u,m,v,T){for(let U=0;U<u.length;++U){const B=u[U];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return U}return-1}var kt="closure_lm_"+(Math.random()*1e6|0),De={};function ae(u,m,v,T,U){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ae(u,m[B],v,T,U);return null}return v=Ao(v),u&&u[xe]?u.J(m,v,p(T)?!!T.capture:!1,U):ls(u,m,v,!1,T,U)}function ls(u,m,v,T,U,B){if(!m)throw Error("Invalid event type");const tt=p(U)?!!U.capture:!!U;let St=us(u);if(St||(u[kt]=St=new at(u)),v=St.add(m,v,T,tt,B),v.proxy)return v;if(T=Ws(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)L||(U=tt),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(ri(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ws(){function u(v){return m.call(u.src,u.listener,v)}const m=Eo;return u}function ta(u,m,v,T,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)ta(u,m[B],v,T,U);else T=p(T)?!!T.capture:!!T,v=Ao(v),u&&u[xe]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=wt(m,v,T,U),v>-1&&(ft(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=us(u))&&(m=u.g[m.toString()],u=-1,m&&(u=wt(m,v,T,U)),(v=u>-1?m[u]:null)&&ea(v))}function ea(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[xe])_t(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(ri(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=us(m))?(_t(v,u),v.h==0&&(v.src=null,m[kt]=null)):ft(u)}}}function ri(u){return u in De?De[u]:De[u]="on"+u}function Eo(u,m){if(u.da)u=!0;else{m=new se(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&ea(u),u=v.call(T,m)}return u}function us(u){return u=u[kt],u instanceof at?u:null}var To="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ao(u){return typeof u=="function"?u:(u[To]||(u[To]=function(m){return u.handleEvent(m)}),u[To])}function _e(){V.call(this),this.i=new at(this),this.M=this,this.G=null}S(_e,V),_e.prototype[xe]=!0,_e.prototype.removeEventListener=function(u,m,v,T){ta(this,u,m,v,T)};function Oe(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var U=m;m=new D(T,u),it(m,U)}U=!0;let B,tt;if(v)for(tt=v.length-1;tt>=0;tt--)B=m.g=v[tt],U=cr(B,T,!0,m)&&U;if(B=m.g=u,U=cr(B,T,!0,m)&&U,U=cr(B,T,!1,m)&&U,v)for(tt=0;tt<v.length;tt++)B=m.g=v[tt],U=cr(B,T,!1,m)&&U}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ft(v[T]);delete u.g[m],u.h--}}this.G=null},_e.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},_e.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function cr(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let B=0;B<m.length;++B){const tt=m[B];if(tt&&!tt.da&&tt.capture==v){const St=tt.listener,de=tt.ha||tt.src;tt.fa&&_t(u.i,tt),U=St.call(de,T)!==!1&&U}}return U&&!T.defaultPrevented}function kh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function au(u){u.g=kh(()=>{u.g=null,u.i&&(u.i=!1,au(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class en extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:au(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cs(u){V.call(this),this.h=u,this.g={}}S(cs,V);var So=[];function bo(u){Ut(u.g,function(m,v){this.g.hasOwnProperty(v)&&ea(m)},u),u.g={}}cs.prototype.N=function(){cs.Z.N.call(this),bo(this)},cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hr=d.JSON.stringify,Lh=d.JSON.parse,ou=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function lu(){}function uu(){}var Pn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){D.call(this,"d")}S(ze,D);function Sn(){D.call(this,"c")}S(Sn,D);var fe={},cu=null;function na(){return cu=cu||new _e}fe.Ia="serverreachability";function hu(u){D.call(this,fe.Ia,u)}S(hu,D);function si(u){const m=na();Oe(m,new hu(m))}fe.STAT_EVENT="statevent";function hs(u,m){D.call(this,fe.STAT_EVENT,u),this.stat=m}S(hs,D);function ve(u){const m=na();Oe(m,new hs(m,u))}fe.Ja="timingevent";function ai(u,m){D.call(this,fe.Ja,u),this.size=m}S(ai,D);function oi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function Uh(u,m,v,T,U,B){u.info(function(){if(u.g)if(B){var tt="",St=B.split("&");for(let Bt=0;Bt<St.length;Bt++){var de=St[Bt].split("=");if(de.length>1){const oe=de[0];de=de[1];const Cn=oe.split("_");tt=Cn.length>=2&&Cn[1]=="type"?tt+(oe+"="+de+"&"):tt+(oe+"=redacted&")}}}else tt=null;else tt=B;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+v+`
`+tt})}function fu(u,m,v,T,U,B,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+v+`
`+B+" "+tt})}function li(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ph(u,v)+(T?" "+T:"")})}function fs(u,m){u.info(function(){return"TIMEOUT: "+m})}zn.prototype.info=function(){};function Ph(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let tt=1;tt<T.length;tt++)T[tt]=""}}}}return hr(B)}catch{return m}}var ds={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},wo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ro;function ms(){}S(ms,lu),ms.prototype.g=function(){return new XMLHttpRequest},Ro=new ms;function Li(u){return encodeURIComponent(String(u))}function du(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function jn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new cs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var Ee={},ke={};function ui(u,m,v){u.M=1,u.A=ps(Ae(m)),u.u=v,u.R=!0,ia(u,null)}function ia(u,m){u.F=Date.now(),ci(u),u.B=Ae(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),oa(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Bn,u.g=Iu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new en(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(So[0]=U.toString()),U=So);for(let B=0;B<U.length;B++){const tt=ae(v,U[B],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),si(),Uh(u.i,u.v,u.B,u.l,u.S,u.u)}jn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Fn(u)==3?m.j():this.Y(u)},jn.prototype.Y=function(u){try{if(u==this.g)t:{const St=Fn(this.g),de=this.g.ya(),Bt=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||je(this.g)))){this.K||St!=4||de==7||(de==8||Bt<=0?si(3):si(2)),hi(this);var m=this.g.ca();this.X=m;var v=zh(this);if(this.o=m==200,fu(this.i,this.v,this.B,this.l,this.S,St,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var B=T;break e}}B=null}if(u=B)li(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,fi(this,u);else{this.o=!1,this.m=3,ve(12),mn(this),bn(this);break t}}if(this.R){u=!0;let oe;for(;!this.K&&this.C<v.length;)if(oe=pu(this,v),oe==ke){St==4&&(this.m=4,ve(14),u=!1),li(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==Ee){this.m=4,ve(15),li(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else li(this.i,this.l,oe,null),fi(this,oe);if(mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||v.length!=0||this.h.h||(this.m=1,ve(16),u=!1),this.o=this.o&&u,!u)li(this.i,this.l,v,"[Invalid Chunked Response]"),mn(this),bn(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Bo(tt),tt.P=!0,ve(11))}}else li(this.i,this.l,v,null),fi(this,v);St==4&&mn(this),this.o&&!this.K&&(St==4?bu(this.j,this):(this.o=!1,ci(this)))}else Pi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),mn(this),bn(this)}}}catch{}};function zh(u){if(!mu(u))return u.g.la();const m=je(u.g);if(m==="")return"";let v="";const T=m.length,U=Fn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return mn(u),bn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(U&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function mu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function pu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?ke:(v=Number(m.substring(v,T)),isNaN(v)?Ee:(T+=1,T+v>m.length?ke:(m=m.slice(T,T+v),u.C=T+v,m)))}jn.prototype.cancel=function(){this.K=!0,mn(this)};function ci(u){u.T=Date.now()+u.H,ra(u,u.H)}function ra(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=oi(y(u.aa,u),m)}function hi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}jn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(fs(this.i,this.B),this.M!=2&&(si(),ve(17)),mn(this),this.m=2,bn(this)):ra(this,this.T-u)};function bn(u){u.j.I==0||u.K||bu(u.j,u)}function mn(u){hi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,bo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function fi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||mi(v.h,u))){if(!u.L&&mi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)fa(v),vr(v);else break t;As(v),ve(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=oi(y(v.Va,v),6e3));di(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ei(v,11)}else if((u.L||v.g==u)&&fa(v),!R(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Bt=U[m];const oe=Bt[0];if(!(oe<=v.K))if(v.K=oe,Bt=Bt[1],v.I==2)if(Bt[0]=="c"){v.M=Bt[1],v.ba=Bt[2];const Cn=Bt[3];Cn!=null&&(v.ka=Cn,v.j.info("VER="+v.ka));const Ti=Bt[4];Ti!=null&&(v.za=Ti,v.j.info("SVER="+v.za));const Gn=Bt[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(T=1.5*Gn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Kn=u.g;if(Kn){const Ss=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ss){var B=T.h;B.g||Ss.indexOf("spdy")==-1&&Ss.indexOf("quic")==-1&&Ss.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(No(B,B.h),B.h=null))}if(T.G){const da=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;da&&(T.wa=da,Kt(T.J,T.G,da))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var tt=u;if(T.na=Cu(T,T.L?T.ba:null,T.W),tt.L){xo(T.h,tt);var St=tt,de=T.O;de&&(St.H=de),St.D&&(hi(St),ci(St)),T.g=tt}else Au(T);v.i.length>0&&vi(v)}else Bt[0]!="stop"&&Bt[0]!="close"||Ei(v,7);else v.I==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?Ei(v,7):zo(v):Bt[0]!="noop"&&v.l&&v.l.qa(Bt),v.A=0)}}si(4)}catch{}}var Te=class{constructor(u,m){this.g=u,this.map=m}};function Co(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Io(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function di(u){return u.h?1:u.g?u.g.size:0}function mi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function No(u,m){u.g?u.g.add(m):u.h=m}function xo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Co.prototype.cancel=function(){if(this.i=Do(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Do(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return F(u.i)}var gu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let U,B=null;T>=0?(U=u[v].substring(0,T),B=u[v].substring(T+1)):U=u[v],m(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function pn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof pn?(this.l=u.l,Le(this,u.j),this.o=u.o,this.g=u.g,fr(this,u.u),this.h=u.h,Oo(this,Eu(u.i)),this.m=u.m):u&&(m=String(u).match(gu))?(this.l=!1,Le(this,m[1]||"",!0),this.o=pi(m[2]||""),this.g=pi(m[3]||"",!0),fr(this,m[4]),this.h=pi(m[5]||"",!0),Oo(this,m[6]||"",!0),this.m=pi(m[7]||"")):(this.l=!1,this.i=new mr(null,this.l))}pn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(gs(m,aa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(gs(m,aa,!0),"@"),u.push(Li(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(gs(v,v.charAt(0)=="/"?Mo:yu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",gs(v,_u)),u.join("")},pn.prototype.resolve=function(u){const m=Ae(this);let v=!!u.j;v?Le(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)fr(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let tt=0;tt<U.length;){const St=U[tt++];St=="."?T&&tt==U.length&&B.push(""):St==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&tt==U.length&&B.push("")):(B.push(St),T=!0)}T=B.join("/")}else T=U}return v?m.h=T:v=u.i.toString()!=="",v?Oo(m,Eu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ae(u){return new pn(u)}function Le(u,m,v){u.j=v?pi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function fr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Oo(u,m,v){m instanceof mr?(u.i=m,la(u.i,u.l)):(v||(m=gs(m,dr)),u.i=new mr(m,u.l))}function Kt(u,m,v){u.i.set(m,v)}function ps(u){return Kt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function pi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function gs(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,sn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function sn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var aa=/[#\/\?@]/g,yu=/[#\?:]/g,Mo=/[#\?]/g,dr=/[#\?@]/g,_u=/#/g;function mr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function an(u){u.g||(u.g=new Map,u.h=0,u.i&&sa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=mr.prototype,r.add=function(u,m){an(this),this.i=null,u=pr(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function vu(u,m){an(u),m=pr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Vo(u,m){return an(u),m=pr(u,m),u.g.has(m)}r.forEach=function(u,m){an(this),this.g.forEach(function(v,T){v.forEach(function(U){u.call(m,U,T,this)},this)},this)};function ko(u,m){an(u);let v=[];if(typeof m=="string")Vo(u,m)&&(v=v.concat(u.g.get(pr(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return an(this),this.i=null,u=pr(this,u),Vo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=ko(this,u),u.length>0?String(u[0]):m):m};function oa(u,m,v){vu(u,m),v.length>0&&(u.i=null,u.g.set(pr(u,m),F(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const U=Li(v);v=ko(this,v);for(let B=0;B<v.length;B++){let tt=U;v[B]!==""&&(tt+="="+Li(v[B])),u.push(tt)}}return this.i=u.join("&")};function Eu(u){const m=new mr;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function pr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function la(u,m){m&&!u.j&&(an(u),u.i=null,u.g.forEach(function(v,T){const U=T.toLowerCase();T!=U&&(vu(this,T),oa(this,U,v))},u)),u.j=m}function qn(u,m){const v=new zn;if(d.Image){const T=new Image;T.onload=A(wn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(wn,v,"TestLoadImage: error",!1,m,T),T.onabort=A(wn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(wn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Lo(u,m){const v=new zn,T=new AbortController,U=setTimeout(()=>{T.abort(),wn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(U),B.ok?wn(v,"TestPingServer: ok",!0,m):wn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),wn(v,"TestPingServer: error",!1,m)})}function wn(u,m,v,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(v)}catch{}}function gr(){this.g=new ou}function gi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(gi,lu),gi.prototype.g=function(){return new ys(this.i,this.h)};function ys(u,m){_e.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(ys,_e),r=ys.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Hn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,yr(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ua(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ua(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?yr(this):Hn(this),this.readyState==3&&ua(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,yr(this))},r.Na=function(u){this.g&&(this.response=u,yr(this))},r.ga=function(){this.g&&yr(this)};function yr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Hn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Hn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ys.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Rn(u){let m="";return Ut(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function _s(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Rn(v),typeof u=="string"?v!=null&&Li(v):Kt(u,m,v))}function Xt(u){_e.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Xt,_e);var yi=/^https?$/i,Uo=["POST","PUT"];r=Xt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ro.g(),this.g.onreadystatechange=M(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){vs(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)v.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Uo,m,void 0)>=0)||T||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of v)this.g.setRequestHeader(B,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){vs(this,B)}};function vs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Po(u),Ui(u)}function Po(u){u.A||(u.A=!0,Oe(u,"complete"),Oe(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Oe(this,"complete"),Oe(this,"abort"),Ui(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ui(this,!0)),Xt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Es(this):this.Xa())},r.Xa=function(){Es(this)};function Es(u){if(u.h&&typeof c<"u"){if(u.v&&Fn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Oe(u,"readystatechange"),Fn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let tt=String(u.D).match(gu)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),T=!yi.test(tt?tt.toLowerCase():"")}v=T}if(v)Oe(u,"complete"),Oe(u,"success");else{u.o=6;try{var U=Fn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Po(u)}}finally{Ui(u)}}}}function Ui(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Oe(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Fn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Fn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Lh(m)}};function je(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Pi(u){const m={};u=(u.g&&Fn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var v=du(u[T]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[U]||[];m[U]=B,B.push(v)}Gt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function _i(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function _r(u){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=_i("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=_i("baseRetryDelayMs",5e3,u),this.Za=_i("retryDelaySeedMs",1e4,u),this.Ta=_i("forwardChannelMaxRetries",2,u),this.va=_i("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Co(u&&u.concurrentRequestLimit),this.Ba=new gr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=_r.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){ve(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Cu(this,null,this.W),vi(this)};function zo(u){if(ca(u),u.I==3){var m=u.V++,v=Ae(u.J);if(Kt(v,"SID",u.M),Kt(v,"RID",m),Kt(v,"TYPE","terminate"),Ts(u,v),m=new jn(u,u.j,m),m.M=2,m.A=ps(Ae(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Iu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ci(m)}Ru(u)}function vr(u){u.g&&(Bo(u),u.g.cancel(),u.g=null)}function ca(u){vr(u),u.v&&(d.clearTimeout(u.v),u.v=null),fa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function vi(u){if(!Io(u.h)&&!u.m){u.m=!0;var m=u.Ea;te||w(),Pt||(te(),Pt=!0),N.add(m,u),u.D=0}}function ha(u,m){return di(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=oi(y(u.Ea,u,m),wu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new jn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),it(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Tu(this,U,m),v=Ae(this.J),Kt(v,"RID",u),Kt(v,"CVER",22),this.G&&Kt(v,"X-HTTP-Session-Id",this.G),Ts(this,v),B&&(this.R?m="headers="+Li(Rn(B))+"&"+m:this.u&&_s(v,this.u,B)),No(this.h,U),this.Ra&&Kt(v,"TYPE","init"),this.S?(Kt(v,"$req",m),Kt(v,"SID","null"),U.U=!0,ui(U,v,null)):ui(U,v,m),this.I=2}}else this.I==3&&(u?jo(this,u):this.i.length==0||Io(this.h)||jo(this))};function jo(u,m){var v;m?v=m.l:v=u.V++;const T=Ae(u.J);Kt(T,"SID",u.M),Kt(T,"RID",v),Kt(T,"AID",u.K),Ts(u,T),u.u&&u.o&&_s(T,u.u,u.o),v=new jn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Tu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),No(u.h,v),ui(v,T,m)}function Ts(u,m){u.H&&Ut(u.H,function(v,T){Kt(m,T,v)}),u.l&&Ut({},function(v,T){Kt(m,T,v)})}function Tu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var U=u.i;let St=-1;for(;;){const de=["count="+v];St==-1?v>0?(St=U[0].g,de.push("ofs="+St)):St=0:de.push("ofs="+St);let Bt=!0;for(let oe=0;oe<v;oe++){var B=U[oe].g;const Cn=U[oe].map;if(B-=St,B<0)St=Math.max(0,U[oe].g-100),Bt=!1;else try{B="req"+B+"_"||"";try{var tt=Cn instanceof Map?Cn:Object.entries(Cn);for(const[Ti,Gn]of tt){let Kn=Gn;p(Gn)&&(Kn=hr(Gn)),de.push(B+Ti+"="+encodeURIComponent(Kn))}}catch(Ti){throw de.push(B+"type="+encodeURIComponent("_badmap")),Ti}}catch{T&&T(Cn)}}if(Bt){tt=de.join("&");break t}}tt=void 0}return u=u.i.splice(0,v),m.G=u,tt}function Au(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;te||w(),Pt||(te(),Pt=!0),N.add(m,u),u.A=0}}function As(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=oi(y(u.Da,u),wu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Su(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=oi(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),vr(this),Su(this))};function Bo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Su(u){u.g=new jn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ae(u.na);Kt(m,"RID","rpc"),Kt(m,"SID",u.M),Kt(m,"AID",u.K),Kt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Kt(m,"TO",u.ia),Kt(m,"TYPE","xmlhttp"),Ts(u,m),u.u&&u.o&&_s(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=ps(Ae(m)),v.u=null,v.R=!0,ia(v,u)}r.Va=function(){this.C!=null&&(this.C=null,vr(this),As(this),ve(19))};function fa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function bu(u,m){var v=null;if(u.g==m){fa(u),Bo(u),u.g=null;var T=2}else if(mi(u.h,m))v=m.G,xo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=na(),Oe(T,new ai(T,v)),vi(u)}else Au(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&ha(u,m)||T==2&&As(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:Ei(u,5);break;case 4:Ei(u,10);break;case 3:Ei(u,6);break;default:Ei(u,2)}}}function wu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ei(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),T=u.Ua;const U=!T;T=new pn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Le(T,"https"),ps(T),U?qn(T.toString(),v):Lo(T.toString(),v)}else ve(2);u.I=0,u.l&&u.l.pa(m),Ru(u),ca(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function Ru(u){if(u.I=0,u.ja=[],u.l){const m=Do(u.h);(m.length!=0||u.i.length!=0)&&(et(u.ja,m),et(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function Cu(u,m,v){var T=v instanceof pn?Ae(v):new pn(v);if(T.g!="")m&&(T.g=m+"."+T.g),fr(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const B=new pn(null);T&&Le(B,T),m&&(B.g=m),U&&fr(B,U),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&Kt(T,v,m),Kt(T,"VER",u.ka),Ts(u,T),T}function Iu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Xt(new gi({ab:v})):new Xt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Nu(){}r=Nu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Er(){}Er.prototype.g=function(u,m){return new nn(u,m)};function nn(u,m){_e.call(this),this.g=new _r(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new zi(this)}S(nn,_e),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){zo(this.g)},nn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=hr(u),u=v);m.i.push(new Te(m.Ya++,u)),m.I==3&&vi(m)},nn.prototype.N=function(){this.g.l=null,delete this.j,zo(this.g),delete this.g,nn.Z.N.call(this)};function xu(u){ze.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(xu,ze);function Du(){Sn.call(this),this.status=1}S(Du,Sn);function zi(u){this.g=u}S(zi,Nu),zi.prototype.ra=function(){Oe(this.g,"a")},zi.prototype.qa=function(u){Oe(this.g,new xu(u))},zi.prototype.pa=function(u){Oe(this.g,new Du)},zi.prototype.oa=function(){Oe(this.g,"b")},Er.prototype.createWebChannel=Er.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,DE=function(){return new Er},xE=function(){return na()},NE=fe,um={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ds.NO_ERROR=0,ds.TIMEOUT=8,ds.HTTP_ERROR=6,Gc=ds,wo.COMPLETE="complete",IE=wo,uu.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",_e.prototype.listen=_e.prototype.J,Nl=uu,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,CE=Xt}).apply(typeof Lc<"u"?Lc:typeof self<"u"?self:typeof window<"u"?window:{});class $e{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");let po="12.8.0";function k2(r){po=r}const Ks=new Nm("@firebase/firestore");function Ha(){return Ks.logLevel}function st(r,...t){if(Ks.logLevel<=Dt.DEBUG){const i=t.map(jm);Ks.debug(`Firestore (${po}): ${r}`,...i)}}function sr(r,...t){if(Ks.logLevel<=Dt.ERROR){const i=t.map(jm);Ks.error(`Firestore (${po}): ${r}`,...i)}}function ro(r,...t){if(Ks.logLevel<=Dt.WARN){const i=t.map(jm);Ks.warn(`Firestore (${po}): ${r}`,...i)}}function jm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function pt(r,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,OE(r,s,i)}function OE(r,t,i){let s=`FIRESTORE (${po}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw sr(s),new Error(s)}function Ft(r,t,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,r||OE(t,l,s)}function At(r,t){return r}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends or{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Wr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class ME{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class L2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i($e.UNAUTHENTICATED)))}shutdown(){}}class U2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class P2{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ft(this.o===void 0,42304);let s=this.i;const l=_=>this.i!==s?(s=this.i,i(_)):Promise.resolve();let c=new Wr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Wr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Wr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string",31837,{l:s}),new ME(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class z2{constructor(t,i,s){this.P=t,this.T=i,this.I=s,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class j2{constructor(t,i,s){this.P=t,this.T=i,this.I=s}getToken(){return Promise.resolve(new z2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class xv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class B2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,dn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ft(this.o===void 0,3512);const s=c=>{c.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>s(c)))};const l=c=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new xv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ft(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new xv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function q2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class Bm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=q2(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=t.charAt(l[c]%62))}return s}}function Ot(r,t){return r<t?-1:r>t?1:0}function cm(r,t){const i=Math.min(r.length,t.length);for(let s=0;s<i;s++){const l=r.charAt(s),c=t.charAt(s);if(l!==c)return Qd(l)===Qd(c)?Ot(l,c):Qd(l)?1:-1}return Ot(r.length,t.length)}const H2=55296,F2=57343;function Qd(r){const t=r.charCodeAt(0);return t>=H2&&t<=F2}function so(r,t,i){return r.length===t.length&&r.every(((s,l)=>i(s,t[l])))}const Dv="__name__";class Ri{constructor(t,i,s){i===void 0?i=0:i>t.length&&pt(637,{offset:i,range:t.length}),s===void 0?s=t.length-i:s>t.length-i&&pt(1746,{length:s,range:t.length-i}),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return Ri.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ri?t.forEach((s=>{i.push(s)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let l=0;l<s;l++){const c=Ri.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Ot(t.length,i.length)}static compareSegments(t,i){const s=Ri.isNumericId(t),l=Ri.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?Ri.extractNumericId(t).compare(Ri.extractNumericId(i)):cm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Zr.fromString(t.substring(4,t.length-2))}}class ee extends Ri{construct(t,i,s){return new ee(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new rt(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((l=>l.length>0)))}return new ee(i)}static emptyPath(){return new ee([])}}const G2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ke extends Ri{construct(t,i,s){return new Ke(t,i,s)}static isValidIdentifier(t){return G2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ke.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Dv}static keyField(){return new Ke([Dv])}static fromServerFormat(t){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new rt(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new rt(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new rt(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(s+=p,l++):(c(),l++)}if(c(),d)throw new rt(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ke(i)}static emptyPath(){return new Ke([])}}class ht{constructor(t){this.path=t}static fromPath(t){return new ht(ee.fromString(t))}static fromName(t){return new ht(ee.fromString(t).popFirst(5))}static empty(){return new ht(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ee.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new ee(t.slice()))}}function VE(r,t,i){if(!i)throw new rt(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function K2(r,t,i,s){if(t===!0&&s===!0)throw new rt(X.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Ov(r){if(!ht.isDocumentKey(r))throw new rt(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Mv(r){if(ht.isDocumentKey(r))throw new rt(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function kE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Th(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":pt(12329,{type:typeof r})}function xi(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new rt(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Th(r);throw new rt(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Ne(r,t){const i={typeString:r};return t&&(i.value=t),i}function tu(r,t){if(!kE(r))throw new rt(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in t)if(t[s]){const l=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(l&&typeof d!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new rt(X.INVALID_ARGUMENT,i);return!0}const Vv=-62135596800,kv=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*kv);return new re(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new rt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new rt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Vv)throw new rt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kv}_compareTo(t){return this.seconds===t.seconds?Ot(this.nanoseconds,t.nanoseconds):Ot(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(tu(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Vv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:Ne("string",re._jsonSchemaVersion),seconds:Ne("number"),nanoseconds:Ne("number")};class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new re(0,0))}static max(){return new vt(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ql=-1;function Q2(r,t){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=vt.fromTimestamp(s===1e9?new re(i+1,0):new re(i,s));return new es(l,ht.empty(),t)}function Y2(r){return new es(r.readTime,r.key,ql)}class es{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new es(vt.min(),ht.empty(),ql)}static max(){return new es(vt.max(),ht.empty(),ql)}}function X2(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=ht.comparator(r.documentKey,t.documentKey),i!==0?i:Ot(r.largestBatchId,t.largestBatchId))}const $2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class J2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function go(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==$2)throw r;st("LocalStore","Unexpectedly lost primary lease")}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,s)=>{i(t)}))}static reject(t){return new $(((i,s)=>{s(t)}))}static waitFor(t){return new $(((i,s)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>s(_)))})),d=!0,c===l&&i()}))}static or(t){let i=$.resolve(!1);for(const s of t)i=i.next((l=>l?$.resolve(l):s()));return i}static forEach(t,i){const s=[];return t.forEach(((l,c)=>{s.push(i.call(this,l,c))})),this.waitFor(s)}static mapArray(t,i){return new $(((s,l)=>{const c=t.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((A=>{d[y]=A,++p,p===c&&s(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new $(((s,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):s()};c()}))}}function Z2(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function yo(r){return r.name==="IndexedDbTransactionError"}class Ah{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Ah.ce=-1;const qm=-1;function Sh(r){return r==null}function sh(r){return r===0&&1/r==-1/0}function W2(r){return typeof r=="number"&&Number.isInteger(r)&&!sh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const LE="";function tC(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=Lv(t)),t=eC(r.get(i),t);return Lv(t)}function eC(r,t){let i=t;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case LE:i+="";break;default:i+=c}}return i}function Lv(r){return r+LE+""}function Uv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function Xs(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function UE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ue{constructor(t,i){this.comparator=t,this.root=i||Ge.EMPTY}insert(t,i){return new ue(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,s)=>(t(i,s),!1)))}toString(){const t=[];return this.inorderTraversal(((i,s)=>(t.push(`${i}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Uc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Uc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Uc(this.root,t,this.comparator,!0)}}class Uc{constructor(t,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?s(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,i,s,l,c){this.key=t,this.value=i,this.color=s??Ge.RED,this.left=l??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,l,c){return new Ge(t??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ge.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw pt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(t,i,s,l,c){return this}insert(t,i,s){return new Ge(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,s)=>(t(i),!1)))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Pv(this.data.getIterator())}getIteratorFrom(t){return new Pv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((s=>{i=i.add(s)})),i}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ve(this.comparator);return i.data=t,i}}class Pv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Jn{constructor(t){this.fields=t,t.sort(Ke.comparator)}static empty(){return new Jn([])}unionWith(t){let i=new Ve(Ke.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new Jn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return so(this.fields,t.fields,((i,s)=>i.isEqual(s)))}}class PE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new PE("Invalid base64 string: "+c):c}})(t);return new Qe(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Qe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ot(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const nC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ns(r){if(Ft(!!r,39018),typeof r=="string"){let t=0;const i=nC.exec(r);if(Ft(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function is(r){return typeof r=="string"?Qe.fromBase64String(r):Qe.fromUint8Array(r)}const zE="server_timestamp",jE="__type__",BE="__previous_value__",qE="__local_write_time__";function Hm(r){return(r?.mapValue?.fields||{})[jE]?.stringValue===zE}function bh(r){const t=r.mapValue.fields[BE];return Hm(t)?bh(t):t}function Hl(r){const t=ns(r.mapValue.fields[qE].timestampValue);return new re(t.seconds,t.nanos)}class iC{constructor(t,i,s,l,c,d,p,_,y,A,S){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=A,this.apiKey=S}}const ah="(default)";class Fl{constructor(t,i){this.projectId=t,this.database=i||ah}static empty(){return new Fl("","")}get isDefaultDatabase(){return this.database===ah}isEqual(t){return t instanceof Fl&&t.projectId===this.projectId&&t.database===this.database}}function rC(r,t){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new rt(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fl(r.options.projectId,t)}const HE="__type__",sC="__max__",Pc={mapValue:{}},FE="__vector__",oh="value";function rs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Hm(r)?4:oC(r)?9007199254740991:aC(r)?10:11:pt(28295,{value:r})}function ki(r,t){if(r===t)return!0;const i=rs(r);if(i!==rs(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Hl(r).isEqual(Hl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=ns(l.timestampValue),p=ns(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return is(l.bytesValue).isEqual(is(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return ge(l.geoPointValue.latitude)===ge(c.geoPointValue.latitude)&&ge(l.geoPointValue.longitude)===ge(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ge(l.integerValue)===ge(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ge(l.doubleValue),p=ge(c.doubleValue);return d===p?sh(d)===sh(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return so(r.arrayValue.values||[],t.arrayValue.values||[],ki);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(Uv(d)!==Uv(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!ki(d[_],p[_])))return!1;return!0})(r,t);default:return pt(52216,{left:r})}}function Gl(r,t){return(r.values||[]).find((i=>ki(i,t)))!==void 0}function ao(r,t){if(r===t)return 0;const i=rs(r),s=rs(t);if(i!==s)return Ot(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ot(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=ge(c.integerValue||c.doubleValue),_=ge(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(r,t);case 3:return zv(r.timestampValue,t.timestampValue);case 4:return zv(Hl(r),Hl(t));case 5:return cm(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=is(c),_=is(d);return p.compareTo(_)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const A=Ot(p[y],_[y]);if(A!==0)return A}return Ot(p.length,_.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Ot(ge(c.latitude),ge(d.latitude));return p!==0?p:Ot(ge(c.longitude),ge(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return jv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[oh]?.arrayValue,A=_[oh]?.arrayValue,S=Ot(y?.values?.length||0,A?.values?.length||0);return S!==0?S:jv(y,A)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Pc.mapValue&&d===Pc.mapValue)return 0;if(c===Pc.mapValue)return 1;if(d===Pc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},A=Object.keys(y);_.sort(),A.sort();for(let S=0;S<_.length&&S<A.length;++S){const M=cm(_[S],A[S]);if(M!==0)return M;const F=ao(p[_[S]],y[A[S]]);if(F!==0)return F}return Ot(_.length,A.length)})(r.mapValue,t.mapValue);default:throw pt(23264,{he:i})}}function zv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ot(r,t);const i=ns(r),s=ns(t),l=Ot(i.seconds,s.seconds);return l!==0?l:Ot(i.nanos,s.nanos)}function jv(r,t){const i=r.values||[],s=t.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=ao(i[l],s[l]);if(c)return c}return Ot(i.length,s.length)}function oo(r){return hm(r)}function hm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=ns(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return is(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ht.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=hm(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${hm(i.fields[d])}`;return l+"}"})(r.mapValue):pt(61005,{value:r})}function Kc(r){switch(rs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=bh(r);return t?16+Kc(t):16;case 5:return 2*r.stringValue.length;case 6:return is(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+Kc(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return Xs(s.fields,((c,d)=>{l+=c.length+Kc(d)})),l})(r.mapValue);default:throw pt(13486,{value:r})}}function Bv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function fm(r){return!!r&&"integerValue"in r}function Fm(r){return!!r&&"arrayValue"in r}function qv(r){return!!r&&"nullValue"in r}function Hv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Qc(r){return!!r&&"mapValue"in r}function aC(r){return(r?.mapValue?.fields||{})[HE]?.stringValue===FE}function kl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Xs(r.mapValue.fields,((i,s)=>t.mapValue.fields[i]=kl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=kl(r.arrayValue.values[i]);return t}return{...r}}function oC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===sC}class Ln{constructor(t){this.value=t}static empty(){return new Ln({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!Qc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=kl(i)}setAll(t){let i=Ke.emptyPath(),s={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,s,l),s={},l=[],i=p.popLast()}d?s[p.lastSegment()]=kl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(t){const i=this.field(t.popLast());Qc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return ki(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=i.mapValue.fields[t.get(s)];Qc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,s){Xs(i,((l,c)=>t[l]=c));for(const l of s)delete t[l]}clone(){return new Ln(kl(this.value))}}function GE(r){const t=[];return Xs(r.fields,((i,s)=>{const l=new Ke([i]);if(Qc(s)){const c=GE(s.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Jn(t)}class Je{constructor(t,i,s,l,c,d,p){this.key=t,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Je(t,0,vt.min(),vt.min(),vt.min(),Ln.empty(),0)}static newFoundDocument(t,i,s,l){return new Je(t,1,i,vt.min(),s,l,0)}static newNoDocument(t,i){return new Je(t,2,i,vt.min(),vt.min(),Ln.empty(),0)}static newUnknownDocument(t,i){return new Je(t,3,i,vt.min(),vt.min(),Ln.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class lh{constructor(t,i){this.position=t,this.inclusive=i}}function Fv(r,t,i){let s=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?s=ht.comparator(ht.fromName(d.referenceValue),i.key):s=ao(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Gv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!ki(r.position[i],t.position[i]))return!1;return!0}class uh{constructor(t,i="asc"){this.field=t,this.dir=i}}function lC(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class KE{}class Ie extends KE{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new cC(t,i,s):i==="array-contains"?new dC(t,s):i==="in"?new mC(t,s):i==="not-in"?new pC(t,s):i==="array-contains-any"?new gC(t,s):new Ie(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new hC(t,s):new fC(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ao(i,this.value)):i!==null&&rs(this.value)===rs(i)&&this.matchesComparison(ao(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends KE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new ii(t,i)}matches(t){return QE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function QE(r){return r.op==="and"}function YE(r){return uC(r)&&QE(r)}function uC(r){for(const t of r.filters)if(t instanceof ii)return!1;return!0}function dm(r){if(r instanceof Ie)return r.field.canonicalString()+r.op.toString()+oo(r.value);if(YE(r))return r.filters.map((t=>dm(t))).join(",");{const t=r.filters.map((i=>dm(i))).join(",");return`${r.op}(${t})`}}function XE(r,t){return r instanceof Ie?(function(s,l){return l instanceof Ie&&s.op===l.op&&s.field.isEqual(l.field)&&ki(s.value,l.value)})(r,t):r instanceof ii?(function(s,l){return l instanceof ii&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,d,p)=>c&&XE(d,l.filters[p])),!0):!1})(r,t):void pt(19439)}function $E(r){return r instanceof Ie?(function(i){return`${i.field.canonicalString()} ${i.op} ${oo(i.value)}`})(r):r instanceof ii?(function(i){return i.op.toString()+" {"+i.getFilters().map($E).join(" ,")+"}"})(r):"Filter"}class cC extends Ie{constructor(t,i,s){super(t,i,s),this.key=ht.fromName(s.referenceValue)}matches(t){const i=ht.comparator(t.key,this.key);return this.matchesComparison(i)}}class hC extends Ie{constructor(t,i){super(t,"in",i),this.keys=JE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class fC extends Ie{constructor(t,i){super(t,"not-in",i),this.keys=JE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function JE(r,t){return(t.arrayValue?.values||[]).map((i=>ht.fromName(i.referenceValue)))}class dC extends Ie{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Fm(i)&&Gl(i.arrayValue,this.value)}}class mC extends Ie{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Gl(this.value.arrayValue,i)}}class pC extends Ie{constructor(t,i){super(t,"not-in",i)}matches(t){if(Gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Gl(this.value.arrayValue,i)}}class gC extends Ie{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Fm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Gl(this.value.arrayValue,s)))}}class yC{constructor(t,i=null,s=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Kv(r,t=null,i=[],s=[],l=null,c=null,d=null){return new yC(r,t,i,s,l,c,d)}function Gm(r){const t=At(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((s=>dm(s))).join(","),i+="|ob:",i+=t.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Sh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((s=>oo(s))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((s=>oo(s))).join(",")),t.Te=i}return t.Te}function Km(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!lC(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!XE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Gv(r.startAt,t.startAt)&&Gv(r.endAt,t.endAt)}function mm(r){return ht.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class eu{constructor(t,i=null,s=[],l=[],c=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function _C(r,t,i,s,l,c,d,p){return new eu(r,t,i,s,l,c,d,p)}function wh(r){return new eu(r)}function Qv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function vC(r){return ht.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function ZE(r){return r.collectionGroup!==null}function Ll(r){const t=At(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ve(Ke.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new uh(c,s))})),i.has(Ke.keyField().canonicalString())||t.Ie.push(new uh(Ke.keyField(),s))}return t.Ie}function Di(r){const t=At(r);return t.Ee||(t.Ee=EC(t,Ll(r))),t.Ee}function EC(r,t){if(r.limitType==="F")return Kv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new uh(l.field,c)}));const i=r.endAt?new lh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new lh(r.startAt.position,r.startAt.inclusive):null;return Kv(r.path,r.collectionGroup,t,r.filters,r.limit,i,s)}}function pm(r,t){const i=r.filters.concat([t]);return new eu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function gm(r,t,i){return new eu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function Rh(r,t){return Km(Di(r),Di(t))&&r.limitType===t.limitType}function WE(r){return`${Gm(Di(r))}|lt:${r.limitType}`}function Fa(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((l=>$E(l))).join(", ")}]`),Sh(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>oo(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>oo(l))).join(",")),`Target(${s})`})(Di(r))}; limitType=${r.limitType})`}function Ch(r,t){return t.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ht.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,t)&&(function(s,l){for(const c of Ll(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(s,l){return!(s.startAt&&!(function(d,p,_){const y=Fv(d,p,_);return d.inclusive?y<=0:y<0})(s.startAt,Ll(s),l)||s.endAt&&!(function(d,p,_){const y=Fv(d,p,_);return d.inclusive?y>=0:y>0})(s.endAt,Ll(s),l))})(r,t)}function TC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function tT(r){return(t,i)=>{let s=!1;for(const l of Ll(r)){const c=AC(l,t,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function AC(r,t,i){const s=r.field.isKeyField()?ht.comparator(t.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?ao(_,y):pt(42886)})(r.field,t,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return pt(19790,{direction:r.dir})}}class $s{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Xs(this.inner,((i,s)=>{for(const[l,c]of s)t(l,c)}))}isEmpty(){return UE(this.inner)}size(){return this.innerSize}}const SC=new ue(ht.comparator);function ar(){return SC}const eT=new ue(ht.comparator);function xl(...r){let t=eT;for(const i of r)t=t.insert(i.key,i);return t}function nT(r){let t=eT;return r.forEach(((i,s)=>t=t.insert(i,s.overlayedDocument))),t}function Bs(){return Ul()}function iT(){return Ul()}function Ul(){return new $s((r=>r.toString()),((r,t)=>r.isEqual(t)))}const bC=new ue(ht.comparator),wC=new Ve(ht.comparator);function Mt(...r){let t=wC;for(const i of r)t=t.add(i);return t}const RC=new Ve(Ot);function CC(){return RC}function Qm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sh(t)?"-0":t}}function rT(r){return{integerValue:""+r}}function IC(r,t){return W2(t)?rT(t):Qm(r,t)}class Ih{constructor(){this._=void 0}}function NC(r,t,i){return r instanceof Kl?(function(l,c){const d={fields:{[jE]:{stringValue:zE},[qE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Hm(c)&&(c=bh(c)),c&&(d.fields[BE]=c),{mapValue:d}})(i,t):r instanceof Ql?aT(r,t):r instanceof Yl?oT(r,t):(function(l,c){const d=sT(l,c),p=Yv(d)+Yv(l.Ae);return fm(d)&&fm(l.Ae)?rT(p):Qm(l.serializer,p)})(r,t)}function xC(r,t,i){return r instanceof Ql?aT(r,t):r instanceof Yl?oT(r,t):i}function sT(r,t){return r instanceof ch?(function(s){return fm(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(t)?t:{integerValue:0}:null}class Kl extends Ih{}class Ql extends Ih{constructor(t){super(),this.elements=t}}function aT(r,t){const i=lT(t);for(const s of r.elements)i.some((l=>ki(l,s)))||i.push(s);return{arrayValue:{values:i}}}class Yl extends Ih{constructor(t){super(),this.elements=t}}function oT(r,t){let i=lT(t);for(const s of r.elements)i=i.filter((l=>!ki(l,s)));return{arrayValue:{values:i}}}class ch extends Ih{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Yv(r){return ge(r.integerValue||r.doubleValue)}function lT(r){return Fm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class DC{constructor(t,i){this.field=t,this.transform=i}}function OC(r,t){return r.field.isEqual(t.field)&&(function(s,l){return s instanceof Ql&&l instanceof Ql||s instanceof Yl&&l instanceof Yl?so(s.elements,l.elements,ki):s instanceof ch&&l instanceof ch?ki(s.Ae,l.Ae):s instanceof Kl&&l instanceof Kl})(r.transform,t.transform)}class MC{constructor(t,i){this.version=t,this.transformResults=i}}class ti{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ti}static exists(t){return new ti(void 0,t)}static updateTime(t){return new ti(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Yc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Nh{}function uT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Ym(r.key,ti.none()):new nu(r.key,r.data,ti.none());{const i=r.data,s=Ln.empty();let l=new Ve(Ke.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new Js(r.key,s,new Jn(l.toArray()),ti.none())}}function VC(r,t,i){r instanceof nu?(function(l,c,d){const p=l.value.clone(),_=$v(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof Js?(function(l,c,d){if(!Yc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=$v(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(cT(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Pl(r,t,i,s){return r instanceof nu?(function(c,d,p,_){if(!Yc(c.precondition,d))return p;const y=c.value.clone(),A=Jv(c.fieldTransforms,_,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,s):r instanceof Js?(function(c,d,p,_){if(!Yc(c.precondition,d))return p;const y=Jv(c.fieldTransforms,_,d),A=d.data;return A.setAll(cT(c)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,t,i,s):(function(c,d,p){return Yc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function kC(r,t){let i=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),c=sT(s.transform,l||null);c!=null&&(i===null&&(i=Ln.empty()),i.set(s.field,c))}return i||null}function Xv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&so(s,l,((c,d)=>OC(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class nu extends Nh{constructor(t,i,s,l=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Js extends Nh{constructor(t,i,s,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function cT(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);t.set(i,s)}})),t}function $v(r,t,i){const s=new Map;Ft(r.length===i.length,32656,{Ve:i.length,de:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);s.set(c.field,xC(d,p,i[l]))}return s}function Jv(r,t,i){const s=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);s.set(l.field,NC(c,d,t))}return s}class Ym extends Nh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LC extends Nh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class UC{constructor(t,i,s,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&VC(c,t,s[l])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=Pl(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=Pl(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=iT();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=uT(d,p);_!==null&&s.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(vt.min())})),s}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Mt())}isEqual(t){return this.batchId===t.batchId&&so(this.mutations,t.mutations,((i,s)=>Xv(i,s)))&&so(this.baseMutations,t.baseMutations,((i,s)=>Xv(i,s)))}}class Xm{constructor(t,i,s,l){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(t,i,s){Ft(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=(function(){return bC})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new Xm(t,i,s,l)}}class PC{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class zC{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ce,Lt;function jC(r){switch(r){case X.OK:return pt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return pt(15467,{code:r})}}function hT(r){if(r===void 0)return sr("GRPC error has no .code"),X.UNKNOWN;switch(r){case Ce.OK:return X.OK;case Ce.CANCELLED:return X.CANCELLED;case Ce.UNKNOWN:return X.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return X.INTERNAL;case Ce.UNAVAILABLE:return X.UNAVAILABLE;case Ce.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Ce.NOT_FOUND:return X.NOT_FOUND;case Ce.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Ce.ABORTED:return X.ABORTED;case Ce.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Ce.DATA_LOSS:return X.DATA_LOSS;default:return pt(39323,{code:r})}}(Lt=Ce||(Ce={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";function BC(){return new TextEncoder}const qC=new Zr([4294967295,4294967295],0);function Zv(r){const t=BC().encode(r),i=new RE;return i.update(t),new Uint8Array(i.digest())}function Wv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Zr([i,s],0),new Zr([l,c],0)]}class $m{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Dl(`Invalid padding: ${i}`);if(s<0)throw new Dl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Dl(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new Dl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Zr.fromNumber(this.ge)}ye(t,i,s){let l=t.add(i.multiply(Zr.fromNumber(s)));return l.compare(qC)===1&&(l=new Zr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Zv(t),[s,l]=Wv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);if(!this.we(d))return!1}return!0}static create(t,i,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new $m(c,l,i);return s.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Zv(t),[s,l]=Wv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class Dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class xh{constructor(t,i,s,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const l=new Map;return l.set(t,iu.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new xh(vt.min(),l,new ue(Ot),ar(),Mt())}}class iu{constructor(t,i,s,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new iu(s,i,Mt(),Mt(),Mt())}}class Xc{constructor(t,i,s,l){this.Se=t,this.removedTargetIds=i,this.key=s,this.De=l}}class fT{constructor(t,i){this.targetId=t,this.Ce=i}}class dT{constructor(t,i,s=Qe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=l}}class t0{constructor(){this.ve=0,this.Fe=e0(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Mt(),i=Mt(),s=Mt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:pt(38017,{changeType:c})}})),new iu(this.Me,this.xe,t,i,s)}Ke(){this.Oe=!1,this.Fe=e0()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class HC{constructor(t){this.Ge=t,this.ze=new Map,this.je=ar(),this.He=zc(),this.Je=zc(),this.Ze=new ue(Ot)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const s=this.nt(i);switch(t.state){case 0:this.rt(i)&&s.Le(t.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(t.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.Qe(),s.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(t.resumeToken));break;default:pt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((s,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,s=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(mm(c))if(s===0){const d=new ht(c.path);this.et(i,d,Je.newNoDocument(d,vt.min()))}else Ft(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=is(s).toUint8Array()}catch(_){if(_ instanceof PE)return ro("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new $m(d,l,c)}catch(_){return ro(_ instanceof Dl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,s){return i.Ce.count===s-this.Pt(t,i.targetId)?0:2}Pt(t,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&mm(p.target)){const _=new ht(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Je.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let s=Mt();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new xh(t,i,this.Ze,this.je,s);return this.je=ar(),this.He=zc(),this.Je=zc(),this.Ze=new ue(Ot),l}Ye(t,i){if(!this.rt(t))return;const s=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,s),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),s&&(this.je=this.je.insert(i,s))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new t0,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Ve(Ot),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Ve(Ot),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||st("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new t0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function zc(){return new ue(ht.comparator)}function e0(){return new ue(ht.comparator)}const FC={asc:"ASCENDING",desc:"DESCENDING"},GC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KC={and:"AND",or:"OR"};class QC{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function ym(r,t){return r.useProto3Json||Sh(t)?t:{value:t}}function hh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function mT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function YC(r,t){return hh(r,t.toTimestamp())}function Oi(r){return Ft(!!r,49232),vt.fromTimestamp((function(i){const s=ns(i);return new re(s.seconds,s.nanos)})(r))}function Jm(r,t){return _m(r,t).canonicalString()}function _m(r,t){const i=(function(l){return new ee(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function pT(r){const t=ee.fromString(r);return Ft(ET(t),10190,{key:t.toString()}),t}function vm(r,t){return Jm(r.databaseId,t.path)}function Yd(r,t){const i=pT(t);if(i.get(1)!==r.databaseId.projectId)throw new rt(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new rt(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ht(yT(i))}function gT(r,t){return Jm(r.databaseId,t)}function XC(r){const t=pT(r);return t.length===4?ee.emptyPath():yT(t)}function Em(r){return new ee(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function yT(r){return Ft(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function n0(r,t,i){return{name:vm(r,t),fields:i.value.mapValue.fields}}function $C(r,t){let i;if("targetChange"in t){t.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:pt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,A){return y.useProto3Json?(Ft(A===void 0||typeof A=="string",58123),Qe.fromBase64String(A||"")):(Ft(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Qe.fromUint8Array(A||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const A=y.code===void 0?X.UNKNOWN:hT(y.code);return new rt(A,y.message||"")})(d);i=new dT(s,l,c,p||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=Yd(r,s.document.name),c=Oi(s.document.updateTime),d=s.document.createTime?Oi(s.document.createTime):vt.min(),p=new Ln({mapValue:{fields:s.document.fields}}),_=Je.newFoundDocument(l,c,d,p),y=s.targetIds||[],A=s.removedTargetIds||[];i=new Xc(y,A,_.key,_)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=Yd(r,s.document),c=s.readTime?Oi(s.readTime):vt.min(),d=Je.newNoDocument(l,c),p=s.removedTargetIds||[];i=new Xc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=Yd(r,s.document),c=s.removedTargetIds||[];i=new Xc([],c,l,null)}else{if(!("filter"in t))return pt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new zC(l,c),p=s.targetId;i=new fT(p,d)}}return i}function JC(r,t){let i;if(t instanceof nu)i={update:n0(r,t.key,t.value)};else if(t instanceof Ym)i={delete:vm(r,t.key)};else if(t instanceof Js)i={update:n0(r,t.key,t.data),updateMask:aI(t.fieldMask)};else{if(!(t instanceof LC))return pt(16599,{dt:t.type});i={verify:vm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((s=>(function(c,d){const p=d.transform;if(p instanceof Kl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Ql)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Yl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ch)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw pt(20930,{transform:d.transform})})(0,s)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:YC(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:pt(27497)})(r,t.precondition)),i}function ZC(r,t){return r&&r.length>0?(Ft(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Oi(l.updateTime):Oi(c);return d.isEqual(vt.min())&&(d=Oi(c)),new MC(d,l.transformResults||[])})(i,t)))):[]}function WC(r,t){return{documents:[gT(r,t.path)]}}function tI(r,t){const i={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=gT(r,l);const c=(function(y){if(y.length!==0)return vT(ii.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((A=>(function(M){return{field:Ga(M.field),direction:iI(M.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=ym(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function eI(r){let t=XC(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){Ft(s===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(S){const M=_T(S);return M instanceof ii&&YE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((M=>(function(et){return new uh(Ka(et.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(et.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let M;return M=typeof S=="object"?S.value:S,Sh(M)?null:M})(i.limit));let _=null;i.startAt&&(_=(function(S){const M=!!S.before,F=S.values||[];return new lh(F,M)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const M=!S.before,F=S.values||[];return new lh(F,M)})(i.endAt)),_C(t,l,d,c,p,"F",_,y)}function nI(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function _T(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ka(i.unaryFilter.field);return Ie.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Ka(i.unaryFilter.field);return Ie.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ka(i.unaryFilter.field);return Ie.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ka(i.unaryFilter.field);return Ie.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ie.create(Ka(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return ii.create(i.compositeFilter.filters.map((s=>_T(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return pt(1026)}})(i.compositeFilter.op))})(r):pt(30097,{filter:r})}function iI(r){return FC[r]}function rI(r){return GC[r]}function sI(r){return KC[r]}function Ga(r){return{fieldPath:r.canonicalString()}}function Ka(r){return Ke.fromServerFormat(r.fieldPath)}function vT(r){return r instanceof Ie?(function(i){if(i.op==="=="){if(Hv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NAN"}};if(qv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Hv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NOT_NAN"}};if(qv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(i.field),op:rI(i.op),value:i.value}}})(r):r instanceof ii?(function(i){const s=i.getFilters().map((l=>vT(l)));return s.length===1?s[0]:{compositeFilter:{op:sI(i.op),filters:s}}})(r):pt(54877,{filter:r})}function aI(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function ET(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function TT(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Yr{constructor(t,i,s,l,c=vt.min(),d=vt.min(),p=Qe.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new Yr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class oI{constructor(t){this.yt=t}}function lI(r){const t=eI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?gm(t,t.limit,"L"):t}class uI{constructor(){this.Sn=new cI}addToCollectionParentIndex(t,i){return this.Sn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve(es.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve(es.min())}updateCollectionGroup(t,i,s){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class cI{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i]||new Ve(ee.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Ve(ee.comparator)).toArray()}}const i0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},AT=41943040;class fn{static withCacheSize(t){return new fn(t,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(AT,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class lo{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new lo(0)}static ar(){return new lo(-1)}}const r0="LruGarbageCollector",hI=1048576;function s0([r,t],[i,s]){const l=Ot(r,i);return l===0?Ot(t,s):l}class fI{constructor(t){this.Pr=t,this.buffer=new Ve(s0),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();s0(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class dI{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){st(r0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){yo(i)?st(r0,"Ignoring IndexedDB error during garbage collection: ",i):await go(i)}await this.Ar(3e5)}))}}class mI{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(Ah.ce);const s=new fI(i);return this.Vr.forEachTarget(t,(l=>s.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>s.Er(l))))).next((()=>s.maxValue))}removeTargets(t,i,s){return this.Vr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(i0)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),i0):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let s,l,c,d,p,_,y;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(s=S,p=Date.now(),this.removeTargets(t,s,i)))).next((S=>(c=S,_=Date.now(),this.removeOrphanedDocuments(t,s)))).next((S=>(y=Date.now(),Ha()<=Dt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${S} documents in `+(y-_)+`ms
Total Duration: ${y-A}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function pI(r,t){return new mI(r,t)}class gI{constructor(){this.changes=new $s((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?$.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class yI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class _I{constructor(t,i,s,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(s!==null&&Pl(s.mutation,l,Jn.empty(),re.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.getLocalViewOfDocuments(t,s,Mt()).next((()=>s))))}getLocalViewOfDocuments(t,i,s=Mt()){const l=Bs();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,s).next((c=>{let d=xl();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const s=Bs();return this.populateOverlays(t,s,i).next((()=>this.computeViews(t,i,s,Mt())))}populateOverlays(t,i,s){const l=[];return s.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,s,l){let c=ar();const d=Ul(),p=(function(){return Ul()})();return i.forEach(((_,y)=>{const A=s.get(y.key);l.has(y.key)&&(A===void 0||A.mutation instanceof Js)?c=c.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),Pl(A.mutation,y,A.mutation.getFieldMask(),re.now())):d.set(y.key,Jn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,A)=>d.set(y,A))),i.forEach(((y,A)=>p.set(y,new yI(A,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const s=Ul();let l=new ue(((d,p)=>d-p)),c=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let A=s.get(_)||Jn.empty();A=p.applyToLocalView(y,A),s.set(_,A);const S=(l.get(p.batchId)||Mt()).add(_);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,A=_.value,S=iT();A.forEach((M=>{if(!c.has(M)){const F=uT(i.get(M),s.get(M));F!==null&&S.set(M,F),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,S))}return $.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,i,s,l){return vC(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):ZE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,l):this.getDocumentsMatchingCollectionQuery(t,i,s,l)}getNextDocuments(t,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,l-c.size):$.resolve(Bs());let p=ql,_=c;return d.next((y=>$.forEach(y,((A,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(A)?$.resolve():this.remoteDocumentCache.getEntry(t,A).next((M=>{_=_.insert(A,M)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,Mt()))).next((A=>({batchId:p,changes:nT(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ht(i)).next((s=>{let l=xl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,s,l){const c=i.collectionGroup;let d=xl();return this.indexManager.getCollectionParents(t,c).next((p=>$.forEach(p,(_=>{const y=(function(S,M){return new eu(M,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,s,l).next((A=>{A.forEach(((S,M)=>{d=d.insert(S,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,c,l)))).next((d=>{c.forEach(((_,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,Je.newInvalidDocument(A)))}));let p=xl();return d.forEach(((_,y)=>{const A=c.get(_);A!==void 0&&Pl(A.mutation,y,Jn.empty(),re.now()),Ch(i,y)&&(p=p.insert(_,y))})),p}))}}class vI{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return $.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Oi(l.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:lI(l.bundledQuery),readTime:Oi(l.readTime)}})(i)),$.resolve()}}class EI{constructor(){this.overlays=new ue(ht.comparator),this.Lr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const s=Bs();return $.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(t,i,s){return s.forEach(((l,c)=>{this.bt(t,i,c)})),$.resolve()}removeOverlaysForBatchId(t,i,s){const l=this.Lr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(s)),$.resolve()}getOverlaysForCollection(t,i,s){const l=Bs(),c=i.length+1,d=new ht(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>s&&l.set(_.getKey(),_)}return $.resolve(l)}getOverlaysForCollectionGroup(t,i,s,l){let c=new ue(((y,A)=>y-A));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let A=c.get(y.largestBatchId);A===null&&(A=Bs(),c=c.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const p=Bs(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,A)=>p.set(y,A))),!(p.size()>=l)););return $.resolve(p)}bt(t,i,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(s.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new PC(i,s));let c=this.Lr.get(i);c===void 0&&(c=Mt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(s.key))}}class TI{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}class Zm{constructor(){this.kr=new Ve(Pe.Kr),this.qr=new Ve(Pe.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const s=new Pe(t,i);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(t,i){t.forEach((s=>this.addReference(s,i)))}removeReference(t,i){this.Wr(new Pe(t,i))}Qr(t,i){t.forEach((s=>this.removeReference(s,i)))}Gr(t){const i=new ht(new ee([])),s=new Pe(i,t),l=new Pe(i,t+1),c=[];return this.qr.forEachInRange([s,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new ht(new ee([])),s=new Pe(i,t),l=new Pe(i,t+1);let c=Mt();return this.qr.forEachInRange([s,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Pe(t,0),s=this.kr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class Pe{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return ht.comparator(t.key,i.key)||Ot(t.Hr,i.Hr)}static Ur(t,i){return Ot(t.Hr,i.Hr)||ht.comparator(t.key,i.key)}}class AI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Ve(Pe.Kr)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new UC(c,i,s,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new Pe(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,l=this.Xr(s),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?qm:this.Yn-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new Pe(i,0),l=new Pe(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([s,l],(d=>{const p=this.Zr(d.Hr);c.push(p)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new Ve(Ot);return i.forEach((l=>{const c=new Pe(l,0),d=new Pe(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{s=s.add(p.Hr)}))})),$.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,l=s.length+1;let c=s;ht.isDocumentKey(c)||(c=c.child(""));const d=new Pe(new ht(c),0);let p=new Ve(Ot);return this.Jr.forEachWhile((_=>{const y=_.key.path;return!!s.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Hr)),!0)}),d),$.resolve(this.Yr(p))}Yr(t){const i=[];return t.forEach((s=>{const l=this.Zr(s);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Ft(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return $.forEach(i.mutations,(l=>{const c=new Pe(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=s}))}nr(t){}containsKey(t,i){const s=new Pe(i,0),l=this.Jr.firstAfterOrEqual(s);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class SI{constructor(t){this.ti=t,this.docs=(function(){return new ue(ht.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return $.resolve(s?s.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(t,i){let s=ar();return i.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Je.newInvalidDocument(l))})),$.resolve(s)}getDocumentsMatchingQuery(t,i,s,l){let c=ar();const d=i.path,p=new ht(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:A}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||X2(Y2(A),s)<=0||(l.has(A.key)||Ch(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,i,s,l){pt(9500)}ni(t,i){return $.forEach(this.docs,(s=>i(s)))}newChangeBuffer(t){return new bI(this)}getSize(t){return $.resolve(this.size)}}class bI extends gI{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(s)})),$.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class wI{constructor(t){this.persistence=t,this.ri=new $s((i=>Gm(i)),Km),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.ii=0,this.si=new Zm,this.targetCount=0,this.oi=lo._r()}forEachTarget(t,i){return this.ri.forEach(((s,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.ii&&(this.ii=i),$.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new lo(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.lr(i),$.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,s){let l=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&s.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const s=this.ri.get(i)||null;return $.resolve(s)}addMatchingKeys(t,i,s){return this.si.$r(i,s),$.resolve()}removeMatchingKeys(t,i,s){this.si.Qr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const s=this.si.jr(i);return $.resolve(s)}containsKey(t,i){return $.resolve(this.si.containsKey(i))}}class ST{constructor(t,i){this._i={},this.overlays={},this.ai=new Ah(0),this.ui=!1,this.ui=!0,this.ci=new TI,this.referenceDelegate=t(this),this.li=new wI(this),this.indexManager=new uI,this.remoteDocumentCache=(function(l){return new SI(l)})((s=>this.referenceDelegate.hi(s))),this.serializer=new oI(i),this.Pi=new vI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new EI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this._i[t.toKey()];return s||(s=new AI(i,this.referenceDelegate),this._i[t.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,s){st("MemoryPersistence","Starting transaction:",t);const l=new RI(this.ai.next());return this.referenceDelegate.Ti(),s(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return $.or(Object.values(this._i).map((s=>()=>s.containsKey(t,i))))}}class RI extends J2{constructor(t){super(),this.currentSequenceNumber=t}}class Wm{constructor(t){this.persistence=t,this.Ri=new Zm,this.Ai=null}static Vi(t){return new Wm(t)}get di(){if(this.Ai)return this.Ai;throw pt(60996)}addReference(t,i,s){return this.Ri.addReference(s,i),this.di.delete(s.toString()),$.resolve()}removeReference(t,i,s){return this.Ri.removeReference(s,i),this.di.add(s.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>s.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,(s=>{const l=ht.fromPath(s);return this.mi(t,l).next((c=>{c||i.removeEntry(l,vt.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((s=>{s?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class fh{constructor(t,i){this.persistence=t,this.fi=new $s((s=>tC(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=pI(this,i)}static Vi(t,i){return new fh(t,i)}Ti(){}Ii(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>i.next((l=>s+l))))}pr(t){let i=0;return this.mr(t,(s=>{i++})).next((()=>i))}mr(t,i){return $.forEach(this.fi,((s,l)=>this.wr(t,s,l).next((c=>c?$.resolve():i(l)))))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((p=>{p||(s++,c.removeEntry(d,vt.min()))})))).next((()=>c.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.fi.set(s,t.currentSequenceNumber),$.resolve()}removeReference(t,i,s){return this.fi.set(s,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),$.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Kc(t.data.value)),i}wr(t,i,s){return $.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return $.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class tp{constructor(t,i,s,l){this.targetId=t,this.fromCache=i,this.Ts=s,this.Is=l}static Es(t,i){let s=Mt(),l=Mt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new tp(t,i.fromCache,s,l)}}class CI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class II{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return ZS()?8:Z2(Ze())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,s,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new CI;return this.ys(t,i,d).next((p=>{if(c.result=p,this.As)return this.ws(t,i,d,p.size)}))})).next((()=>c.result))}ws(t,i,s,l){return s.documentReadCount<this.Vs?(Ha()<=Dt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",Fa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(Ha()<=Dt.DEBUG&&st("QueryEngine","Query:",Fa(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ds*l?(Ha()<=Dt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",Fa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Di(i))):$.resolve())}gs(t,i){if(Qv(i))return $.resolve(null);let s=Di(i);return this.indexManager.getIndexType(t,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=gm(i,null,"F"),s=Di(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next((c=>{const d=Mt(...c);return this.fs.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,s).next((_=>{const y=this.bs(i,p);return this.Ss(i,y,d,_.readTime)?this.gs(t,gm(i,null,"F")):this.Ds(t,y,i,_)}))))})))))}ps(t,i,s,l){return Qv(i)||l.isEqual(vt.min())?$.resolve(null):this.fs.getDocuments(t,s).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,s,l)?$.resolve(null):(Ha()<=Dt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Fa(i)),this.Ds(t,d,i,Q2(l,ql)).next((p=>p)))}))}bs(t,i){let s=new Ve(tT(t));return i.forEach(((l,c)=>{Ch(t,c)&&(s=s.add(c))})),s}Ss(t,i,s,l){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,s){return Ha()<=Dt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Fa(i)),this.fs.getDocumentsMatchingQuery(t,i,es.min(),s)}Ds(t,i,s,l){return this.fs.getDocumentsMatchingQuery(t,s,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const ep="LocalStore",NI=3e8;class xI{constructor(t,i,s,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new ue(Ot),this.Fs=new $s((c=>Gm(c)),Km),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(s)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new _I(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function DI(r,t,i,s){return new xI(r,t,i,s)}async function bT(r,t){const i=At(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],p=[];let _=Mt();for(const y of l){d.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}for(const y of c){p.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(s,_).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function OI(r,t){const i=At(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,A){const S=y.batch,M=S.keys();let F=$.resolve();return M.forEach((et=>{F=F.next((()=>A.getEntry(_,et))).next((Z=>{const W=y.docVersions.get(et);Ft(W!==null,48541),Z.version.compareTo(W)<0&&(S.applyToRemoteDocument(Z,y),Z.isValidDocument()&&(Z.setReadTime(y.commitVersion),A.addEntry(Z)))}))})),F.next((()=>p.mutationQueue.removeMutationBatch(_,S)))})(i,s,t,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let _=Mt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function wT(r){const t=At(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function MI(r,t){const i=At(r),s=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const p=[];t.targetChanges.forEach(((A,S)=>{const M=l.get(S);if(!M)return;p.push(i.li.removeMatchingKeys(c,A.removedDocuments,S).next((()=>i.li.addMatchingKeys(c,A.addedDocuments,S))));let F=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?F=F.withResumeToken(Qe.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):A.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(A.resumeToken,s)),l=l.insert(S,F),(function(Z,W,ot){return Z.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=NI?!0:ot.addedDocuments.size+ot.modifiedDocuments.size+ot.removedDocuments.size>0})(M,F,A)&&p.push(i.li.updateTargetData(c,F))}));let _=ar(),y=Mt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(VI(c,d,t.documentUpdates).next((A=>{_=A.Bs,y=A.Ls}))),!s.isEqual(vt.min())){const A=i.li.getLastRemoteSnapshotVersion(c).next((S=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,s)));p.push(A)}return $.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.vs=l,c)))}function VI(r,t,i){let s=Mt(),l=Mt();return i.forEach((c=>s=s.add(c))),t.getEntries(r,s).next((c=>{let d=ar();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(vt.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):st(ep,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{Bs:d,Ls:l}}))}function kI(r,t){const i=At(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=qm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function LI(r,t){const i=At(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.li.getTargetData(s,t).next((c=>c?(l=c,$.resolve(l)):i.li.allocateTargetId(s).next((d=>(l=new Yr(t,d,"TargetPurposeListen",s.currentSequenceNumber),i.li.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.vs.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(s.targetId,s),i.Fs.set(t,s.targetId)),s}))}async function Tm(r,t,i){const s=At(r),l=s.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!yo(d))throw d;st(ep,`Failed to update sequence numbers for target ${t}: ${d}`)}s.vs=s.vs.remove(t),s.Fs.delete(l.target)}function a0(r,t,i){const s=At(r);let l=vt.min(),c=Mt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,A){const S=At(_),M=S.Fs.get(A);return M!==void 0?$.resolve(S.vs.get(M)):S.li.getTargetData(y,A)})(s,d,Di(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>s.Cs.getDocumentsMatchingQuery(d,t,i?l:vt.min(),i?c:Mt()))).next((p=>(UI(s,TC(t),p),{documents:p,ks:c})))))}function UI(r,t,i){let s=r.Ms.get(t)||vt.min();i.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Ms.set(t,s)}class o0{constructor(){this.activeTargetIds=CC()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class PI{constructor(){this.vo=new o0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,s){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new o0,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class zI{Mo(t){}shutdown(){}}const l0="ConnectivityMonitor";class u0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){st(l0,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){st(l0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let jc=null;function Am(){return jc===null?jc=(function(){return 268435456+Math.round(2147483648*Math.random())})():jc++,"0x"+jc.toString(16)}const Xd="RestConnection",jI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class BI{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${s}/databases/${l}`,this.$o=this.databaseId.database===ah?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Wo(t,i,s,l,c){const d=Am(),p=this.Qo(t,i.toUriEncodedString());st(Xd,`Sending RPC '${t}' ${d}:`,p,s);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,l,c);const{host:y}=new URL(p),A=co(y);return this.zo(t,p,_,s,A).then((S=>(st(Xd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw ro(Xd,`RPC '${t}' ${d} failed with error: `,S,"url: ",p,"request:",s),S}))}jo(t,i,s,l,c,d){return this.Wo(t,i,s,l,c)}Go(t,i,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+po})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),s&&s.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const s=jI[t];let l=`${this.qo}/v1/${i}:${s}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class qI{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Xe="WebChannelConnection",Rl=(r,t,i)=>{r.listen(t,(s=>{try{i(s)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Wa extends BI{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Wa.c_){const t=xE();Rl(t,NE.STAT_EVENT,(i=>{i.stat===um.PROXY?st(Xe,"STAT_EVENT: detected buffering proxy"):i.stat===um.NOPROXY&&st(Xe,"STAT_EVENT: detected no buffering proxy")})),Wa.c_=!0}}zo(t,i,s,l,c){const d=Am();return new Promise(((p,_)=>{const y=new CE;y.setWithCredentials(!0),y.listenOnce(IE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Gc.NO_ERROR:const S=y.getResponseJson();st(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),p(S);break;case Gc.TIMEOUT:st(Xe,`RPC '${t}' ${d} timed out`),_(new rt(X.DEADLINE_EXCEEDED,"Request time out"));break;case Gc.HTTP_ERROR:const M=y.getStatus();if(st(Xe,`RPC '${t}' ${d} failed with status:`,M,"response text:",y.getResponseText()),M>0){let F=y.getResponseJson();Array.isArray(F)&&(F=F[0]);const et=F?.error;if(et&&et.status&&et.message){const Z=(function(ot){const gt=ot.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(gt)>=0?gt:X.UNKNOWN})(et.status);_(new rt(Z,et.message))}else _(new rt(X.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new rt(X.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{st(Xe,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);st(Xe,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",A,s,15)}))}T_(t,i,s){const l=Am(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const y=c.join("");st(Xe,`Creating RPC '${t}' stream ${l}: ${y}`,p);const A=d.createWebChannel(y,p);this.I_(A);let S=!1,M=!1;const F=new qI({Ho:et=>{M?st(Xe,`Not sending because RPC '${t}' stream ${l} is closed:`,et):(S||(st(Xe,`Opening RPC '${t}' stream ${l} transport.`),A.open(),S=!0),st(Xe,`RPC '${t}' stream ${l} sending:`,et),A.send(et))},Jo:()=>A.close()});return Rl(A,Nl.EventType.OPEN,(()=>{M||(st(Xe,`RPC '${t}' stream ${l} transport opened.`),F.i_())})),Rl(A,Nl.EventType.CLOSE,(()=>{M||(M=!0,st(Xe,`RPC '${t}' stream ${l} transport closed`),F.o_(),this.E_(A))})),Rl(A,Nl.EventType.ERROR,(et=>{M||(M=!0,ro(Xe,`RPC '${t}' stream ${l} transport errored. Name:`,et.name,"Message:",et.message),F.o_(new rt(X.UNAVAILABLE,"The operation could not be completed")))})),Rl(A,Nl.EventType.MESSAGE,(et=>{if(!M){const Z=et.data[0];Ft(!!Z,16349);const W=Z,ot=W?.error||W[0]?.error;if(ot){st(Xe,`RPC '${t}' stream ${l} received error:`,ot);const gt=ot.status;let yt=(function(Pt){const N=Ce[Pt];if(N!==void 0)return hT(N)})(gt),Et=ot.message;yt===void 0&&(yt=X.INTERNAL,Et="Unknown error status: "+gt+" with message "+ot.message),M=!0,F.o_(new rt(yt,Et)),A.close()}else st(Xe,`RPC '${t}' stream ${l} received:`,Z),F.__(Z)}})),Wa.u_(),setTimeout((()=>{F.s_()}),0),F}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,s){super.Go(t,i,s),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return DE()}}function HI(r){return new Wa(r)}function $d(){return typeof document<"u"?document:null}function Dh(r){return new QC(r,!0)}Wa.c_=!1;class RT{constructor(t,i,s=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=s,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&st("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const c0="PersistentStream";class CT{constructor(t,i,s,l,c,d,p,_){this.Ci=t,this.b_=s,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new RT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(sr(i.toString()),sr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===i&&this.G_(s,l)}),(s=>{t((()=>{const l=new rt(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(t,i){const s=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return st(c0,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(st(c0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class FI extends CT{constructor(t,i,s,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=$C(this.serializer,t),s=(function(c){if(!("targetChange"in c))return vt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?Oi(d.readTime):vt.min()})(t);return this.listener.J_(i,s)}Z_(t){const i={};i.database=Em(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=mm(_)?{documents:WC(c,_)}:{query:tI(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=mT(c,d.resumeToken);const y=ym(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(vt.min())>0){p.readTime=hh(c,d.snapshotVersion.toTimestamp());const y=ym(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const s=nI(this.serializer,t);s&&(i.labels=s),this.K_(i)}X_(t){const i={};i.database=Em(this.serializer),i.removeTarget=t,this.K_(i)}}class GI extends CT{constructor(t,i,s,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=ZC(t.writeResults,t.commitTime),s=Oi(t.commitTime);return this.listener.na(s,i)}ra(){const t={};t.database=Em(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((s=>JC(this.serializer,s)))};this.K_(i)}}class KI{}class QI extends KI{constructor(t,i,s,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new rt(X.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,_m(i,s),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new rt(X.UNKNOWN,c.toString())}))}jo(t,i,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(t,_m(i,s),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function YI(r,t,i,s){return new QI(r,t,i,s)}class XI{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(sr(i),this.aa=!1):st("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Qs="RemoteStore";class $I{constructor(t,i,s,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{s.enqueueAndForget((async()=>{Zs(this)&&(st(Qs,"Restarting streams for network reachability change."),await(async function(_){const y=At(_);y.Ea.add(4),await ru(y),y.Va.set("Unknown"),y.Ea.delete(4),await Oh(y)})(this))}))})),this.Va=new XI(s,l)}}async function Oh(r){if(Zs(r))for(const t of r.Ra)await t(!0)}async function ru(r){for(const t of r.Ra)await t(!1)}function IT(r,t){const i=At(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),sp(i)?rp(i):_o(i).O_()&&ip(i,t))}function np(r,t){const i=At(r),s=_o(i);i.Ia.delete(t),s.O_()&&NT(i,t),i.Ia.size===0&&(s.O_()?s.L_():Zs(i)&&i.Va.set("Unknown"))}function ip(r,t){if(r.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}_o(r).Z_(t)}function NT(r,t){r.da.$e(t),_o(r).X_(t)}function rp(r){r.da=new HC({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),_o(r).start(),r.Va.ua()}function sp(r){return Zs(r)&&!_o(r).x_()&&r.Ia.size>0}function Zs(r){return At(r).Ea.size===0}function xT(r){r.da=void 0}async function JI(r){r.Va.set("Online")}async function ZI(r){r.Ia.forEach(((t,i)=>{ip(r,t)}))}async function WI(r,t){xT(r),sp(r)?(r.Va.ha(t),rp(r)):r.Va.set("Unknown")}async function tN(r,t,i){if(r.Va.set("Online"),t instanceof dT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(r,t)}catch(s){st(Qs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await dh(r,s)}else if(t instanceof Xc?r.da.Xe(t):t instanceof fT?r.da.st(t):r.da.tt(t),!i.isEqual(vt.min()))try{const s=await wT(r.localStore);i.compareTo(s)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const A=c.Ia.get(y);A&&c.Ia.set(y,A.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const A=c.Ia.get(_);if(!A)return;c.Ia.set(_,A.withResumeToken(Qe.EMPTY_BYTE_STRING,A.snapshotVersion)),NT(c,_);const S=new Yr(A.target,_,y,A.sequenceNumber);ip(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(s){st(Qs,"Failed to raise snapshot:",s),await dh(r,s)}}async function dh(r,t,i){if(!yo(t))throw t;r.Ea.add(1),await ru(r),r.Va.set("Offline"),i||(i=()=>wT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{st(Qs,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Oh(r)}))}function DT(r,t){return t().catch((i=>dh(r,i,t)))}async function Mh(r){const t=At(r),i=ss(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:qm;for(;eN(t);)try{const l=await kI(t.localStore,s);if(l===null){t.Ta.length===0&&i.L_();break}s=l.batchId,nN(t,l)}catch(l){await dh(t,l)}OT(t)&&MT(t)}function eN(r){return Zs(r)&&r.Ta.length<10}function nN(r,t){r.Ta.push(t);const i=ss(r);i.O_()&&i.Y_&&i.ea(t.mutations)}function OT(r){return Zs(r)&&!ss(r).x_()&&r.Ta.length>0}function MT(r){ss(r).start()}async function iN(r){ss(r).ra()}async function rN(r){const t=ss(r);for(const i of r.Ta)t.ea(i.mutations)}async function sN(r,t,i){const s=r.Ta.shift(),l=Xm.from(s,t,i);await DT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Mh(r)}async function aN(r,t){t&&ss(r).Y_&&await(async function(s,l){if((function(d){return jC(d)&&d!==X.ABORTED})(l.code)){const c=s.Ta.shift();ss(s).B_(),await DT(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Mh(s)}})(r,t),OT(r)&&MT(r)}async function h0(r,t){const i=At(r);i.asyncQueue.verifyOperationInProgress(),st(Qs,"RemoteStore received new credentials");const s=Zs(i);i.Ea.add(3),await ru(i),s&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Oh(i)}async function oN(r,t){const i=At(r);t?(i.Ea.delete(2),await Oh(i)):t||(i.Ea.add(2),await ru(i),i.Va.set("Unknown"))}function _o(r){return r.ma||(r.ma=(function(i,s,l){const c=At(i);return c.sa(),new FI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:JI.bind(null,r),Yo:ZI.bind(null,r),t_:WI.bind(null,r),J_:tN.bind(null,r)}),r.Ra.push((async t=>{t?(r.ma.B_(),sp(r)?rp(r):r.Va.set("Unknown")):(await r.ma.stop(),xT(r))}))),r.ma}function ss(r){return r.fa||(r.fa=(function(i,s,l){const c=At(i);return c.sa(),new GI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:iN.bind(null,r),t_:aN.bind(null,r),ta:rN.bind(null,r),na:sN.bind(null,r)}),r.Ra.push((async t=>{t?(r.fa.B_(),await Mh(r)):(await r.fa.stop(),r.Ta.length>0&&(st(Qs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class ap{constructor(t,i,s,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,l,c){const d=Date.now()+s,p=new ap(t,i,d,l,c);return p.start(s),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function op(r,t){if(sr("AsyncQueue",`${t}: ${r}`),yo(r))return new rt(X.UNAVAILABLE,`${t}: ${r}`);throw r}class to{static emptySet(t){return new to(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||ht.comparator(i.key,s.key):(i,s)=>ht.comparator(i.key,s.key),this.keyedMap=xl(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,s)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof to)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new to;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}class f0{constructor(){this.ga=new ue(ht.comparator)}track(t){const i=t.doc.key,s=this.ga.get(i);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(i,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(i):t.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):pt(63341,{Vt:t,pa:s}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,s)=>{t.push(s)})),t}}class uo{constructor(t,i,s,l,c,d,p,_,y){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,s,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new uo(t,i,to.emptySet(i),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Rh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}class lN{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class uN{constructor(){this.queries=d0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=At(i),c=l.queries;l.queries=d0(),c.forEach(((d,p)=>{for(const _ of p.ba)_.onError(s)}))})(this,new rt(X.ABORTED,"Firestore shutting down"))}}function d0(){return new $s((r=>WE(r)),Rh)}async function VT(r,t){const i=At(r);let s=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(s=2):(c=new lN,s=t.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=op(d,`Initialization of query '${Fa(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&lp(i)}async function kT(r,t){const i=At(r),s=t.query;let l=3;const c=i.queries.get(s);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function cN(r,t){const i=At(r);let s=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(l)&&(s=!0);d.wa=l}}s&&lp(i)}function hN(r,t,i){const s=At(r),l=s.queries.get(t);if(l)for(const c of l.ba)c.onError(i);s.queries.delete(t)}function lp(r){r.Ca.forEach((t=>{t.next()}))}var Sm,m0;(m0=Sm||(Sm={})).Ma="default",m0.Cache="cache";class LT{constructor(t,i,s){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new uo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.Ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=uo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Sm.Cache}}class UT{constructor(t){this.key=t}}class PT{constructor(t){this.key=t}}class fN{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Mt(),this.mutatedKeys=Mt(),this.eu=tT(t),this.tu=new to(this.eu)}get nu(){return this.Za}ru(t,i){const s=i?i.iu:new f0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,S)=>{const M=l.get(A),F=Ch(this.query,S)?S:null,et=!!M&&this.mutatedKeys.has(M.key),Z=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let W=!1;M&&F?M.data.isEqual(F.data)?et!==Z&&(s.track({type:3,doc:F}),W=!0):this.su(M,F)||(s.track({type:2,doc:F}),W=!0,(_&&this.eu(F,_)>0||y&&this.eu(F,y)<0)&&(p=!0)):!M&&F?(s.track({type:0,doc:F}),W=!0):M&&!F&&(s.track({type:1,doc:M}),W=!0,(_||y)&&(p=!0)),W&&(F?(d=d.add(F),c=Z?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),s.track({type:1,doc:A})}return{tu:d,iu:s,Ss:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,S)=>(function(F,et){const Z=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Vt:W})}};return Z(F)-Z(et)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(s),l=l??!1;const p=i&&!l?this._u():[],_=this.Ya.size===0&&this.current&&!l?1:0,y=_!==this.Xa;return this.Xa=_,d.length!==0||y?{snapshot:new uo(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new f0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Mt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const i=[];return t.forEach((s=>{this.Ya.has(s)||i.push(new PT(s))})),this.Ya.forEach((s=>{t.has(s)||i.push(new UT(s))})),i}cu(t){this.Za=t.ks,this.Ya=Mt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return uo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const up="SyncEngine";class dN{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class mN{constructor(t){this.key=t,this.hu=!1}}class pN{constructor(t,i,s,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new $s((p=>WE(p)),Rh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ue(ht.comparator),this.Au=new Map,this.Vu=new Zm,this.du={},this.mu=new Map,this.fu=lo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function gN(r,t,i=!0){const s=FT(r);let l;const c=s.Tu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await zT(s,t,i,!0),l}async function yN(r,t){const i=FT(r);await zT(i,t,!0,!1)}async function zT(r,t,i,s){const l=await LI(r.localStore,Di(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return s&&(p=await _N(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&IT(r.remoteStore,l),p}async function _N(r,t,i,s,l){r.pu=(S,M,F)=>(async function(Z,W,ot,gt){let yt=W.view.ru(ot);yt.Ss&&(yt=await a0(Z.localStore,W.query,!1).then((({documents:N})=>W.view.ru(N,yt))));const Et=gt&&gt.targetChanges.get(W.targetId),te=gt&&gt.targetMismatches.get(W.targetId)!=null,Pt=W.view.applyChanges(yt,Z.isPrimaryClient,Et,te);return g0(Z,W.targetId,Pt.au),Pt.snapshot})(r,S,M,F);const c=await a0(r.localStore,t,!0),d=new fN(t,c.ks),p=d.ru(c.documents),_=iu.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",l),y=d.applyChanges(p,r.isPrimaryClient,_);g0(r,i,y.au);const A=new dN(t,i,d);return r.Tu.set(t,A),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function vN(r,t,i){const s=At(r),l=s.Tu.get(t),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((d=>!Rh(d,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Tm(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&np(s.remoteStore,l.targetId),bm(s,l.targetId)})).catch(go)):(bm(s,l.targetId),await Tm(s.localStore,l.targetId,!0))}async function EN(r,t){const i=At(r),s=i.Tu.get(t),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),np(i.remoteStore,s.targetId))}async function TN(r,t,i){const s=IN(r);try{const l=await(function(d,p){const _=At(d),y=re.now(),A=p.reduce(((F,et)=>F.add(et.key)),Mt());let S,M;return _.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let et=ar(),Z=Mt();return _.xs.getEntries(F,A).next((W=>{et=W,et.forEach(((ot,gt)=>{gt.isValidDocument()||(Z=Z.add(ot))}))})).next((()=>_.localDocuments.getOverlayedDocuments(F,et))).next((W=>{S=W;const ot=[];for(const gt of p){const yt=kC(gt,S.get(gt.key).overlayedDocument);yt!=null&&ot.push(new Js(gt.key,yt,GE(yt.value.mapValue),ti.exists(!0)))}return _.mutationQueue.addMutationBatch(F,y,ot,p)})).next((W=>{M=W;const ot=W.applyToLocalDocumentSet(S,Z);return _.documentOverlayCache.saveOverlays(F,W.batchId,ot)}))})).then((()=>({batchId:M.batchId,changes:nT(S)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.du[d.currentUser.toKey()];y||(y=new ue(Ot)),y=y.insert(p,_),d.du[d.currentUser.toKey()]=y})(s,l.batchId,i),await su(s,l.changes),await Mh(s.remoteStore)}catch(l){const c=op(l,"Failed to persist write");i.reject(c)}}async function jT(r,t){const i=At(r);try{const s=await MI(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Ft(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ft(d.hu,14607):l.removedDocuments.size>0&&(Ft(d.hu,42227),d.hu=!1))})),await su(i,s,t)}catch(s){await go(s)}}function p0(r,t,i){const s=At(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=At(d);_.onlineState=p;let y=!1;_.queries.forEach(((A,S)=>{for(const M of S.ba)M.va(p)&&(y=!0)})),y&&lp(_)})(s.eventManager,t),l.length&&s.Pu.J_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function AN(r,t,i){const s=At(r);s.sharedClientState.updateQueryState(t,"rejected",i);const l=s.Au.get(t),c=l&&l.key;if(c){let d=new ue(ht.comparator);d=d.insert(c,Je.newNoDocument(c,vt.min()));const p=Mt().add(c),_=new xh(vt.min(),new Map,new ue(Ot),d,p);await jT(s,_),s.Ru=s.Ru.remove(c),s.Au.delete(t),cp(s)}else await Tm(s.localStore,t,!1).then((()=>bm(s,t,i))).catch(go)}async function SN(r,t){const i=At(r),s=t.batch.batchId;try{const l=await OI(i.localStore,t);qT(i,s,null),BT(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await su(i,l)}catch(l){await go(l)}}async function bN(r,t,i){const s=At(r);try{const l=await(function(d,p){const _=At(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return _.mutationQueue.lookupMutationBatch(y,p).next((S=>(Ft(S!==null,37113),A=S.keys(),_.mutationQueue.removeMutationBatch(y,S)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,A,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>_.localDocuments.getDocuments(y,A)))}))})(s.localStore,t);qT(s,t,i),BT(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await su(s,l)}catch(l){await go(l)}}function BT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function qT(r,t,i){const s=At(r);let l=s.du[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),s.du[s.currentUser.toKey()]=l}}function bm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(t),r.isPrimaryClient&&r.Vu.Gr(t).forEach((s=>{r.Vu.containsKey(s)||HT(r,s)}))}function HT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.Ru.get(t);i!==null&&(np(r.remoteStore,i),r.Ru=r.Ru.remove(t),r.Au.delete(i),cp(r))}function g0(r,t,i){for(const s of i)s instanceof UT?(r.Vu.addReference(s.key,t),wN(r,s)):s instanceof PT?(st(up,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,t),r.Vu.containsKey(s.key)||HT(r,s.key)):pt(19791,{wu:s})}function wN(r,t){const i=t.key,s=i.path.canonicalString();r.Ru.get(i)||r.Eu.has(s)||(st(up,"New document in limbo: "+i),r.Eu.add(s),cp(r))}function cp(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new ht(ee.fromString(t)),s=r.fu.next();r.Au.set(s,new mN(i)),r.Ru=r.Ru.insert(i,s),IT(r.remoteStore,new Yr(Di(wh(i.path)),s,"TargetPurposeLimboResolution",Ah.ce))}}async function su(r,t,i){const s=At(r),l=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,_)=>{d.push(s.pu(_,t,i).then((y=>{if((y||i)&&s.isPrimaryClient){const A=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;s.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(y){l.push(y);const A=tp.Es(_.targetId,y);c.push(A)}})))})),await Promise.all(d),s.Pu.J_(l),await(async function(_,y){const A=At(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>$.forEach(y,(M=>$.forEach(M.Ts,(F=>A.persistence.referenceDelegate.addReference(S,M.targetId,F))).next((()=>$.forEach(M.Is,(F=>A.persistence.referenceDelegate.removeReference(S,M.targetId,F)))))))))}catch(S){if(!yo(S))throw S;st(ep,"Failed to update sequence numbers: "+S)}for(const S of y){const M=S.targetId;if(!S.fromCache){const F=A.vs.get(M),et=F.snapshotVersion,Z=F.withLastLimboFreeSnapshotVersion(et);A.vs=A.vs.insert(M,Z)}}})(s.localStore,c))}async function RN(r,t){const i=At(r);if(!i.currentUser.isEqual(t)){st(up,"User change. New user:",t.toKey());const s=await bT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new rt(X.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await su(i,s.Ns)}}function CN(r,t){const i=At(r),s=i.Au.get(t);if(s&&s.hu)return Mt().add(s.key);{let l=Mt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function FT(r){const t=At(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=jT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=CN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=AN.bind(null,t),t.Pu.J_=cN.bind(null,t.eventManager),t.Pu.yu=hN.bind(null,t.eventManager),t}function IN(r){const t=At(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=SN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=bN.bind(null,t),t}class mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Dh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return DI(this.persistence,new II,t.initialUser,this.serializer)}Cu(t){return new ST(Wm.Vi,this.serializer)}Du(t){return new PI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mh.provider={build:()=>new mh};class NN extends mh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ft(this.persistence.referenceDelegate instanceof fh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new dI(s,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new ST((s=>fh.Vi(s,i)),this.serializer)}}class wm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>p0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=RN.bind(null,this.syncEngine),await oN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new uN})()}createDatastore(t){const i=Dh(t.databaseInfo.databaseId),s=HI(t.databaseInfo);return YI(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return(function(s,l,c,d,p){return new $I(s,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>p0(this.syncEngine,i,0)),(function(){return u0.v()?new u0:new zI})())}createSyncEngine(t,i){return(function(l,c,d,p,_,y,A){const S=new pN(l,c,d,p,_,y);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=At(i);st(Qs,"RemoteStore shutting down."),s.Ea.add(5),await ru(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}wm.provider={build:()=>new wm};class GT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):sr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const as="FirestoreClient";class xN{constructor(t,i,s,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this._databaseInfo=l,this.user=$e.UNAUTHENTICATED,this.clientId=Bm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{st(as,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(st(as,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=op(i,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Jd(r,t){r.asyncQueue.verifyOperationInProgress(),st(as,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await bT(t.localStore,l),s=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function y0(r,t){r.asyncQueue.verifyOperationInProgress();const i=await DN(r);st(as,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((s=>h0(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>h0(t.remoteStore,l))),r._onlineComponents=t}async function DN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){st(as,"Using user provided OfflineComponentProvider");try{await Jd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;ro("Error using user provided cache. Falling back to memory cache: "+i),await Jd(r,new mh)}}else st(as,"Using default OfflineComponentProvider"),await Jd(r,new NN(void 0));return r._offlineComponents}async function KT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(st(as,"Using user provided OnlineComponentProvider"),await y0(r,r._uninitializedComponentsProvider._online)):(st(as,"Using default OnlineComponentProvider"),await y0(r,new wm))),r._onlineComponents}function ON(r){return KT(r).then((t=>t.syncEngine))}async function Rm(r){const t=await KT(r),i=t.eventManager;return i.onListen=gN.bind(null,t.syncEngine),i.onUnlisten=vN.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=yN.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=EN.bind(null,t.syncEngine),i}function MN(r,t,i,s){const l=new GT(s),c=new LT(t,l,i);return r.asyncQueue.enqueueAndForget((async()=>VT(await Rm(r),c))),()=>{l.Nu(),r.asyncQueue.enqueueAndForget((async()=>kT(await Rm(r),c)))}}function VN(r,t,i={}){const s=new Wr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const A=new GT({next:M=>{A.Nu(),d.enqueueAndForget((()=>kT(c,S)));const F=M.docs.has(p);!F&&M.fromCache?y.reject(new rt(X.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&M.fromCache&&_&&_.source==="server"?y.reject(new rt(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(M)},error:M=>y.reject(M)}),S=new LT(wh(p.path),A,{includeMetadataChanges:!0,Ka:!0});return VT(c,S)})(await Rm(r),r.asyncQueue,t,i,s))),s.promise}function kN(r,t){const i=new Wr;return r.asyncQueue.enqueueAndForget((async()=>TN(await ON(r),t,i))),i.promise}function QT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const LN="ComponentProvider",_0=new Map;function UN(r,t,i,s,l){return new iC(r,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,QT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,s)}const YT="firestore.googleapis.com",v0=!0;class E0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new rt(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=YT,this.ssl=v0}else this.host=t.host,this.ssl=t.ssl??v0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=AT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<hI)throw new rt(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}K2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QT(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new rt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new rt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new rt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Vh{constructor(t,i,s,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new E0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new rt(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new E0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new L2;switch(s.type){case"firstParty":return new j2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new rt(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=_0.get(i);s&&(st(LN,"Removing Datastore"),_0.delete(i),s.terminate())})(this),Promise.resolve()}}function PN(r,t,i,s={}){r=xi(r,Vh);const l=co(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(U0(`https://${p}`),P0("Firestore",!0)),c.host!==YT&&c.host!==p&&ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:s};if(!Hs(_,d)&&(r._setSettings(_),s.mockUserToken)){let y,A;if(typeof s.mockUserToken=="string")y=s.mockUserToken,A=$e.MOCK_USER;else{y=HS(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new rt(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new $e(S)}r._authCredentials=new U2(new ME(y,A))}}class vo{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new vo(this.firestore,t,this._query)}}class ye{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ye(this.firestore,t,this._key)}toJSON(){return{type:ye._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,s){if(tu(i,ye._jsonSchema))return new ye(t,s||null,new ht(ee.fromString(i.referencePath)))}}ye._jsonSchemaVersion="firestore/documentReference/1.0",ye._jsonSchema={type:Ne("string",ye._jsonSchemaVersion),referencePath:Ne("string")};class ts extends vo{constructor(t,i,s){super(t,i,wh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ye(this.firestore,null,new ht(t))}withConverter(t){return new ts(this.firestore,t,this._path)}}function Cm(r,t,...i){if(r=We(r),VE("collection","path",t),r instanceof Vh){const s=ee.fromString(t,...i);return Mv(s),new ts(r,null,s)}{if(!(r instanceof ye||r instanceof ts))throw new rt(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(t,...i));return Mv(s),new ts(r.firestore,null,s)}}function ph(r,t,...i){if(r=We(r),arguments.length===1&&(t=Bm.newId()),VE("doc","path",t),r instanceof Vh){const s=ee.fromString(t,...i);return Ov(s),new ye(r,null,new ht(s))}{if(!(r instanceof ye||r instanceof ts))throw new rt(X.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(t,...i));return Ov(s),new ye(r.firestore,r instanceof ts?r.converter:null,new ht(s))}}const T0="AsyncQueue";class A0{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new RT(this,"async_queue_retry"),this._c=()=>{const s=$d();s&&st(T0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const i=$d();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=$d();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Wr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!yo(t))throw t;st(T0,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,sr("INTERNAL UNHANDLED ERROR: ",S0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(t,i,s){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=ap.createAndSchedule(this,t,i,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&pt(47125,{Pc:S0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function S0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Ys extends Vh{constructor(t,i,s,l){super(t,i,s,l),this.type="firestore",this._queue=new A0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new A0(t),this._firestoreClient=void 0,await t}}}function zN(r,t){const i=typeof r=="object"?r:q0(),s=typeof r=="string"?r:ah,l=Dm(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=BS("firestore");c&&PN(l,...c)}return l}function hp(r){if(r._terminated)throw new rt(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||jN(r),r._firestoreClient}function jN(r){const t=r._freezeSettings(),i=UN(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new xN(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Un{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Un(Qe.fromBase64String(t))}catch(i){throw new rt(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Un(Qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(tu(t,Un._jsonSchema))return Un.fromBase64String(t.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:Ne("string",Un._jsonSchemaVersion),bytes:Ne("string")};class XT{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new rt(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ke(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class fp{constructor(t){this._methodName=t}}class Mi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new rt(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new rt(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ot(this._lat,t._lat)||Ot(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mi._jsonSchemaVersion}}static fromJSON(t){if(tu(t,Mi._jsonSchema))return new Mi(t.latitude,t.longitude)}}Mi._jsonSchemaVersion="firestore/geoPoint/1.0",Mi._jsonSchema={type:Ne("string",Mi._jsonSchemaVersion),latitude:Ne("number"),longitude:Ne("number")};class ei{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ei._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(tu(t,ei._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new ei(t.vectorValues);throw new rt(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ei._jsonSchemaVersion="firestore/vectorValue/1.0",ei._jsonSchema={type:Ne("string",ei._jsonSchemaVersion),vectorValues:Ne("object")};const BN=/^__.*__$/;class qN{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new Js(t,this.data,this.fieldMask,i,this.fieldTransforms):new nu(t,this.data,i,this.fieldTransforms)}}function $T(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{dataSource:r})}}class dp{constructor(t,i,s,l,c,d){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new dp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),s=this.contextWith({path:i,arrayElement:!1});return s.validatePathSegment(t),s}childContextForFieldPath(t){const i=this.path?.child(t),s=this.contextWith({path:i,arrayElement:!1});return s.validatePath(),s}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return gh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if($T(this.dataSource)&&BN.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class HN{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||Dh(t)}createContext(t,i,s,l=!1){return new dp({dataSource:t,methodName:i,targetDoc:s,path:Ke.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mp(r){const t=r._freezeSettings(),i=Dh(r._databaseId);return new HN(r._databaseId,!!t.ignoreUndefinedProperties,i)}function JT(r,t,i,s,l,c={}){const d=r.createContext(c.merge||c.mergeFields?2:0,t,i,l);t1("Data must be an object, but it was:",d,s);const p=ZT(s,d);let _,y;if(c.merge)_=new Jn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const S of c.mergeFields){const M=yp(t,S,i);if(!d.contains(M))throw new rt(X.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);QN(A,M)||A.push(M)}_=new Jn(A),y=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,y=d.fieldTransforms;return new qN(new Ln(p),_,y)}class pp extends fp{_toFieldTransform(t){return new DC(t.path,new Kl)}isEqual(t){return t instanceof pp}}function FN(r,t,i,s=!1){return gp(i,r.createContext(s?4:3,t))}function gp(r,t){if(WT(r=We(r)))return t1("Unsupported field value:",t,r),ZT(r,t);if(r instanceof fp)return(function(s,l){if(!$T(l.dataSource))throw l.createError(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(s,l){const c=[];let d=0;for(const p of s){let _=gp(p,l.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(r,t)}return(function(s,l){if((s=We(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return IC(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=re.fromDate(s);return{timestampValue:hh(l.serializer,c)}}if(s instanceof re){const c=new re(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:hh(l.serializer,c)}}if(s instanceof Mi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Un)return{bytesValue:mT(l.serializer,s._byteString)};if(s instanceof ye){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Jm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof ei)return(function(d,p){const _=d instanceof ei?d.toArray():d;return{mapValue:{fields:{[HE]:{stringValue:FE},[oh]:{arrayValue:{values:_.map((A=>{if(typeof A!="number")throw p.createError("VectorValues must only contain numeric values.");return Qm(p.serializer,A)}))}}}}}})(s,l);if(TT(s))return s._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Th(s)}`)})(r,t)}function ZT(r,t){const i={};return UE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Xs(r,((s,l)=>{const c=gp(l,t.childContextForField(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function WT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof re||r instanceof Mi||r instanceof Un||r instanceof ye||r instanceof fp||r instanceof ei||TT(r))}function t1(r,t,i){if(!WT(i)||!kE(i)){const s=Th(i);throw s==="an object"?t.createError(r+" a custom object"):t.createError(r+" "+s)}}function yp(r,t,i){if((t=We(t))instanceof XT)return t._internalPath;if(typeof t=="string")return KN(r,t);throw gh("Field path arguments must be of type string or ",r,!1,void 0,i)}const GN=new RegExp("[~\\*/\\[\\]]");function KN(r,t,i){if(t.search(GN)>=0)throw gh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new XT(...t.split("."))._internalPath}catch{throw gh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function gh(r,t,i,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${s}`),d&&(_+=` in document ${l}`),_+=")"),new rt(X.INVALID_ARGUMENT,p+r+_)}function QN(r,t){return r.some((i=>i.isEqual(t)))}class YN{convertValue(t,i="none"){switch(rs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(is(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw pt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return Xs(t,((l,c)=>{s[l]=this.convertValue(c,i)})),s}convertVectorValue(t){const i=t.fields?.[oh].arrayValue?.values?.map((s=>ge(s.doubleValue)));return new ei(i)}convertGeoPoint(t){return new Mi(ge(t.latitude),ge(t.longitude))}convertArray(t,i){return(t.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const s=bh(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Hl(t));default:return null}}convertTimestamp(t){const i=ns(t);return new re(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=ee.fromString(t);Ft(ET(s),9688,{name:t});const l=new Fl(s.get(1),s.get(3)),c=new ht(s.popFirst(5));return l.isEqual(i)||sr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class e1 extends YN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Un(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new ye(this.firestore,null,i)}}function n1(){return new pp("serverTimestamp")}const b0="@firebase/firestore",w0="4.10.0";function R0(r){return(function(i,s){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class i1{constructor(t,i,s,l,c){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ye(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new XN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(yp("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class XN extends i1{data(){return super.data()}}function $N(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new rt(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _p{}class JN extends _p{}function ZN(r,t,...i){let s=[];t instanceof _p&&s.push(t),s=s.concat(i),(function(c){const d=c.filter((_=>_ instanceof Ep)).length,p=c.filter((_=>_ instanceof vp)).length;if(d>1||d>0&&p>0)throw new rt(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class vp extends JN{constructor(t,i,s){super(),this._field=t,this._op=i,this._value=s,this.type="where"}static _create(t,i,s){return new vp(t,i,s)}_apply(t){const i=this._parse(t);return r1(t._query,i),new vo(t.firestore,t.converter,pm(t._query,i))}_parse(t){const i=mp(t.firestore);return(function(c,d,p,_,y,A,S){let M;if(y.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new rt(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){I0(S,A);const et=[];for(const Z of S)et.push(C0(_,c,Z));M={arrayValue:{values:et}}}else M=C0(_,c,S)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||I0(S,A),M=FN(p,d,S,A==="in"||A==="not-in");return Ie.create(y,A,M)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class Ep extends _p{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Ep(t,i)}_parse(t){const i=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:ii.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const _ of p)r1(d,_),d=pm(d,_)})(t._query,i),new vo(t.firestore,t.converter,pm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function C0(r,t,i){if(typeof(i=We(i))=="string"){if(i==="")throw new rt(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ZE(t)&&i.indexOf("/")!==-1)throw new rt(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=t.path.child(ee.fromString(i));if(!ht.isDocumentKey(s))throw new rt(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Bv(r,new ht(s))}if(i instanceof ye)return Bv(r,i._key);throw new rt(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Th(i)}.`)}function I0(r,t){if(!Array.isArray(r)||r.length===0)throw new rt(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function r1(r,t){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new rt(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new rt(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}function s1(r,t,i){let s;return s=r?i&&(i.merge||i.mergeFields)?r.toFirestore(t,i):r.toFirestore(t):t,s}class Ol{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class qs extends i1{constructor(t,i,s,l,c,d){super(t,i,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new $c(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(yp("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=qs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}qs._jsonSchemaVersion="firestore/documentSnapshot/1.0",qs._jsonSchema={type:Ne("string",qs._jsonSchemaVersion),bundleSource:Ne("string","DocumentSnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class $c extends qs{data(t={}){return super.data(t)}}class eo{constructor(t,i,s,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Ol(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((s=>{t.call(i,new $c(this._firestore,this._userDataWriter,s.key,s,new Ol(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new rt(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new $c(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Ol(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new $c(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Ol(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,A=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:WN(p.type),doc:_,oldIndex:y,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=eo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Bm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function WN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:r})}}eo._jsonSchemaVersion="firestore/querySnapshot/1.0",eo._jsonSchema={type:Ne("string",eo._jsonSchemaVersion),bundleSource:Ne("string","QuerySnapshot"),bundleName:Ne("string"),bundle:Ne("string")};function tx(r){r=xi(r,ye);const t=xi(r.firestore,Ys),i=hp(t);return VN(i,r._key).then((s=>o1(t,r,s)))}function ex(r,t,i){r=xi(r,ye);const s=xi(r.firestore,Ys),l=s1(r.converter,t,i),c=mp(s);return Tp(s,[JT(c,"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,ti.none())])}function nx(r){return Tp(xi(r.firestore,Ys),[new Ym(r._key,ti.none())])}function a1(r,t){const i=xi(r.firestore,Ys),s=ph(r),l=s1(r.converter,t),c=mp(r.firestore);return Tp(i,[JT(c,"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,ti.exists(!1))]).then((()=>s))}function ix(r,...t){r=We(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||R0(t[s])||(i=t[s++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(R0(t[s])){const y=t[s];t[s]=y.next?.bind(y),t[s+1]=y.error?.bind(y),t[s+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof ye)d=xi(r.firestore,Ys),p=wh(r._key.path),c={next:y=>{t[s]&&t[s](o1(d,r,y))},error:t[s+1],complete:t[s+2]};else{const y=xi(r,vo);d=xi(y.firestore,Ys),p=y._query;const A=new e1(d);c={next:S=>{t[s]&&t[s](new eo(d,A,y,S))},error:t[s+1],complete:t[s+2]},$N(r._query)}const _=hp(d);return MN(_,p,l,c)}function Tp(r,t){const i=hp(r);return kN(i,t)}function o1(r,t,i){const s=i.docs.get(t._key),l=new e1(r);return new qs(r,l,t._key,s,new Ol(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){k2(ho),io(new Fs("firestore",((s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),p=new Ys(new P2(s.getProvider("auth-internal")),new B2(d,s.getProvider("app-check-internal")),rC(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Jr(b0,w0,t),Jr(b0,w0,"esm2020")})();const J={colors:{cream:"#F9F5EB",paper:"#EBE5CE",leather:"#5D4037",gold:"#C5A059",burgundy:"#722F37",charcoal:"#1A1A1A"},fonts:{heading:'"Playfair Display", serif',body:'"Lora", serif'}},l1={apiKey:"AIzaSyDIsIkhOD4YL2eIZb2JlD1mY5o0cZ2FfJ0",authDomain:"velocity-e0988.firebaseapp.com",projectId:"velocity-e0988",storageBucket:"velocity-e0988.firebasestorage.app",messagingSenderId:"700489495937",appId:"1:700489495937:web:50981a403ab5834931e480"};l1.apiKey||console.warn("Firebase config not found in environment.");const u1=B0(l1),no=M2(u1),Ya=zN(u1),Xa=typeof __app_id<"u"?__app_id:"default-app-id",rx="admin@prestige.com",Ci=r=>r&&r.email===rx,sx=`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E")`,ax=[{year:1967,make:"Ford",model:"Mustang Shelby GT500",price:185e3,category:"Muscle",description:"A pristine example of American muscle history. Wimbledon White with Guardsman Blue stripes. Fully restored to concours condition by marque specialists.",imageUrl:"https://images.unsplash.com/photo-1552519507-da3b142c6e3d?auto=format&fit=crop&q=80&w=800"},{year:1955,make:"Mercedes-Benz",model:"300 SL Gullwing",price:145e4,category:"Sports",description:"The iconic Gullwing. Silver metallic paint with original red leather interior. Matching numbers engine and chassis. A true investment grade vehicle.",imageUrl:"https://images.unsplash.com/photo-1566008872470-dc628f5d450f?auto=format&fit=crop&q=80&w=800"},{year:1961,make:"Jaguar",model:"E-Type Series 1",price:225e3,category:"Convertible",description:"Enzo Ferrari called it 'the most beautiful car ever made'. Finished in British Racing Green with tan hide. Includes original tool roll and heritage certificate.",imageUrl:"https://images.unsplash.com/photo-1563720223185-11003d516935?auto=format&fit=crop&q=80&w=800"}],ox=()=>b.jsx("div",{className:"fixed inset-0 pointer-events-none z-[100] mix-blend-multiply opacity-40",style:{backgroundImage:sx}}),c1=()=>b.jsxs("div",{className:"flex items-center justify-center my-16 opacity-40",children:[b.jsx("div",{className:"h-px w-24 bg-current",style:{color:J.colors.gold}}),b.jsx("div",{className:"mx-4 text-2xl",style:{color:J.colors.gold},children:""}),b.jsx("div",{className:"h-px w-24 bg-current",style:{color:J.colors.gold}})]}),Zn=({children:r,onClick:t,variant:i="primary",className:s="",type:l="button",disabled:c=!1})=>{const d="px-8 py-3 transition-all duration-500 font-serif tracking-[0.15em] disabled:opacity-50 disabled:cursor-not-allowed text-sm relative overflow-hidden group",p={primary:`bg-[${J.colors.burgundy}] text-[${J.colors.cream}] border border-[${J.colors.burgundy}] hover:bg-[${J.colors.charcoal}] hover:border-[${J.colors.charcoal}] uppercase shadow-md`,outline:`bg-transparent text-[${J.colors.leather}] border border-[${J.colors.leather}] hover:bg-[${J.colors.leather}] hover:text-[${J.colors.cream}] uppercase`,text:`text-[${J.colors.leather}] hover:text-[${J.colors.burgundy}] underline decoration-[${J.colors.gold}] decoration-1 underline-offset-8 uppercase text-xs`};return b.jsx("button",{type:l,onClick:t,disabled:c,className:`${d} ${p[i]} ${s}`,style:{fontFamily:J.fonts.heading},children:b.jsx("span",{className:"relative z-10",children:r})})},js=({label:r,type:t="text",value:i,onChange:s,placeholder:l,required:c=!1})=>b.jsxs("div",{className:"mb-6 group",children:[b.jsx("label",{className:"block text-xs font-bold mb-2 uppercase tracking-[0.2em]",style:{color:J.colors.leather,fontFamily:J.fonts.heading},children:r}),b.jsx("input",{type:t,value:i,onChange:s,placeholder:l,required:c,className:"w-full px-4 py-3 bg-[#FDFBF7] border focus:outline-none transition-all duration-300",style:{borderColor:J.colors.paper,fontFamily:J.fonts.body,color:J.colors.charcoal}}),b.jsx("div",{className:"h-0.5 bg-[${THEME.colors.gold}] w-0 group-hover:w-full transition-all duration-500 ease-out",style:{backgroundColor:J.colors.gold}})]}),lx=({user:r,setView:t,view:i,isTransparent:s})=>{const[l,c]=Ht.useState(!1),[d,p]=Ht.useState(!1),[_,y]=Ht.useState({left:0,width:0,opacity:0}),A=Ht.useRef({}),S=[{id:"inventory",label:"Collection"},...r&&!Ci(r)?[{id:"favorites",label:"My Garage"}]:[],{id:"home",label:"Services"},...Ci(r)?[{id:"add-car",label:"Consign"}]:[]];Ht.useEffect(()=>{const Et=()=>p(window.scrollY>50);return window.addEventListener("scroll",Et),()=>window.removeEventListener("scroll",Et)},[]),Ht.useEffect(()=>{const Et=A.current[i];y(Et?{left:Et.offsetLeft,width:Et.offsetWidth,opacity:1}:te=>({...te,opacity:0}))},[i,r]);const M=async()=>{try{await AR(no),t("home")}catch(Et){console.error("Error signing out:",Et)}},F=!s||d,et={backgroundColor:F?J.colors.cream:"rgba(0,0,0,0.2)",borderBottom:F?`1px solid ${J.colors.gold}`:"none",backdropFilter:F?"none":"blur(2px)",transition:"all 0.5s ease"},Z=F?J.colors.leather:"#F9F5EB",W=F?J.colors.charcoal:"#FFFFFF",ot=F?J.colors.burgundy:"#C5A059",gt=F?"border-gray-300":"border-white/30",yt=F?J.colors.burgundy:"#C5A059";return b.jsxs("nav",{className:`w-full py-6 px-6 md:px-12 fixed top-0 z-50 ${F?"shadow-md py-4":""}`,style:et,children:[b.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[b.jsxs("div",{onClick:()=>t("home"),className:"cursor-pointer group flex flex-col items-center",children:[b.jsx("h1",{className:"text-2xl md:text-3xl font-bold tracking-[0.2em] uppercase transition-colors duration-500",style:{fontFamily:J.fonts.heading,color:W},children:"Prestige"}),b.jsx("span",{className:"text-xs tracking-[0.6em] uppercase mt-1 transition-colors duration-500",style:{color:ot,fontFamily:J.fonts.heading},children:"Automobiles"})]}),b.jsxs("div",{className:"hidden md:flex items-center gap-12 relative",children:[S.map(Et=>b.jsx("button",{ref:te=>A.current[Et.id]=te,onClick:()=>t(Et.id),className:"text-sm tracking-widest uppercase transition-colors duration-300 py-2",style:{fontFamily:J.fonts.heading,color:i===Et.id?F?J.colors.burgundy:"#C5A059":Z},children:Et.label},Et.id)),b.jsx("div",{className:"absolute bottom-0 h-[2px] transition-all duration-500 ease-out pointer-events-none",style:{left:_.left,width:_.width,opacity:_.opacity,backgroundColor:yt}}),r?b.jsx("div",{className:`flex items-center gap-4 border-l pl-8 ${gt}`,children:b.jsx(Zn,{variant:"primary",onClick:M,className:"text-xs py-2 px-6",children:"Logout"})}):b.jsx("div",{className:`flex items-center gap-4 border-l pl-8 ${gt}`,children:b.jsx(Zn,{variant:"primary",onClick:()=>t("login"),className:"text-xs py-2 px-6",children:"Login"})})]}),b.jsx("button",{onClick:()=>c(!l),className:"md:hidden text-2xl",style:{color:Z},children:l?b.jsx(OS,{}):b.jsx(RS,{})})]}),l&&b.jsx("div",{className:"md:hidden absolute top-full left-0 w-full h-screen py-12 shadow-xl",style:{backgroundColor:J.colors.cream},children:b.jsxs("div",{className:"flex flex-col items-center space-y-8",children:[b.jsx("button",{onClick:()=>{t("inventory"),c(!1)},className:"text-xl font-serif",style:{color:J.colors.leather},children:"The Collection"}),b.jsx("button",{onClick:()=>{t("home"),c(!1)},className:"text-xl font-serif",style:{color:J.colors.leather},children:"Our Services"}),r?b.jsxs(b.Fragment,{children:[Ci(r)&&b.jsx("button",{onClick:()=>{t("add-car"),c(!1)},className:"text-xl font-serif",style:{color:J.colors.leather},children:"Consign Vehicle"}),b.jsx(Zn,{variant:"primary",onClick:()=>{M(),c(!1)},children:"Log Out"})]}):b.jsx(Zn,{variant:"outline",onClick:()=>{t("login"),c(!1)},children:"Login"})]})})]})},Zd=({type:r,setView:t})=>{const[i,s]=Ht.useState(""),[l,c]=Ht.useState(""),[d,p]=Ht.useState(""),[_,y]=Ht.useState(!1),A=async S=>{S.preventDefault(),p(""),y(!0);try{r==="login"?await _R(no,i,l):await yR(no,i,l),t("inventory")}catch(M){p(M.message.replace("Firebase: ",""))}finally{y(!1)}};return b.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 pt-32 md:pt-40",children:b.jsxs("div",{className:"w-full max-w-md p-12 relative bg-white shadow-2xl border border-stone-200",children:[b.jsx("div",{className:"absolute top-4 left-4 right-4 bottom-4 border pointer-events-none opacity-30",style:{borderColor:J.colors.gold}}),b.jsxs("div",{className:"text-center mb-10",children:[b.jsx("div",{className:"inline-block p-3 rounded-full mb-4",style:{backgroundColor:J.colors.cream},children:b.jsx(x0,{size:32,color:J.colors.leather,strokeWidth:1.5})}),b.jsx("h2",{className:"text-3xl font-bold uppercase tracking-widest",style:{color:J.colors.charcoal,fontFamily:J.fonts.heading},children:r==="login"?"Concierge":"Registry"}),b.jsx("p",{className:"mt-2 text-sm italic opacity-60",style:{fontFamily:J.fonts.body},children:"Authorized Personnel Only"})]}),d&&b.jsx("div",{className:"mb-6 p-4 text-sm text-center text-red-900 bg-red-50 border border-red-100 font-serif",children:d}),b.jsxs("form",{onSubmit:A,className:"space-y-6",children:[b.jsx(js,{label:"Identity",type:"email",value:i,onChange:S=>s(S.target.value),required:!0}),b.jsx(js,{label:"Passkey",type:"password",value:l,onChange:S=>c(S.target.value),required:!0}),b.jsx("div",{className:"mt-10 pt-6 border-t border-dashed border-gray-300",children:b.jsx(Zn,{type:"submit",variant:"primary",className:"w-full",disabled:_,children:_?"Authenticating...":r==="login"?"Access Portal":"Submit Application"})})]}),b.jsx("div",{className:"mt-8 text-center",children:b.jsx("button",{onClick:()=>t(r==="login"?"signup":"login"),className:"text-xs uppercase tracking-widest hover:text-[${THEME.colors.burgundy}] transition-colors",style:{color:J.colors.leather,fontFamily:J.fonts.heading},children:r==="login"?"Request Membership":"Return to Login"})})]})})},ux=({setView:r})=>{const[t,i]=Ht.useState({make:"",model:"",year:"",price:"",category:"Classic",description:"",imageUrl:""}),[s,l]=Ht.useState(!1),c=async d=>{d.preventDefault(),l(!0);try{const p=Cm(Ya,"artifacts",Xa,"public","data","inventory");await a1(p,{...t,price:Number(t.price),year:Number(t.year),createdAt:n1()}),r("inventory")}catch(p){console.error("Error adding car:",p)}finally{l(!1)}};return b.jsx("div",{className:"min-h-screen pt-32 md:pt-40 pb-12 px-4",children:b.jsxs("div",{className:"max-w-3xl mx-auto p-12 bg-white shadow-xl relative border border-stone-200",children:[b.jsxs("div",{className:"text-center mb-12",children:[b.jsx("h2",{className:"text-4xl font-bold mb-2 uppercase tracking-widest",style:{fontFamily:J.fonts.heading,color:J.colors.charcoal},children:"Vehicle Consignment"}),b.jsx("div",{className:"h-1 w-24 mx-auto",style:{backgroundColor:J.colors.gold}})]}),b.jsxs("form",{onSubmit:c,className:"space-y-6",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[b.jsx(js,{label:"Marque (Make)",value:t.make,onChange:d=>i({...t,make:d.target.value}),required:!0,placeholder:"e.g. Rolls-Royce"}),b.jsx(js,{label:"Model Designation",value:t.model,onChange:d=>i({...t,model:d.target.value}),required:!0,placeholder:"e.g. Silver Ghost"})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[b.jsx(js,{label:"Model Year",type:"number",value:t.year,onChange:d=>i({...t,year:d.target.value}),required:!0,placeholder:"1925"}),b.jsx(js,{label:"Valuation ($)",type:"number",value:t.price,onChange:d=>i({...t,price:d.target.value}),required:!0,placeholder:"450000"}),b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{className:"block text-xs font-bold mb-2 uppercase tracking-[0.2em]",style:{color:J.colors.leather,fontFamily:J.fonts.heading},children:"Classification"}),b.jsxs("select",{value:t.category,onChange:d=>i({...t,category:d.target.value}),className:"w-full px-4 py-3 bg-[#FDFBF7] border focus:outline-none",style:{borderColor:J.colors.paper,fontFamily:J.fonts.body,color:J.colors.charcoal},children:[b.jsx("option",{children:"Classic"}),b.jsx("option",{children:"Muscle"}),b.jsx("option",{children:"Sports"}),b.jsx("option",{children:"Pre-War"}),b.jsx("option",{children:"Luxury"}),b.jsx("option",{children:"Convertible"})]})]})]}),b.jsx(js,{label:"Photograph URL",value:t.imageUrl,onChange:d=>i({...t,imageUrl:d.target.value}),placeholder:"https://..."}),b.jsxs("div",{className:"mb-8",children:[b.jsx("label",{className:"block text-xs font-bold mb-2 uppercase tracking-[0.2em]",style:{color:J.colors.leather,fontFamily:J.fonts.heading},children:"Provenance & Details"}),b.jsx("textarea",{value:t.description,onChange:d=>i({...t,description:d.target.value}),className:"w-full px-4 py-3 bg-[#FDFBF7] border focus:outline-none h-40 resize-none leading-relaxed",style:{borderColor:J.colors.paper,fontFamily:J.fonts.body,color:J.colors.charcoal},placeholder:"Describe the vehicle's history, condition, and notable features..."})]}),b.jsxs("div",{className:"flex justify-between items-center pt-8 border-t border-stone-100",children:[b.jsx(Zn,{variant:"text",onClick:()=>r("inventory"),children:"Cancel Request"}),b.jsx(Zn,{type:"submit",variant:"primary",disabled:s,children:s?"Processing...":"Submit to Catalog"})]})]})]})})},cx=({car:r,user:t,isFavorite:i,toggleFavorite:s})=>{const l=async c=>{if(c.stopPropagation(),!(!t||!r.id)&&confirm("Permanently remove this vehicle from the archives?"))try{await nx(ph(Ya,"artifacts",Xa,"public","data","inventory",r.id))}catch(d){console.error("Error deleting",d)}};return b.jsxs("div",{className:"group bg-white shadow-xl transition-all duration-500 hover:shadow-2xl border border-stone-200 hover:border-stone-300",children:[b.jsxs("div",{className:"relative h-72 overflow-hidden border-b-4",style:{borderColor:J.colors.gold},children:[b.jsx("img",{src:r.imageUrl||"https://via.placeholder.com/800x600?text=No+Image+Available",alt:`${r.make} ${r.model}`,className:"w-full h-full object-cover transition-transform duration-1000 ease-in-out group-hover:scale-110 filter sepia-[0.15] group-hover:sepia-0",onError:c=>{c.target.src="https://placehold.co/800x600/5D4037/C5A059?text=Prestige+Classics"}}),b.jsx("div",{className:"absolute inset-0 bg-black/10 group-hover:bg-transparent transition-colors duration-500"}),b.jsx("div",{className:"absolute top-0 right-0 px-6 py-2 shadow-lg z-10",style:{backgroundColor:J.colors.cream},children:b.jsx("span",{className:"text-sm font-bold tracking-widest",style:{color:J.colors.charcoal,fontFamily:J.fonts.heading},children:r.price?.toLocaleString("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0})})}),!Ci(t)&&b.jsx("button",{onClick:c=>{c.stopPropagation(),s(r.id)},className:"absolute bottom-4 right-4 p-3 rounded-full bg-white/90 shadow-lg hover:bg-white transition-all transform hover:scale-110 z-20",children:b.jsx(_S,{size:18,className:`transition-colors duration-300 ${i?"fill-[#722F37] text-[#722F37]":"text-[#1A1A1A]"}`})}),Ci(t)&&b.jsx("button",{onClick:l,className:"absolute top-4 left-4 bg-white/90 text-red-900 p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity shadow-lg",children:b.jsx(ES,{size:16})})]}),b.jsxs("div",{className:"p-8 relative bg-white",children:[b.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white px-4 py-1 border border-stone-200 shadow-sm text-[10px] uppercase tracking-[0.2em]",style:{color:J.colors.gold,fontFamily:J.fonts.heading},children:r.category}),b.jsxs("div",{className:"text-center mb-6",children:[b.jsx("h3",{className:"text-2xl font-bold mb-1 tracking-wide",style:{fontFamily:J.fonts.heading,color:J.colors.charcoal},children:r.make}),b.jsxs("p",{className:"text-sm uppercase tracking-[0.2em] mb-4",style:{color:J.colors.leather,fontFamily:J.fonts.heading},children:[r.year,"  ",r.model]}),b.jsx("div",{className:"h-px w-12 bg-gray-200 mx-auto"})]}),b.jsx("p",{className:"text-sm leading-7 mb-8 text-gray-600 text-center line-clamp-3",style:{fontFamily:J.fonts.body},children:r.description}),b.jsx("div",{className:"flex justify-center",children:b.jsxs("button",{className:"flex items-center gap-2 text-xs font-bold uppercase tracking-[0.2em] group-hover:gap-4 transition-all duration-300",style:{color:J.colors.burgundy,fontFamily:J.fonts.heading},children:["Inquire ",b.jsx(lS,{size:14})]})})]})]})},hx=({filters:r,setFilters:t})=>b.jsxs("div",{className:"bg-white p-6 mb-12 shadow-sm border border-stone-100 flex flex-col md:flex-row gap-6 items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[b.jsxs("div",{className:"flex items-center gap-2 text-[#C5A059]",children:[b.jsx(mS,{size:16}),b.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Filter"})]}),b.jsxs("select",{value:r.category,onChange:i=>t({...r,category:i.target.value}),className:"bg-[#FDFBF7] border border-stone-200 px-4 py-2 text-sm font-serif min-w-[150px] focus:outline-none focus:border-[#C5A059]",children:[b.jsx("option",{value:"All",children:"All Categories"}),b.jsx("option",{value:"Classic",children:"Classic"}),b.jsx("option",{value:"Sports",children:"Sports"}),b.jsx("option",{value:"Muscle",children:"Muscle"}),b.jsx("option",{value:"Luxury",children:"Luxury"}),b.jsx("option",{value:"Convertible",children:"Convertible"})]})]}),b.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[b.jsxs("div",{className:"flex items-center gap-2 text-[#C5A059]",children:[b.jsx(iS,{size:16}),b.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Sort"})]}),b.jsxs("select",{value:r.sort,onChange:i=>t({...r,sort:i.target.value}),className:"bg-[#FDFBF7] border border-stone-200 px-4 py-2 text-sm font-serif min-w-[200px] focus:outline-none focus:border-[#C5A059]",children:[b.jsx("option",{value:"newest",children:"Newest Arrivals"}),b.jsx("option",{value:"price_asc",children:"Price: Low to High"}),b.jsx("option",{value:"price_desc",children:"Price: High to Low"}),b.jsx("option",{value:"year_desc",children:"Year: Newest First"}),b.jsx("option",{value:"year_asc",children:"Year: Oldest First"})]})]})]}),Wd=({user:r,setView:t,showFavoritesOnly:i=!1})=>{const[s,l]=Ht.useState([]),[c,d]=Ht.useState([]),[p,_]=Ht.useState(!0),[y,A]=Ht.useState([]),[S,M]=Ht.useState({category:"All",sort:"newest"});Ht.useEffect(()=>{if(!r)return;_(!0);const Z=Cm(Ya,"artifacts",Xa,"public","data","inventory"),W=ZN(Z),ot=ix(W,gt=>{const yt=gt.docs.map(Et=>({id:Et.id,...Et.data()}));l(yt),_(!1)},gt=>{console.error("Error fetching inventory:",gt),_(!1)});return()=>ot()},[r]),Ht.useEffect(()=>{r&&!Ci(r)?(async()=>{try{const W=ph(Ya,"artifacts",Xa,"users",r.uid,"userdata","favorites"),ot=await tx(W);ot.exists()&&A(ot.data().itemIds||[])}catch(W){console.error("Error fetching favorites",W)}})():A([])},[r]),Ht.useEffect(()=>{let Z=[...s];i&&(Z=Z.filter(W=>y.includes(W.id))),S.category!=="All"&&(Z=Z.filter(W=>W.category===S.category)),Z.sort((W,ot)=>{switch(S.sort){case"price_asc":return W.price-ot.price;case"price_desc":return ot.price-W.price;case"year_asc":return W.year-ot.year;case"year_desc":return ot.year-W.year;default:return 0}}),d(Z)},[s,S,y,i]);const F=async Z=>{if(!r){alert("Please log in to save vehicles to your personal garage.");return}let W;y.includes(Z)?W=y.filter(ot=>ot!==Z):W=[...y,Z],A(W);try{const ot=ph(Ya,"artifacts",Xa,"users",r.uid,"userdata","favorites");await ex(ot,{itemIds:W},{merge:!0})}catch(ot){console.error("Error saving favorites",ot)}},et=async()=>{try{_(!0);const Z=Cm(Ya,"artifacts",Xa,"public","data","inventory");for(const W of ax)await a1(Z,{...W,createdAt:n1()})}catch(Z){console.error("Error seeding",Z)}finally{_(!1)}};return p?b.jsx("div",{className:"min-h-screen flex items-center justify-center font-serif text-xl tracking-widest uppercase animate-pulse",style:{color:J.colors.gold},children:"Opening Archives..."}):b.jsx("div",{className:"min-h-screen pt-32 md:pt-40 pb-20 px-6",style:{backgroundColor:J.colors.cream},children:b.jsxs("div",{className:"max-w-7xl mx-auto",children:[b.jsxs("div",{className:"text-center mb-12 relative",children:[b.jsx("span",{className:"text-xs font-bold tracking-[0.4em] uppercase text-stone-400 block mb-4",children:"Established 1964"}),b.jsx("h2",{className:"text-5xl md:text-6xl font-bold mb-6",style:{fontFamily:J.fonts.heading,color:J.colors.charcoal},children:i?"The Private Garage":"The Collection"}),b.jsx("p",{className:"text-lg text-stone-500 max-w-2xl mx-auto italic",style:{fontFamily:J.fonts.body},children:i?"Your curated selection of automotive excellence.":'"Cars are the sculptures of our everyday lives."  Chris Bangle'}),Ci(r)&&!i&&b.jsx("div",{className:"mt-8",children:b.jsxs(Zn,{onClick:()=>t("add-car"),variant:"primary",className:"text-xs",children:[b.jsx(cS,{size:14,className:"inline mr-2 mb-0.5"})," Consign Vehicle"]})})]}),b.jsx(hx,{filters:S,setFilters:M}),c.length===0?b.jsxs("div",{className:"text-center py-24 border border-stone-300 bg-white shadow-sm max-w-2xl mx-auto p-12",children:[b.jsx("div",{className:"mb-6 inline-block p-4 rounded-full bg-stone-50",children:b.jsx(x0,{size:48,className:"opacity-40",style:{color:J.colors.leather}})}),b.jsx("h3",{className:"text-2xl mb-4 uppercase tracking-widest",style:{fontFamily:J.fonts.heading,color:J.colors.charcoal},children:i?"Garage Empty":"Archives Empty"}),b.jsx("p",{className:"mb-10 text-stone-500 font-serif",children:i?"You haven't selected any vehicles for your private collection yet.":"No vehicles match your current search criteria."}),b.jsxs("div",{className:"flex justify-center gap-6",children:[Ci(r)&&!i&&b.jsx(Zn,{onClick:et,variant:"text",children:"Restore Demo Collection"}),Ci(r)&&!i&&b.jsx(Zn,{onClick:()=>t("add-car"),variant:"outline",children:"Manual Entry"}),i&&b.jsx(Zn,{onClick:()=>t("inventory"),variant:"primary",children:"Browse Collection"})]})]}):b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-12",children:c.map(Z=>b.jsx(cx,{car:Z,user:r,isFavorite:y.includes(Z.id),toggleFavorite:F},Z.id))}),b.jsx(c1,{}),b.jsx("div",{className:"text-center text-stone-500 text-sm font-serif italic",children:"Viewing by appointment only. Please contact our concierge to arrange a private showing."})]})})},fx=()=>b.jsx("div",{className:"py-24 bg-white border-t border-stone-200",children:b.jsx("div",{className:"max-w-7xl mx-auto px-6",children:b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-16 text-center",children:[b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsx("div",{className:"mb-6 text-[#C5A059]",children:b.jsx(sS,{size:40,strokeWidth:1})}),b.jsx("h3",{className:"text-xl font-bold mb-4 uppercase tracking-[0.2em]",style:{fontFamily:J.fonts.heading,color:J.colors.charcoal},children:"Authenticity"}),b.jsx("p",{className:"text-stone-500 leading-loose",style:{fontFamily:J.fonts.body},children:"Every vehicle in our collection undergoes a rigorous 150-point inspection and historical verification process by our in-house historians."})]}),b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsx("div",{className:"mb-6 text-[#C5A059]",children:b.jsx(gS,{size:40,strokeWidth:1})}),b.jsx("h3",{className:"text-xl font-bold mb-4 uppercase tracking-[0.2em]",style:{fontFamily:J.fonts.heading,color:J.colors.charcoal},children:"Global Logistics"}),b.jsx("p",{className:"text-stone-500 leading-loose",style:{fontFamily:J.fonts.body},children:"We handle white-glove delivery to any destination worldwide, including customs clearance and climate-controlled transport."})]}),b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsx("div",{className:"mb-6 text-[#C5A059]",children:b.jsx(xS,{size:40,strokeWidth:1})}),b.jsx("h3",{className:"text-xl font-bold mb-4 uppercase tracking-[0.2em]",style:{fontFamily:J.fonts.heading,color:J.colors.charcoal},children:"Concierge Care"}),b.jsx("p",{className:"text-stone-500 leading-loose",style:{fontFamily:J.fonts.body},children:"From storage and maintenance to rally preparation, our dedicated team ensures your investment remains in concours condition."})]})]})})}),dx=({setView:r})=>b.jsxs("div",{className:"relative h-screen flex items-center justify-center overflow-hidden",children:[b.jsxs("div",{className:"absolute inset-0 z-0",children:[b.jsx("div",{className:"absolute inset-0 bg-black/40 z-10 mix-blend-multiply"}),b.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/70 via-transparent to-[#F9F5EB] z-10"}),b.jsx("img",{src:"https://cdn.luxe.digital/media/20230206153646/best-classic-cars-vintage-Mercedes-300SL-Gullwing-luxe-digital.jpg.webp",alt:"Vintage Mercedes 300SL Gullwing",className:"w-full h-full object-cover animate-pan-slow",style:{animation:"pan 30s infinite alternate linear"},onError:t=>{t.target.onerror=null,t.target.src="https://cdn.luxe.digital/media/20230206153646/best-classic-cars-vintage-Mercedes-300SL-Gullwing-luxe-digital.jpg.webp"}}),b.jsx("style",{children:`
        @keyframes pan {
          0% { transform: scale(1); }
          100% { transform: scale(1.1); }
        }
      `})]}),b.jsxs("div",{className:"relative z-20 text-center px-6 max-w-5xl mt-16",children:[b.jsxs("div",{className:"mb-8 flex items-center justify-center gap-4 text-white/90 uppercase tracking-[0.3em] text-xs md:text-sm font-bold",children:[b.jsx("div",{className:"h-px w-12 bg-white/50"}),b.jsx("span",{children:"Vintage Icons"}),b.jsx("div",{className:"h-px w-12 bg-white/50"})]}),b.jsxs("h1",{className:"text-6xl md:text-8xl lg:text-9xl mb-8 leading-[0.9] text-[#F9F5EB] drop-shadow-2xl",style:{fontFamily:J.fonts.heading,fontWeight:400},children:["Spirit of ",b.jsx("br",{}),b.jsx("i",{className:"font-serif text-[#C5A059]",children:"The Road"})]}),b.jsx("p",{className:"text-xl md:text-2xl mb-12 font-light tracking-wide text-gray-200 max-w-2xl mx-auto leading-relaxed",style:{fontFamily:J.fonts.body},children:"Rediscover the romance of driving. Where every curve tells a story and every engine sings a song of freedom."}),b.jsxs("div",{className:"flex flex-col md:flex-row gap-8 justify-center items-center",children:[b.jsx("button",{onClick:()=>r("inventory"),className:"group px-10 py-4 bg-[#722F37] text-[#F9F5EB] text-sm transition-all duration-500 uppercase tracking-[0.2em] hover:bg-white hover:text-[#1A1A1A] relative overflow-hidden",style:{fontFamily:J.fonts.heading},children:b.jsx("span",{className:"relative z-10",children:"View The Collection"})}),b.jsx("button",{onClick:()=>r("login"),className:"text-white hover:text-[#C5A059] uppercase tracking-[0.2em] text-sm border-b border-transparent hover:border-[#C5A059] pb-1 transition-all duration-300",style:{fontFamily:J.fonts.heading},children:"Member Access"})]})]}),b.jsxs("div",{className:"absolute bottom-10 left-1/2 -translate-x-1/2 z-20 animate-bounce text-white/50",children:[b.jsx("span",{className:"text-[10px] uppercase tracking-[0.3em] block mb-2",children:"Scroll"}),b.jsx("div",{className:"w-px h-12 bg-white/30 mx-auto"})]})]}),mx=()=>b.jsx("footer",{className:"pt-24 pb-12 px-6 bg-[#1A1A1A] text-stone-400 border-t-4",style:{borderColor:J.colors.gold},children:b.jsxs("div",{className:"max-w-7xl mx-auto",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-12 mb-20",children:[b.jsxs("div",{className:"col-span-1 md:col-span-1",children:[b.jsx("h1",{className:"text-3xl font-bold tracking-[0.1em] uppercase text-white mb-6",style:{fontFamily:J.fonts.heading},children:"Prestige"}),b.jsx("p",{className:"leading-loose text-sm font-serif mb-8 text-stone-500",children:"For over sixty years, Prestige Classics has been the premier destination for investment-grade vintage automobiles."}),b.jsxs("div",{className:"flex gap-6",children:[b.jsx(AS,{size:20,className:"hover:text-white cursor-pointer transition-colors"}),b.jsx(IS,{size:20,className:"hover:text-white cursor-pointer transition-colors"})]})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"text-xs font-bold mb-8 text-white uppercase tracking-[0.2em]",style:{fontFamily:J.fonts.heading},children:"Showroom"}),b.jsxs("ul",{className:"space-y-4 font-serif text-sm",children:[b.jsxs("li",{className:"flex items-start gap-3",children:[b.jsx(bS,{size:16,className:"mt-1 text-[#C5A059]"}),b.jsxs("span",{children:["1964 Heritage Lane",b.jsx("br",{}),"Monterey, CA 93940"]})]}),b.jsxs("li",{className:"flex items-start gap-3",children:[b.jsx(fS,{size:16,className:"mt-1 text-[#C5A059]"}),b.jsxs("span",{children:["Mon - Fri: 09:00 - 18:00",b.jsx("br",{}),"Sat: 10:00 - 16:00"]})]})]})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"text-xs font-bold mb-8 text-white uppercase tracking-[0.2em]",style:{fontFamily:J.fonts.heading},children:"Legal"}),b.jsxs("ul",{className:"space-y-4 font-serif text-sm",children:[b.jsx("li",{className:"hover:text-[#C5A059] cursor-pointer transition-colors",children:"Privacy Policy"}),b.jsx("li",{className:"hover:text-[#C5A059] cursor-pointer transition-colors",children:"Terms of Consignment"}),b.jsx("li",{className:"hover:text-[#C5A059] cursor-pointer transition-colors",children:"Accessibility"})]})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"text-xs font-bold mb-8 text-white uppercase tracking-[0.2em]",style:{fontFamily:J.fonts.heading},children:"Newsletter"}),b.jsx("p",{className:"text-xs font-serif mb-4 text-stone-500",children:"Subscribe for auction results and new arrivals."}),b.jsxs("div",{className:"flex border-b border-stone-700 pb-2",children:[b.jsx("input",{type:"email",placeholder:"Email Address",className:"bg-transparent w-full focus:outline-none text-sm text-white font-serif placeholder-stone-600"}),b.jsx("button",{className:"text-[#C5A059] hover:text-white uppercase text-xs tracking-widest",children:"Join"})]})]})]}),b.jsxs("div",{className:"border-t border-stone-800 pt-12 flex flex-col md:flex-row justify-between items-center text-xs tracking-widest uppercase text-stone-600",children:[b.jsxs("div",{children:[" ",new Date().getFullYear()," Prestige Automobiles. All Rights Reserved."]}),b.jsxs("div",{className:"mt-4 md:mt-0 flex gap-8",children:[b.jsx("span",{children:"Instagram"}),b.jsx("span",{children:"Facebook"}),b.jsx("span",{children:"Artsy"})]})]})]})});function px(){const[r,t]=Ht.useState(null),[i,s]=Ht.useState("home"),[l,c]=Ht.useState(!1);return Ht.useEffect(()=>{(async()=>(typeof __initial_auth_token<"u"&&__initial_auth_token?await gR(no,__initial_auth_token):await hR(no),c(!0)))();const p=TR(no,_=>{t(_)});return()=>p()},[]),l?b.jsxs("div",{className:"min-h-screen flex flex-col relative selection:bg-[#722F37] selection:text-white",children:[b.jsx(ox,{}),b.jsx("style",{children:`
          @import url('https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,500;0,600;1,400;1,500&family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;0,800;0,900;1,400;1,500&display=swap');
          
          body {
            background-color: ${J.colors.cream};
            color: ${J.colors.charcoal};
          }
        `}),b.jsx(lx,{user:r,setView:s,view:i,isTransparent:i==="home"}),b.jsxs("main",{className:"flex-grow",children:[i==="home"&&b.jsxs(b.Fragment,{children:[b.jsx(dx,{setView:s}),b.jsx(c1,{}),b.jsx(fx,{})]}),i==="inventory"&&b.jsx(Wd,{user:r,setView:s}),i==="favorites"&&b.jsx(Wd,{user:r,setView:s,showFavoritesOnly:!0}),i==="login"&&b.jsx(Zd,{type:"login",setView:s}),i==="signup"&&b.jsx(Zd,{type:"signup",setView:s}),i==="add-car"&&(Ci(r)?b.jsx(ux,{setView:s}):r?b.jsx(Wd,{user:r,setView:s}):b.jsx(Zd,{type:"login",setView:s}))]}),b.jsx(mx,{})]}):null}$A.createRoot(document.getElementById("root")).render(b.jsx(Ht.StrictMode,{children:b.jsx(px,{})}));
