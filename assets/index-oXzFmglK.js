(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var kd={exports:{}},Sl={};var H_;function jA(){if(H_)return Sl;H_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:c}}return Sl.Fragment=e,Sl.jsx=i,Sl.jsxs=i,Sl}var G_;function BA(){return G_||(G_=1,kd.exports=jA()),kd.exports}var b=BA(),Ld={exports:{}},Ee={};var K_;function qA(){if(K_)return Ee;K_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),M=Symbol.iterator;function H(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var ee={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},te=Object.assign,Z={};function re(O,Y,ie){this.props=O,this.context=Y,this.refs=Z,this.updater=ie||ee}re.prototype.isReactComponent={},re.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},re.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ce(){}ce.prototype=re.prototype;function pe(O,Y,ie){this.props=O,this.context=Y,this.refs=Z,this.updater=ie||ee}var Ae=pe.prototype=new ce;Ae.constructor=pe,te(Ae,re.prototype),Ae.isPureReactComponent=!0;var Ge=Array.isArray;function ze(){}var N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(O,Y,ie){var oe=ie.ref;return{$$typeof:r,type:O,key:Y,ref:oe!==void 0?oe:null,props:ie}}function V(O,Y){return I(O.type,Y,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function L(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ie){return Y[ie]})}var R=/\/+/g;function st(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?L(""+O.key):Y.toString(36)}function xt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(ze,ze):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,Y,ie,oe,_e){var we=typeof O;(we==="undefined"||we==="boolean")&&(O=null);var ke=!1;if(O===null)ke=!0;else switch(we){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(O.$$typeof){case r:case e:ke=!0;break;case A:return ke=O._init,G(ke(O._payload),Y,ie,oe,_e)}}if(ke)return _e=_e(O),ke=oe===""?"."+st(O,0):oe,Ge(_e)?(ie="",ke!=null&&(ie=ke.replace(R,"$&/")+"/"),G(_e,Y,ie,"",function(us){return us})):_e!=null&&(D(_e)&&(_e=V(_e,ie+(_e.key==null||O&&O.key===_e.key?"":(""+_e.key).replace(R,"$&/")+"/")+ke)),Y.push(_e)),1;ke=0;var Dt=oe===""?".":oe+":";if(Ge(O))for(var at=0;at<O.length;at++)oe=O[at],we=Dt+st(oe,at),ke+=G(oe,Y,ie,we,_e);else if(at=H(O),typeof at=="function")for(O=at.call(O),at=0;!(oe=O.next()).done;)oe=oe.value,we=Dt+st(oe,at++),ke+=G(oe,Y,ie,we,_e);else if(we==="object"){if(typeof O.then=="function")return G(xt(O),Y,ie,oe,_e);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return ke}function ne(O,Y,ie){if(O==null)return O;var oe=[],_e=0;return G(O,oe,"","",function(we){return Y.call(ie,we,_e++)}),oe}function de(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(ie){(O._status===0||O._status===-1)&&(O._status=1,O._result=ie)},function(ie){(O._status===0||O._status===-1)&&(O._status=2,O._result=ie)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var Pe=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ke={map:ne,forEach:function(O,Y,ie){ne(O,function(){Y.apply(this,arguments)},ie)},count:function(O){var Y=0;return ne(O,function(){Y++}),Y},toArray:function(O){return ne(O,function(Y){return Y})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Ee.Activity=S,Ee.Children=Ke,Ee.Component=re,Ee.Fragment=i,Ee.Profiler=l,Ee.PureComponent=pe,Ee.StrictMode=s,Ee.Suspense=_,Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ee.__COMPILER_RUNTIME={__proto__:null,c:function(O){return N.H.useMemoCache(O)}},Ee.cache=function(O){return function(){return O.apply(null,arguments)}},Ee.cacheSignal=function(){return null},Ee.cloneElement=function(O,Y,ie){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var oe=te({},O.props),_e=O.key;if(Y!=null)for(we in Y.key!==void 0&&(_e=""+Y.key),Y)!w.call(Y,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&Y.ref===void 0||(oe[we]=Y[we]);var we=arguments.length-2;if(we===1)oe.children=ie;else if(1<we){for(var ke=Array(we),Dt=0;Dt<we;Dt++)ke[Dt]=arguments[Dt+2];oe.children=ke}return I(O.type,_e,oe)},Ee.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Ee.createElement=function(O,Y,ie){var oe,_e={},we=null;if(Y!=null)for(oe in Y.key!==void 0&&(we=""+Y.key),Y)w.call(Y,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(_e[oe]=Y[oe]);var ke=arguments.length-2;if(ke===1)_e.children=ie;else if(1<ke){for(var Dt=Array(ke),at=0;at<ke;at++)Dt[at]=arguments[at+2];_e.children=Dt}if(O&&O.defaultProps)for(oe in ke=O.defaultProps,ke)_e[oe]===void 0&&(_e[oe]=ke[oe]);return I(O,we,_e)},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(O){return{$$typeof:p,render:O}},Ee.isValidElement=D,Ee.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:de}},Ee.memo=function(O,Y){return{$$typeof:y,type:O,compare:Y===void 0?null:Y}},Ee.startTransition=function(O){var Y=N.T,ie={};N.T=ie;try{var oe=O(),_e=N.S;_e!==null&&_e(ie,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(ze,Pe)}catch(we){Pe(we)}finally{Y!==null&&ie.types!==null&&(Y.types=ie.types),N.T=Y}},Ee.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ee.use=function(O){return N.H.use(O)},Ee.useActionState=function(O,Y,ie){return N.H.useActionState(O,Y,ie)},Ee.useCallback=function(O,Y){return N.H.useCallback(O,Y)},Ee.useContext=function(O){return N.H.useContext(O)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(O,Y){return N.H.useDeferredValue(O,Y)},Ee.useEffect=function(O,Y){return N.H.useEffect(O,Y)},Ee.useEffectEvent=function(O){return N.H.useEffectEvent(O)},Ee.useId=function(){return N.H.useId()},Ee.useImperativeHandle=function(O,Y,ie){return N.H.useImperativeHandle(O,Y,ie)},Ee.useInsertionEffect=function(O,Y){return N.H.useInsertionEffect(O,Y)},Ee.useLayoutEffect=function(O,Y){return N.H.useLayoutEffect(O,Y)},Ee.useMemo=function(O,Y){return N.H.useMemo(O,Y)},Ee.useOptimistic=function(O,Y){return N.H.useOptimistic(O,Y)},Ee.useReducer=function(O,Y,ie){return N.H.useReducer(O,Y,ie)},Ee.useRef=function(O){return N.H.useRef(O)},Ee.useState=function(O){return N.H.useState(O)},Ee.useSyncExternalStore=function(O,Y,ie){return N.H.useSyncExternalStore(O,Y,ie)},Ee.useTransition=function(){return N.H.useTransition()},Ee.version="19.2.3",Ee}var Q_;function Im(){return Q_||(Q_=1,Ld.exports=qA()),Ld.exports}var Ue=Im(),Ud={exports:{}},wl={},Pd={exports:{}},zd={};var Y_;function FA(){return Y_||(Y_=1,(function(r){function e(G,ne){var de=G.length;G.push(ne);e:for(;0<de;){var Pe=de-1>>>1,Ke=G[Pe];if(0<l(Ke,ne))G[Pe]=ne,G[de]=Ke,de=Pe;else break e}}function i(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var ne=G[0],de=G.pop();if(de!==ne){G[0]=de;e:for(var Pe=0,Ke=G.length,O=Ke>>>1;Pe<O;){var Y=2*(Pe+1)-1,ie=G[Y],oe=Y+1,_e=G[oe];if(0>l(ie,de))oe<Ke&&0>l(_e,ie)?(G[Pe]=_e,G[oe]=de,Pe=oe):(G[Pe]=ie,G[Y]=de,Pe=Y);else if(oe<Ke&&0>l(_e,de))G[Pe]=_e,G[oe]=de,Pe=oe;else break e}}return ne}function l(G,ne){var de=G.sortIndex-ne.sortIndex;return de!==0?de:G.id-ne.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var _=[],y=[],A=1,S=null,M=3,H=!1,ee=!1,te=!1,Z=!1,re=typeof setTimeout=="function"?setTimeout:null,ce=typeof clearTimeout=="function"?clearTimeout:null,pe=typeof setImmediate<"u"?setImmediate:null;function Ae(G){for(var ne=i(y);ne!==null;){if(ne.callback===null)s(y);else if(ne.startTime<=G)s(y),ne.sortIndex=ne.expirationTime,e(_,ne);else break;ne=i(y)}}function Ge(G){if(te=!1,Ae(G),!ee)if(i(_)!==null)ee=!0,ze||(ze=!0,L());else{var ne=i(y);ne!==null&&xt(Ge,ne.startTime-G)}}var ze=!1,N=-1,w=5,I=-1;function V(){return Z?!0:!(r.unstable_now()-I<w)}function D(){if(Z=!1,ze){var G=r.unstable_now();I=G;var ne=!0;try{e:{ee=!1,te&&(te=!1,ce(N),N=-1),H=!0;var de=M;try{t:{for(Ae(G),S=i(_);S!==null&&!(S.expirationTime>G&&V());){var Pe=S.callback;if(typeof Pe=="function"){S.callback=null,M=S.priorityLevel;var Ke=Pe(S.expirationTime<=G);if(G=r.unstable_now(),typeof Ke=="function"){S.callback=Ke,Ae(G),ne=!0;break t}S===i(_)&&s(_),Ae(G)}else s(_);S=i(_)}if(S!==null)ne=!0;else{var O=i(y);O!==null&&xt(Ge,O.startTime-G),ne=!1}}break e}finally{S=null,M=de,H=!1}ne=void 0}}finally{ne?L():ze=!1}}}var L;if(typeof pe=="function")L=function(){pe(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,st=R.port2;R.port1.onmessage=D,L=function(){st.postMessage(null)}}else L=function(){re(D,0)};function xt(G,ne){N=re(function(){G(r.unstable_now())},ne)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(G){switch(M){case 1:case 2:case 3:var ne=3;break;default:ne=M}var de=M;M=ne;try{return G()}finally{M=de}},r.unstable_requestPaint=function(){Z=!0},r.unstable_runWithPriority=function(G,ne){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var de=M;M=G;try{return ne()}finally{M=de}},r.unstable_scheduleCallback=function(G,ne,de){var Pe=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Pe+de:Pe):de=Pe,G){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=de+Ke,G={id:A++,callback:ne,priorityLevel:G,startTime:de,expirationTime:Ke,sortIndex:-1},de>Pe?(G.sortIndex=de,e(y,G),i(_)===null&&G===i(y)&&(te?(ce(N),N=-1):te=!0,xt(Ge,de-Pe))):(G.sortIndex=Ke,e(_,G),ee||H||(ee=!0,ze||(ze=!0,L()))),G},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(G){var ne=M;return function(){var de=M;M=ne;try{return G.apply(this,arguments)}finally{M=de}}}})(zd)),zd}var X_;function HA(){return X_||(X_=1,Pd.exports=FA()),Pd.exports}var jd={exports:{}},Xt={};var $_;function GA(){if($_)return Xt;$_=1;var r=Im();function e(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:_,containerInfo:y,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xt.createPortal=function(_,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(_,y,null,A)},Xt.flushSync=function(_){var y=d.T,A=s.p;try{if(d.T=null,s.p=2,_)return _()}finally{d.T=y,s.p=A,s.d.f()}},Xt.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(_,y))},Xt.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},Xt.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var A=y.as,S=p(A,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,H=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?s.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:M,fetchPriority:H}):A==="script"&&s.d.X(_,{crossOrigin:S,integrity:M,fetchPriority:H,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Xt.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=p(y.as,y.crossOrigin);s.d.M(_,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(_)},Xt.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,S=p(A,y.crossOrigin);s.d.L(_,A,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Xt.preloadModule=function(_,y){if(typeof _=="string")if(y){var A=p(y.as,y.crossOrigin);s.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(_)},Xt.requestFormReset=function(_){s.d.r(_)},Xt.unstable_batchedUpdates=function(_,y){return _(y)},Xt.useFormState=function(_,y,A){return d.H.useFormState(_,y,A)},Xt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xt.version="19.2.3",Xt}var J_;function KA(){if(J_)return jd.exports;J_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),jd.exports=GA(),jd.exports}var Z_;function QA(){if(Z_)return wl;Z_=1;var r=HA(),e=Im(),i=KA();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(s(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),t;if(f===o)return _(h),n;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===a){g=!0,a=h,o=f;break}if(E===o){g=!0,o=h,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,o=h;break}if(E===o){g=!0,o=f,a=h;break}E=E.sibling}if(!g)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,M=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),ee=Symbol.for("react.portal"),te=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),re=Symbol.for("react.profiler"),ce=Symbol.for("react.consumer"),pe=Symbol.for("react.context"),Ae=Symbol.for("react.forward_ref"),Ge=Symbol.for("react.suspense"),ze=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function st(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case te:return"Fragment";case re:return"Profiler";case Z:return"StrictMode";case Ge:return"Suspense";case ze:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ee:return"Portal";case pe:return t.displayName||"Context";case ce:return(t._context.displayName||"Context")+".Consumer";case Ae:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:st(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return st(t(n))}catch{}}return null}var xt=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Pe=[],Ke=-1;function O(t){return{current:t}}function Y(t){0>Ke||(t.current=Pe[Ke],Pe[Ke]=null,Ke--)}function ie(t,n){Ke++,Pe[Ke]=t.current,t.current=n}var oe=O(null),_e=O(null),we=O(null),ke=O(null);function Dt(t,n){switch(ie(we,n),ie(_e,t),ie(oe,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?d_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=d_(n),t=m_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(oe),ie(oe,t)}function at(){Y(oe),Y(_e),Y(we)}function us(t){t.memoizedState!==null&&ie(ke,t);var n=oe.current,a=m_(n,t.type);n!==a&&(ie(_e,t),ie(oe,a))}function ta(t){_e.current===t&&(Y(oe),Y(_e)),ke.current===t&&(Y(ke),El._currentValue=de)}var na,ia;function si(t){if(na===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);na=n&&n[1]||"",ia=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+na+t+ia}var Eo=!1;function cs(t,n){if(!t||Eo)return"";Eo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(q){var j=q}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(q){j=q}t.call(Q.prototype)}}else{try{throw Error()}catch(q){j=q}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var C=g.split(`
`),z=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===z.length)for(o=C.length-1,h=z.length-1;1<=o&&0<=h&&C[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==z[h]){var F=`
`+C[o].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=o&&0<=h);break}}}finally{Eo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?si(a):""}function To(t,n){switch(t.tag){case 26:case 27:case 5:return si(t.type);case 16:return si("Lazy");case 13:return t.child!==n&&n!==null?si("Suspense Fallback"):si("Suspense");case 19:return si("SuspenseList");case 0:case 15:return cs(t.type,!1);case 11:return cs(t.type.render,!1);case 1:return cs(t.type,!0);case 31:return si("Activity");default:return""}}function Ao(t){try{var n="",a=null;do n+=To(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var _t=Object.prototype.hasOwnProperty,Ot=r.unstable_scheduleCallback,hr=r.unstable_cancelCallback,Lh=r.unstable_shouldYield,au=r.unstable_requestPaint,tn=r.unstable_now,hs=r.unstable_getCurrentPriorityLevel,bo=r.unstable_ImmediatePriority,So=r.unstable_UserBlockingPriority,fr=r.unstable_NormalPriority,Uh=r.unstable_LowPriority,ou=r.unstable_IdlePriority,lu=r.log,uu=r.unstable_setDisableYieldValue,zn=null,jt=null;function Sn(t){if(typeof lu=="function"&&uu(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(zn,t)}catch{}}var ft=Math.clz32?Math.clz32:hu,cu=Math.log,ra=Math.LN2;function hu(t){return t>>>=0,t===0?32:31-(cu(t)/ra|0)|0}var ai=256,fs=262144,vt=4194304;function oi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function li(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=oi(o):(g&=E,g!==0?h=oi(g):a||(a=E&~t,a!==0&&(h=oi(a))))):(E=o&~f,E!==0?h=oi(E):g!==0?h=oi(g):a||(a=o&~t,a!==0&&(h=oi(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function jn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ph(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fu(){var t=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),t}function ui(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function ds(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function zh(t,n,a,o,h,f){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,z=t.hiddenUpdates;for(a=g&~a;0<a;){var F=31-ft(a),Q=1<<F;E[F]=0,C[F]=-1;var j=z[F];if(j!==null)for(z[F]=null,F=0;F<j.length;F++){var q=j[F];q!==null&&(q.lane&=-536870913)}a&=~Q}o!==0&&ms(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function ms(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-ft(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function wo(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-ft(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function Ro(t,n){var a=n&-n;return a=(a&42)!==0?1:ps(a),(a&(t.suspendedLanes|n))!==0?0:a}function ps(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ui(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function du(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:U_(t.type))}function Bn(t,n){var a=ne.p;try{return ne.p=t,n()}finally{ne.p=a}}var qn=Math.random().toString(36).slice(2),Et="__reactFiber$"+qn,kt="__reactProps$"+qn,ci="__reactContainer$"+qn,sa="__reactEvents$"+qn,jh="__reactListeners$"+qn,mu="__reactHandles$"+qn,pu="__reactResources$"+qn,hi="__reactMarker$"+qn;function aa(t){delete t[Et],delete t[kt],delete t[sa],delete t[jh],delete t[mu]}function fi(t){var n=t[Et];if(n)return n;for(var a=t.parentNode;a;){if(n=a[ci]||a[Et]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=T_(t);t!==null;){if(a=t[Et])return a;t=T_(t)}return n}t=a,a=t.parentNode}return null}function wn(t){if(t=t[Et]||t[ci]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function mn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function di(t){var n=t[pu];return n||(n=t[pu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Tt(t){t[hi]=!0}var Co=new Set,Io={};function mi(t,n){pi(t,n),pi(t+"Capture",n)}function pi(t,n){for(Io[t]=n,t=0;t<n.length;t++)Co.add(n[t])}var No=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xo={},Do={};function gu(t){return _t.call(Do,t)?!0:_t.call(xo,t)?!1:No.test(t)?Do[t]=!0:(xo[t]=!0,!1)}function oa(t,n,a){if(gu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function pn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function At(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function dr(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Oo(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Qe(t){if(!t._valueTracker){var n=dr(t)?"checked":"value";t._valueTracker=Oo(t,n,""+t[n])}}function gs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=dr(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function gi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ys=/[\n"\\]/g;function sn(t){return t.replace(ys,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function la(t,n,a,o,h,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Lt(n)):t.value!==""+Lt(n)&&(t.value=""+Lt(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Mo(t,g,Lt(n)):a!=null?Mo(t,g,Lt(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Lt(E):t.removeAttribute("name")}function yu(t,n,a,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Qe(t);return}a=a!=null?""+Lt(a):"",n=n!=null?""+Lt(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Qe(t)}function Mo(t,n,a){n==="number"&&gi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function mr(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Lt(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function _u(t,n,a){if(n!=null&&(n=""+Lt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Lt(a):""}function pr(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(xt(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Lt(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Qe(t)}function an(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var vu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vo(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||vu.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function ko(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Vo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Vo(t,f,n[f])}function ua(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ca(t){return gr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Fn(){}var Lo=null;function Rn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yr=null,yi=null;function _s(t){var n=wn(t);if(n&&(t=n.stateNode)){var a=t[kt]||null;e:switch(t=n.stateNode,n.type){case"input":if(la(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+sn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[kt]||null;if(!h)throw Error(s(90));la(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&gs(o)}break e;case"textarea":_u(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&mr(t,!!a.multiple,n,!1)}}}var ha=!1;function _r(t,n,a){if(ha)return t(n,a);ha=!0;try{var o=t(n);return o}finally{if(ha=!1,(yr!==null||yi!==null)&&(dc(),yr&&(n=yr,t=yi,yi=yr=null,_s(n),t)))for(n=0;n<t.length;n++)_s(t[n])}}function Hn(t,n){var a=t.stateNode;if(a===null)return null;var o=a[kt]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vs=!1;if(Cn)try{var $e={};Object.defineProperty($e,"passive",{get:function(){vs=!0}}),window.addEventListener("test",$e,$e),window.removeEventListener("test",$e,$e)}catch{vs=!1}var _i=null,Uo=null,Es=null;function Po(){if(Es)return Es;var t,n=Uo,a=n.length,o,h="value"in _i?_i.value:_i.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var g=a-t;for(o=1;o<=g&&n[a-o]===h[f-o];o++);return Es=h.slice(t,1<o?1-o:void 0)}function Ts(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Pi(){return!0}function Gn(){return!1}function Bt(t){function n(a,o,h,f,g){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Pi:Gn,this.isPropagationStopped=Gn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Pi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Pi)},persist:function(){},isPersistent:Pi}),n}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=Bt(zi),vr=S({},zi,{view:0,detail:0}),zo=Bt(vr),Er,fa,Ei,da=S({},vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ei&&(Ei&&t.type==="mousemove"?(Er=t.screenX-Ei.screenX,fa=t.screenY-Ei.screenY):fa=Er=0,Ei=t),Er)},movementY:function(t){return"movementY"in t?t.movementY:fa}}),jo=Bt(da),As=S({},da,{dataTransfer:0}),Tu=Bt(As),Au=S({},vr,{relatedTarget:0}),bs=Bt(Au),Bo=S({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),bu=Bt(Bo),ma=S({},zi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Su=Bt(ma),wu=S({},zi,{data:0}),Ti=Bt(wu),Ru={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Iu[t])?!!n[t]:!1}function Tr(){return Nu}var nn=S({},vr,{key:function(t){if(t.key){var n=Ru[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ts(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Cu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tr,charCode:function(t){return t.type==="keypress"?Ts(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ts(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xu=Bt(nn),Du=S({},da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ji=Bt(Du),u=S({},vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tr}),m=Bt(u),v=S({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Bt(v),U=S({},da,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Bt(U),W=S({},zi,{newState:0,oldState:0}),be=Bt(W),dt=[9,13,27,32],qe=Cn&&"CompositionEvent"in window,ot=null;Cn&&"documentMode"in document&&(ot=document.documentMode);var In=Cn&&"TextEvent"in window&&!ot,Ai=Cn&&(!qe||ot&&8<ot&&11>=ot),Kn=" ",Qn=!1;function Ss(t,n){switch(t){case"keyup":return dt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ga=!1;function c1(t,n){switch(t){case"compositionend":return pa(n);case"keypress":return n.which!==32?null:(Qn=!0,Kn);case"textInput":return t=n.data,t===Kn&&Qn?null:t;default:return null}}function h1(t,n){if(ga)return t==="compositionend"||!qe&&Ss(t,n)?(t=Po(),Es=Uo=_i=null,ga=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ai&&n.locale!=="ko"?null:n.data;default:return null}}var f1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!f1[t.type]:n==="textarea"}function wp(t,n,a,o){yr?yi?yi.push(o):yi=[o]:yr=o,n=Ec(n,"onChange"),0<n.length&&(a=new vi("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var qo=null,Fo=null;function d1(t){o_(t,0)}function Ou(t){var n=mn(t);if(gs(n))return t}function Rp(t,n){if(t==="change")return n}var Cp=!1;if(Cn){var Bh;if(Cn){var qh="oninput"in document;if(!qh){var Ip=document.createElement("div");Ip.setAttribute("oninput","return;"),qh=typeof Ip.oninput=="function"}Bh=qh}else Bh=!1;Cp=Bh&&(!document.documentMode||9<document.documentMode)}function Np(){qo&&(qo.detachEvent("onpropertychange",xp),Fo=qo=null)}function xp(t){if(t.propertyName==="value"&&Ou(Fo)){var n=[];wp(n,Fo,t,Rn(t)),_r(d1,n)}}function m1(t,n,a){t==="focusin"?(Np(),qo=n,Fo=a,qo.attachEvent("onpropertychange",xp)):t==="focusout"&&Np()}function p1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ou(Fo)}function g1(t,n){if(t==="click")return Ou(n)}function y1(t,n){if(t==="input"||t==="change")return Ou(n)}function _1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var gn=typeof Object.is=="function"?Object.is:_1;function Ho(t,n){if(gn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!_t.call(n,h)||!gn(t[h],n[h]))return!1}return!0}function Dp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Op(t,n){var a=Dp(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Dp(a)}}function Mp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Mp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Vp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=gi(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=gi(t.document)}return n}function Fh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var v1=Cn&&"documentMode"in document&&11>=document.documentMode,ya=null,Hh=null,Go=null,Gh=!1;function kp(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Gh||ya==null||ya!==gi(o)||(o=ya,"selectionStart"in o&&Fh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Go&&Ho(Go,o)||(Go=o,o=Ec(Hh,"onSelect"),0<o.length&&(n=new vi("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=ya)))}function ws(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var _a={animationend:ws("Animation","AnimationEnd"),animationiteration:ws("Animation","AnimationIteration"),animationstart:ws("Animation","AnimationStart"),transitionrun:ws("Transition","TransitionRun"),transitionstart:ws("Transition","TransitionStart"),transitioncancel:ws("Transition","TransitionCancel"),transitionend:ws("Transition","TransitionEnd")},Kh={},Lp={};Cn&&(Lp=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function Rs(t){if(Kh[t])return Kh[t];if(!_a[t])return t;var n=_a[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Lp)return Kh[t]=n[a];return t}var Up=Rs("animationend"),Pp=Rs("animationiteration"),zp=Rs("animationstart"),E1=Rs("transitionrun"),T1=Rs("transitionstart"),A1=Rs("transitioncancel"),jp=Rs("transitionend"),Bp=new Map,Qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qh.push("scrollEnd");function Yn(t,n){Bp.set(t,n),mi(n,[t])}var Mu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Nn=[],va=0,Yh=0;function Vu(){for(var t=va,n=Yh=va=0;n<t;){var a=Nn[n];Nn[n++]=null;var o=Nn[n];Nn[n++]=null;var h=Nn[n];Nn[n++]=null;var f=Nn[n];if(Nn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&qp(a,h,f)}}function ku(t,n,a,o){Nn[va++]=t,Nn[va++]=n,Nn[va++]=a,Nn[va++]=o,Yh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Xh(t,n,a,o){return ku(t,n,a,o),Lu(t)}function Cs(t,n){return ku(t,null,null,n),Lu(t)}function qp(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-ft(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Lu(t){if(50<dl)throw dl=0,sd=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ea={};function b1(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,n,a,o){return new b1(t,n,a,o)}function $h(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Bi(t,n){var a=t.alternate;return a===null?(a=yn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Fp(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Uu(t,n,a,o,h,f){var g=0;if(o=t,typeof t=="function")$h(t)&&(g=1);else if(typeof t=="string")g=IA(t,a,oe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=yn(31,a,n,h),t.elementType=I,t.lanes=f,t;case te:return Is(a.children,h,f,n);case Z:g=8,h|=24;break;case re:return t=yn(12,a,n,h|2),t.elementType=re,t.lanes=f,t;case Ge:return t=yn(13,a,n,h),t.elementType=Ge,t.lanes=f,t;case ze:return t=yn(19,a,n,h),t.elementType=ze,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case pe:g=10;break e;case ce:g=9;break e;case Ae:g=11;break e;case N:g=14;break e;case w:g=16,o=null;break e}g=29,a=Error(s(130,t===null?"null":typeof t,"")),o=null}return n=yn(g,a,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Is(t,n,a,o){return t=yn(7,t,o,n),t.lanes=a,t}function Jh(t,n,a){return t=yn(6,t,null,n),t.lanes=a,t}function Hp(t){var n=yn(18,null,null,0);return n.stateNode=t,n}function Zh(t,n,a){return n=yn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Gp=new WeakMap;function xn(t,n){if(typeof t=="object"&&t!==null){var a=Gp.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Ao(n)},Gp.set(t,n),n)}return{value:t,source:n,stack:Ao(n)}}var Ta=[],Aa=0,Pu=null,Ko=0,Dn=[],On=0,Ar=null,bi=1,Si="";function qi(t,n){Ta[Aa++]=Ko,Ta[Aa++]=Pu,Pu=t,Ko=n}function Kp(t,n,a){Dn[On++]=bi,Dn[On++]=Si,Dn[On++]=Ar,Ar=t;var o=bi;t=Si;var h=32-ft(o)-1;o&=~(1<<h),a+=1;var f=32-ft(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,bi=1<<32-ft(n)+h|a<<h|o,Si=f+t}else bi=1<<f|a<<h|o,Si=t}function Wh(t){t.return!==null&&(qi(t,1),Kp(t,1,0))}function ef(t){for(;t===Pu;)Pu=Ta[--Aa],Ta[Aa]=null,Ko=Ta[--Aa],Ta[Aa]=null;for(;t===Ar;)Ar=Dn[--On],Dn[On]=null,Si=Dn[--On],Dn[On]=null,bi=Dn[--On],Dn[On]=null}function Qp(t,n){Dn[On++]=bi,Dn[On++]=Si,Dn[On++]=Ar,bi=n.id,Si=n.overflow,Ar=t}var qt=null,nt=null,Ve=!1,br=null,Mn=!1,tf=Error(s(519));function Sr(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Qo(xn(n,t)),tf}function Yp(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[Et]=t,n[kt]=o,a){case"dialog":Ie("cancel",n),Ie("close",n);break;case"iframe":case"object":case"embed":Ie("load",n);break;case"video":case"audio":for(a=0;a<pl.length;a++)Ie(pl[a],n);break;case"source":Ie("error",n);break;case"img":case"image":case"link":Ie("error",n),Ie("load",n);break;case"details":Ie("toggle",n);break;case"input":Ie("invalid",n),yu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ie("invalid",n);break;case"textarea":Ie("invalid",n),pr(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||h_(n.textContent,a)?(o.popover!=null&&(Ie("beforetoggle",n),Ie("toggle",n)),o.onScroll!=null&&Ie("scroll",n),o.onScrollEnd!=null&&Ie("scrollend",n),o.onClick!=null&&(n.onclick=Fn),n=!0):n=!1,n||Sr(t,!0)}function Xp(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:qt=qt.return}}function ba(t){if(t!==qt)return!1;if(!Ve)return Xp(t),Ve=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Ed(t.type,t.memoizedProps)),a=!a),a&&nt&&Sr(t),Xp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=E_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=E_(t)}else n===27?(n=nt,Pr(t.type)?(t=wd,wd=null,nt=t):nt=n):nt=qt?kn(t.stateNode.nextSibling):null;return!0}function Ns(){nt=qt=null,Ve=!1}function nf(){var t=br;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),br=null),t}function Qo(t){br===null?br=[t]:br.push(t)}var rf=O(null),xs=null,Fi=null;function wr(t,n,a){ie(rf,n._currentValue),n._currentValue=a}function Hi(t){t._currentValue=rf.current,Y(rf)}function sf(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function af(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),sf(f.return,a,t),o||(g=null);break e}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(s(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),sf(g,a,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Sa(t,n,a,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var E=h.type;gn(h.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(h===ke.current){if(g=h.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(El):t=[El])}h=h.return}t!==null&&af(n,t,a,o),n.flags|=262144}function zu(t){for(t=t.firstContext;t!==null;){if(!gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ds(t){xs=t,Fi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return $p(xs,t)}function ju(t,n){return xs===null&&Ds(t),$p(t,n)}function $p(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Fi===null){if(t===null)throw Error(s(308));Fi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Fi=Fi.next=n;return a}var S1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},w1=r.unstable_scheduleCallback,R1=r.unstable_NormalPriority,bt={$$typeof:pe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function of(){return{controller:new S1,data:new Map,refCount:0}}function Yo(t){t.refCount--,t.refCount===0&&w1(R1,function(){t.controller.abort()})}var Xo=null,lf=0,wa=0,Ra=null;function C1(t,n){if(Xo===null){var a=Xo=[];lf=0,wa=hd(),Ra={status:"pending",value:void 0,then:function(o){a.push(o)}}}return lf++,n.then(Jp,Jp),n}function Jp(){if(--lf===0&&Xo!==null){Ra!==null&&(Ra.status="fulfilled");var t=Xo;Xo=null,wa=0,Ra=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function I1(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Zp=G.S;G.S=function(t,n){ky=tn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&C1(t,n),Zp!==null&&Zp(t,n)};var Os=O(null);function uf(){var t=Os.current;return t!==null?t:et.pooledCache}function Bu(t,n){n===null?ie(Os,Os.current):ie(Os,n.pool)}function Wp(){var t=uf();return t===null?null:{parent:bt._currentValue,pool:t}}var Ca=Error(s(460)),cf=Error(s(474)),qu=Error(s(542)),Fu={then:function(){}};function eg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function tg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Fn,Fn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ig(t),t;default:if(typeof n.status=="string")n.then(Fn,Fn);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ig(t),t}throw Vs=n,Ca}}function Ms(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Vs=a,Ca):a}}var Vs=null;function ng(){if(Vs===null)throw Error(s(459));var t=Vs;return Vs=null,t}function ig(t){if(t===Ca||t===qu)throw Error(s(483))}var Ia=null,$o=0;function Hu(t){var n=$o;return $o+=1,Ia===null&&(Ia=[]),tg(Ia,t,n)}function Jo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Gu(t,n){throw n.$$typeof===M?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function rg(t){function n(k,x){if(t){var P=k.deletions;P===null?(k.deletions=[x],k.flags|=16):P.push(x)}}function a(k,x){if(!t)return null;for(;x!==null;)n(k,x),x=x.sibling;return null}function o(k){for(var x=new Map;k!==null;)k.key!==null?x.set(k.key,k):x.set(k.index,k),k=k.sibling;return x}function h(k,x){return k=Bi(k,x),k.index=0,k.sibling=null,k}function f(k,x,P){return k.index=P,t?(P=k.alternate,P!==null?(P=P.index,P<x?(k.flags|=67108866,x):P):(k.flags|=67108866,x)):(k.flags|=1048576,x)}function g(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,x,P,K){return x===null||x.tag!==6?(x=Jh(P,k.mode,K),x.return=k,x):(x=h(x,P),x.return=k,x)}function C(k,x,P,K){var he=P.type;return he===te?F(k,x,P.props.children,K,P.key):x!==null&&(x.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===w&&Ms(he)===x.type)?(x=h(x,P.props),Jo(x,P),x.return=k,x):(x=Uu(P.type,P.key,P.props,null,k.mode,K),Jo(x,P),x.return=k,x)}function z(k,x,P,K){return x===null||x.tag!==4||x.stateNode.containerInfo!==P.containerInfo||x.stateNode.implementation!==P.implementation?(x=Zh(P,k.mode,K),x.return=k,x):(x=h(x,P.children||[]),x.return=k,x)}function F(k,x,P,K,he){return x===null||x.tag!==7?(x=Is(P,k.mode,K,he),x.return=k,x):(x=h(x,P),x.return=k,x)}function Q(k,x,P){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Jh(""+x,k.mode,P),x.return=k,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case H:return P=Uu(x.type,x.key,x.props,null,k.mode,P),Jo(P,x),P.return=k,P;case ee:return x=Zh(x,k.mode,P),x.return=k,x;case w:return x=Ms(x),Q(k,x,P)}if(xt(x)||L(x))return x=Is(x,k.mode,P,null),x.return=k,x;if(typeof x.then=="function")return Q(k,Hu(x),P);if(x.$$typeof===pe)return Q(k,ju(k,x),P);Gu(k,x)}return null}function j(k,x,P,K){var he=x!==null?x.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return he!==null?null:E(k,x,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case H:return P.key===he?C(k,x,P,K):null;case ee:return P.key===he?z(k,x,P,K):null;case w:return P=Ms(P),j(k,x,P,K)}if(xt(P)||L(P))return he!==null?null:F(k,x,P,K,null);if(typeof P.then=="function")return j(k,x,Hu(P),K);if(P.$$typeof===pe)return j(k,x,ju(k,P),K);Gu(k,P)}return null}function q(k,x,P,K,he){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(P)||null,E(x,k,""+K,he);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case H:return k=k.get(K.key===null?P:K.key)||null,C(x,k,K,he);case ee:return k=k.get(K.key===null?P:K.key)||null,z(x,k,K,he);case w:return K=Ms(K),q(k,x,P,K,he)}if(xt(K)||L(K))return k=k.get(P)||null,F(x,k,K,he,null);if(typeof K.then=="function")return q(k,x,P,Hu(K),he);if(K.$$typeof===pe)return q(k,x,P,ju(x,K),he);Gu(x,K)}return null}function le(k,x,P,K){for(var he=null,je=null,ue=x,Re=x=0,xe=null;ue!==null&&Re<P.length;Re++){ue.index>Re?(xe=ue,ue=null):xe=ue.sibling;var Be=j(k,ue,P[Re],K);if(Be===null){ue===null&&(ue=xe);break}t&&ue&&Be.alternate===null&&n(k,ue),x=f(Be,x,Re),je===null?he=Be:je.sibling=Be,je=Be,ue=xe}if(Re===P.length)return a(k,ue),Ve&&qi(k,Re),he;if(ue===null){for(;Re<P.length;Re++)ue=Q(k,P[Re],K),ue!==null&&(x=f(ue,x,Re),je===null?he=ue:je.sibling=ue,je=ue);return Ve&&qi(k,Re),he}for(ue=o(ue);Re<P.length;Re++)xe=q(ue,k,Re,P[Re],K),xe!==null&&(t&&xe.alternate!==null&&ue.delete(xe.key===null?Re:xe.key),x=f(xe,x,Re),je===null?he=xe:je.sibling=xe,je=xe);return t&&ue.forEach(function(Fr){return n(k,Fr)}),Ve&&qi(k,Re),he}function me(k,x,P,K){if(P==null)throw Error(s(151));for(var he=null,je=null,ue=x,Re=x=0,xe=null,Be=P.next();ue!==null&&!Be.done;Re++,Be=P.next()){ue.index>Re?(xe=ue,ue=null):xe=ue.sibling;var Fr=j(k,ue,Be.value,K);if(Fr===null){ue===null&&(ue=xe);break}t&&ue&&Fr.alternate===null&&n(k,ue),x=f(Fr,x,Re),je===null?he=Fr:je.sibling=Fr,je=Fr,ue=xe}if(Be.done)return a(k,ue),Ve&&qi(k,Re),he;if(ue===null){for(;!Be.done;Re++,Be=P.next())Be=Q(k,Be.value,K),Be!==null&&(x=f(Be,x,Re),je===null?he=Be:je.sibling=Be,je=Be);return Ve&&qi(k,Re),he}for(ue=o(ue);!Be.done;Re++,Be=P.next())Be=q(ue,k,Re,Be.value,K),Be!==null&&(t&&Be.alternate!==null&&ue.delete(Be.key===null?Re:Be.key),x=f(Be,x,Re),je===null?he=Be:je.sibling=Be,je=Be);return t&&ue.forEach(function(zA){return n(k,zA)}),Ve&&qi(k,Re),he}function We(k,x,P,K){if(typeof P=="object"&&P!==null&&P.type===te&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case H:e:{for(var he=P.key;x!==null;){if(x.key===he){if(he=P.type,he===te){if(x.tag===7){a(k,x.sibling),K=h(x,P.props.children),K.return=k,k=K;break e}}else if(x.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===w&&Ms(he)===x.type){a(k,x.sibling),K=h(x,P.props),Jo(K,P),K.return=k,k=K;break e}a(k,x);break}else n(k,x);x=x.sibling}P.type===te?(K=Is(P.props.children,k.mode,K,P.key),K.return=k,k=K):(K=Uu(P.type,P.key,P.props,null,k.mode,K),Jo(K,P),K.return=k,k=K)}return g(k);case ee:e:{for(he=P.key;x!==null;){if(x.key===he)if(x.tag===4&&x.stateNode.containerInfo===P.containerInfo&&x.stateNode.implementation===P.implementation){a(k,x.sibling),K=h(x,P.children||[]),K.return=k,k=K;break e}else{a(k,x);break}else n(k,x);x=x.sibling}K=Zh(P,k.mode,K),K.return=k,k=K}return g(k);case w:return P=Ms(P),We(k,x,P,K)}if(xt(P))return le(k,x,P,K);if(L(P)){if(he=L(P),typeof he!="function")throw Error(s(150));return P=he.call(P),me(k,x,P,K)}if(typeof P.then=="function")return We(k,x,Hu(P),K);if(P.$$typeof===pe)return We(k,x,ju(k,P),K);Gu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,x!==null&&x.tag===6?(a(k,x.sibling),K=h(x,P),K.return=k,k=K):(a(k,x),K=Jh(P,k.mode,K),K.return=k,k=K),g(k)):a(k,x)}return function(k,x,P,K){try{$o=0;var he=We(k,x,P,K);return Ia=null,he}catch(ue){if(ue===Ca||ue===qu)throw ue;var je=yn(29,ue,null,k.mode);return je.lanes=K,je.return=k,je}}}var ks=rg(!0),sg=rg(!1),Rr=!1;function hf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ff(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Cr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ir(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Fe&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Lu(t),qp(t,null,a),n}return ku(t,o,n,a),Lu(t)}function Zo(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,wo(t,a)}}function df(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var mf=!1;function Wo(){if(mf){var t=Ra;if(t!==null)throw t}}function el(t,n,a,o){mf=!1;var h=t.updateQueue;Rr=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,z=C.next;C.next=null,g===null?f=z:g.next=z,g=C;var F=t.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==g&&(E===null?F.firstBaseUpdate=z:E.next=z,F.lastBaseUpdate=C))}if(f!==null){var Q=h.baseState;g=0,F=z=C=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(Ne&j)===j:(o&j)===j){j!==0&&j===wa&&(mf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var le=t,me=E;j=n;var We=a;switch(me.tag){case 1:if(le=me.payload,typeof le=="function"){Q=le.call(We,Q,j);break e}Q=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=me.payload,j=typeof le=="function"?le.call(We,Q,j):le,j==null)break e;Q=S({},Q,j);break e;case 2:Rr=!0}}j=E.callback,j!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(z=F=q,C=Q):F=F.next=q,g|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(C=Q),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Mr|=g,t.lanes=g,t.memoizedState=Q}}function ag(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function og(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ag(a[t],n)}var Na=O(null),Ku=O(0);function lg(t,n){t=Wi,ie(Ku,t),ie(Na,n),Wi=t|n.baseLanes}function pf(){ie(Ku,Wi),ie(Na,Na.current)}function gf(){Wi=Ku.current,Y(Na),Y(Ku)}var _n=O(null),Vn=null;function Nr(t){var n=t.alternate;ie(mt,mt.current&1),ie(_n,t),Vn===null&&(n===null||Na.current!==null||n.memoizedState!==null)&&(Vn=t)}function yf(t){ie(mt,mt.current),ie(_n,t),Vn===null&&(Vn=t)}function ug(t){t.tag===22?(ie(mt,mt.current),ie(_n,t),Vn===null&&(Vn=t)):xr()}function xr(){ie(mt,mt.current),ie(_n,_n.current)}function vn(t){Y(_n),Vn===t&&(Vn=null),Y(mt)}var mt=O(0);function Qu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||bd(a)||Sd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Gi=0,Se=null,Je=null,St=null,Yu=!1,xa=!1,Ls=!1,Xu=0,tl=0,Da=null,N1=0;function ct(){throw Error(s(321))}function _f(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!gn(t[a],n[a]))return!1;return!0}function vf(t,n,a,o,h,f){return Gi=f,Se=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?Kg:Vf,Ls=!1,f=a(o,h),Ls=!1,xa&&(f=hg(n,a,o,h)),cg(t),f}function cg(t){G.H=rl;var n=Je!==null&&Je.next!==null;if(Gi=0,St=Je=Se=null,Yu=!1,tl=0,Da=null,n)throw Error(s(300));t===null||wt||(t=t.dependencies,t!==null&&zu(t)&&(wt=!0))}function hg(t,n,a,o){Se=t;var h=0;do{if(xa&&(Da=null),tl=0,xa=!1,25<=h)throw Error(s(301));if(h+=1,St=Je=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Qg,f=n(a,o)}while(xa);return f}function x1(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?nl(n):n,t=t.useState()[0],(Je!==null?Je.memoizedState:null)!==t&&(Se.flags|=1024),n}function Ef(){var t=Xu!==0;return Xu=0,t}function Tf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Af(t){if(Yu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Yu=!1}Gi=0,St=Je=Se=null,xa=!1,tl=Xu=0,Da=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Se.memoizedState=St=t:St=St.next=t,St}function pt(){if(Je===null){var t=Se.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var n=St===null?Se.memoizedState:St.next;if(n!==null)St=n,Je=t;else{if(t===null)throw Se.alternate===null?Error(s(467)):Error(s(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},St===null?Se.memoizedState=St=t:St=St.next=t}return St}function $u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nl(t){var n=tl;return tl+=1,Da===null&&(Da=[]),t=tg(Da,t,n),n=Se,(St===null?n.memoizedState:St.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Kg:Vf),t}function Ju(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return nl(t);if(t.$$typeof===pe)return Ft(t)}throw Error(s(438,String(t)))}function bf(t){var n=null,a=Se.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Se.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=$u(),Se.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=V;return n.index++,a}function Ki(t,n){return typeof n=="function"?n(t):n}function Zu(t){var n=pt();return Sf(n,Je,t)}function Sf(t,n,a){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=g=null,C=null,z=n,F=!1;do{var Q=z.lane&-536870913;if(Q!==z.lane?(Ne&Q)===Q:(Gi&Q)===Q){var j=z.revertLane;if(j===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Q===wa&&(F=!0);else if((Gi&j)===j){z=z.next,j===wa&&(F=!0);continue}else Q={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=Q,g=f):C=C.next=Q,Se.lanes|=j,Mr|=j;Q=z.action,Ls&&a(f,Q),f=z.hasEagerState?z.eagerState:a(f,Q)}else j={lane:Q,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=j,g=f):C=C.next=j,Se.lanes|=Q,Mr|=Q;z=z.next}while(z!==null&&z!==n);if(C===null?g=f:C.next=E,!gn(f,t.memoizedState)&&(wt=!0,F&&(a=Ra,a!==null)))throw a;t.memoizedState=f,t.baseState=g,t.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function wf(t){var n=pt(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);gn(f,n.memoizedState)||(wt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function fg(t,n,a){var o=Se,h=pt(),f=Ve;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var g=!gn((Je||h).memoizedState,a);if(g&&(h.memoizedState=a,wt=!0),h=h.queue,If(pg.bind(null,o,h,t),[t]),h.getSnapshot!==n||g||St!==null&&St.memoizedState.tag&1){if(o.flags|=2048,Oa(9,{destroy:void 0},mg.bind(null,o,h,a,n),null),et===null)throw Error(s(349));f||(Gi&127)!==0||dg(o,n,a)}return a}function dg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Se.updateQueue,n===null?(n=$u(),Se.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function mg(t,n,a,o){n.value=a,n.getSnapshot=o,gg(n)&&yg(t)}function pg(t,n,a){return a(function(){gg(n)&&yg(t)})}function gg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!gn(t,a)}catch{return!0}}function yg(t){var n=Cs(t,2);n!==null&&hn(n,t,2)}function Rf(t){var n=rn();if(typeof t=="function"){var a=t;if(t=a(),Ls){Sn(!0);try{a()}finally{Sn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:t},n}function _g(t,n,a,o){return t.baseState=a,Sf(t,Je,typeof o=="function"?o:Ki)}function D1(t,n,a,o,h){if(tc(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,vg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function vg(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=a(h,o),C=G.S;C!==null&&C(g,E),Eg(t,n,E)}catch(z){Cf(t,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=a(h,o),Eg(t,n,f)}catch(z){Cf(t,n,z)}}function Eg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Tg(t,n,o)},function(o){return Cf(t,n,o)}):Tg(t,n,a)}function Tg(t,n,a){n.status="fulfilled",n.value=a,Ag(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,vg(t,a)))}function Cf(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Ag(n),n=n.next;while(n!==o)}t.action=null}function Ag(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function bg(t,n){return n}function Sg(t,n){if(Ve){var a=et.formState;if(a!==null){e:{var o=Se;if(Ve){if(nt){t:{for(var h=nt,f=Mn;h.nodeType!==8;){if(!f){h=null;break t}if(h=kn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){nt=kn(h.nextSibling),o=h.data==="F!";break e}}Sr(o)}o=!1}o&&(n=a[0])}}return a=rn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bg,lastRenderedState:n},a.queue=o,a=Fg.bind(null,Se,o),o.dispatch=a,o=Rf(!1),f=Mf.bind(null,Se,!1,o.queue),o=rn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=D1.bind(null,Se,h,f,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function wg(t){var n=pt();return Rg(n,Je,t)}function Rg(t,n,a){if(n=Sf(t,n,bg)[0],t=Zu(Ki)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=nl(n)}catch(g){throw g===Ca?qu:g}else o=n;n=pt();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Se.flags|=2048,Oa(9,{destroy:void 0},O1.bind(null,h,a),null)),[o,f,t]}function O1(t,n){t.action=n}function Cg(t){var n=pt(),a=Je;if(a!==null)return Rg(n,a,t);pt(),n=n.memoizedState,a=pt();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function Oa(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=Se.updateQueue,n===null&&(n=$u(),Se.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function Ig(){return pt().memoizedState}function Wu(t,n,a,o){var h=rn();Se.flags|=t,h.memoizedState=Oa(1|n,{destroy:void 0},a,o===void 0?null:o)}function ec(t,n,a,o){var h=pt();o=o===void 0?null:o;var f=h.memoizedState.inst;Je!==null&&o!==null&&_f(o,Je.memoizedState.deps)?h.memoizedState=Oa(n,f,a,o):(Se.flags|=t,h.memoizedState=Oa(1|n,f,a,o))}function Ng(t,n){Wu(8390656,8,t,n)}function If(t,n){ec(2048,8,t,n)}function M1(t){Se.flags|=4;var n=Se.updateQueue;if(n===null)n=$u(),Se.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function xg(t){var n=pt().memoizedState;return M1({ref:n,nextImpl:t}),function(){if((Fe&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Dg(t,n){return ec(4,2,t,n)}function Og(t,n){return ec(4,4,t,n)}function Mg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Vg(t,n,a){a=a!=null?a.concat([t]):null,ec(4,4,Mg.bind(null,n,t),a)}function Nf(){}function kg(t,n){var a=pt();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&_f(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function Lg(t,n){var a=pt();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&_f(n,o[1]))return o[0];if(o=t(),Ls){Sn(!0);try{t()}finally{Sn(!1)}}return a.memoizedState=[o,n],o}function xf(t,n,a){return a===void 0||(Gi&1073741824)!==0&&(Ne&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Uy(),Se.lanes|=t,Mr|=t,a)}function Ug(t,n,a,o){return gn(a,n)?a:Na.current!==null?(t=xf(t,a,o),gn(t,n)||(wt=!0),t):(Gi&42)===0||(Gi&1073741824)!==0&&(Ne&261930)===0?(wt=!0,t.memoizedState=a):(t=Uy(),Se.lanes|=t,Mr|=t,n)}function Pg(t,n,a,o,h){var f=ne.p;ne.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,Mf(t,!1,n,a);try{var C=h(),z=G.S;if(z!==null&&z(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=I1(C,o);il(t,n,F,An(t))}else il(t,n,o,An(t))}catch(Q){il(t,n,{then:function(){},status:"rejected",reason:Q},An())}finally{ne.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function V1(){}function Df(t,n,a,o){if(t.tag!==5)throw Error(s(476));var h=zg(t).queue;Pg(t,h,n,de,a===null?V1:function(){return jg(t),a(o)})}function zg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:de},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function jg(t){var n=zg(t);n.next===null&&(n=t.alternate.memoizedState),il(t,n.next.queue,{},An())}function Of(){return Ft(El)}function Bg(){return pt().memoizedState}function qg(){return pt().memoizedState}function k1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=An();t=Cr(a);var o=Ir(n,t,a);o!==null&&(hn(o,n,a),Zo(o,n,a)),n={cache:of()},t.payload=n;return}n=n.return}}function L1(t,n,a){var o=An();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},tc(t)?Hg(n,a):(a=Xh(t,n,a,o),a!==null&&(hn(a,t,o),Gg(a,n,o)))}function Fg(t,n,a){var o=An();il(t,n,a,o)}function il(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(tc(t))Hg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(h.hasEagerState=!0,h.eagerState=E,gn(E,g))return ku(t,n,h,0),et===null&&Vu(),!1}catch{}if(a=Xh(t,n,h,o),a!==null)return hn(a,t,o),Gg(a,n,o),!0}return!1}function Mf(t,n,a,o){if(o={lane:2,revertLane:hd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},tc(t)){if(n)throw Error(s(479))}else n=Xh(t,a,o,2),n!==null&&hn(n,t,2)}function tc(t){var n=t.alternate;return t===Se||n!==null&&n===Se}function Hg(t,n){xa=Yu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Gg(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,wo(t,a)}}var rl={readContext:Ft,use:Ju,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};rl.useEffectEvent=ct;var Kg={readContext:Ft,use:Ju,useCallback:function(t,n){return rn().memoizedState=[t,n===void 0?null:n],t},useContext:Ft,useEffect:Ng,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Wu(4194308,4,Mg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Wu(4194308,4,t,n)},useInsertionEffect:function(t,n){Wu(4,2,t,n)},useMemo:function(t,n){var a=rn();n=n===void 0?null:n;var o=t();if(Ls){Sn(!0);try{t()}finally{Sn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=rn();if(a!==void 0){var h=a(n);if(Ls){Sn(!0);try{a(n)}finally{Sn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=L1.bind(null,Se,t),[o.memoizedState,t]},useRef:function(t){var n=rn();return t={current:t},n.memoizedState=t},useState:function(t){t=Rf(t);var n=t.queue,a=Fg.bind(null,Se,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Nf,useDeferredValue:function(t,n){var a=rn();return xf(a,t,n)},useTransition:function(){var t=Rf(!1);return t=Pg.bind(null,Se,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=Se,h=rn();if(Ve){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),et===null)throw Error(s(349));(Ne&127)!==0||dg(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Ng(pg.bind(null,o,f,t),[t]),o.flags|=2048,Oa(9,{destroy:void 0},mg.bind(null,o,f,a,n),null),a},useId:function(){var t=rn(),n=et.identifierPrefix;if(Ve){var a=Si,o=bi;a=(o&~(1<<32-ft(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Xu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=N1++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Of,useFormState:Sg,useActionState:Sg,useOptimistic:function(t){var n=rn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Mf.bind(null,Se,!0,a),a.dispatch=n,[t,n]},useMemoCache:bf,useCacheRefresh:function(){return rn().memoizedState=k1.bind(null,Se)},useEffectEvent:function(t){var n=rn(),a={impl:t};return n.memoizedState=a,function(){if((Fe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Vf={readContext:Ft,use:Ju,useCallback:kg,useContext:Ft,useEffect:If,useImperativeHandle:Vg,useInsertionEffect:Dg,useLayoutEffect:Og,useMemo:Lg,useReducer:Zu,useRef:Ig,useState:function(){return Zu(Ki)},useDebugValue:Nf,useDeferredValue:function(t,n){var a=pt();return Ug(a,Je.memoizedState,t,n)},useTransition:function(){var t=Zu(Ki)[0],n=pt().memoizedState;return[typeof t=="boolean"?t:nl(t),n]},useSyncExternalStore:fg,useId:Bg,useHostTransitionStatus:Of,useFormState:wg,useActionState:wg,useOptimistic:function(t,n){var a=pt();return _g(a,Je,t,n)},useMemoCache:bf,useCacheRefresh:qg};Vf.useEffectEvent=xg;var Qg={readContext:Ft,use:Ju,useCallback:kg,useContext:Ft,useEffect:If,useImperativeHandle:Vg,useInsertionEffect:Dg,useLayoutEffect:Og,useMemo:Lg,useReducer:wf,useRef:Ig,useState:function(){return wf(Ki)},useDebugValue:Nf,useDeferredValue:function(t,n){var a=pt();return Je===null?xf(a,t,n):Ug(a,Je.memoizedState,t,n)},useTransition:function(){var t=wf(Ki)[0],n=pt().memoizedState;return[typeof t=="boolean"?t:nl(t),n]},useSyncExternalStore:fg,useId:Bg,useHostTransitionStatus:Of,useFormState:Cg,useActionState:Cg,useOptimistic:function(t,n){var a=pt();return Je!==null?_g(a,Je,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:bf,useCacheRefresh:qg};Qg.useEffectEvent=xg;function kf(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:S({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Lf={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=An(),h=Cr(o);h.payload=n,a!=null&&(h.callback=a),n=Ir(t,h,o),n!==null&&(hn(n,t,o),Zo(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=An(),h=Cr(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Ir(t,h,o),n!==null&&(hn(n,t,o),Zo(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=An(),o=Cr(a);o.tag=2,n!=null&&(o.callback=n),n=Ir(t,o,a),n!==null&&(hn(n,t,a),Zo(n,t,a))}};function Yg(t,n,a,o,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Ho(a,o)||!Ho(h,f):!0}function Xg(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&Lf.enqueueReplaceState(n,n.state,null)}function Us(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function $g(t){Mu(t)}function Jg(t){console.error(t)}function Zg(t){Mu(t)}function nc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Wg(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Uf(t,n,a){return a=Cr(a),a.tag=3,a.payload={element:null},a.callback=function(){nc(t,n)},a}function ey(t){return t=Cr(t),t.tag=3,t}function ty(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){Wg(n,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Wg(n,a,o),typeof h!="function"&&(Vr===null?Vr=new Set([this]):Vr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function U1(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Sa(n,a,h,!0),a=_n.current,a!==null){switch(a.tag){case 31:case 13:return Vn===null?mc():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Fu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),ld(t,o,h)),!1;case 22:return a.flags|=65536,o===Fu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),ld(t,o,h)),!1}throw Error(s(435,a.tag))}return ld(t,o,h),mc(),!1}if(Ve)return n=_n.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==tf&&(t=Error(s(422),{cause:o}),Qo(xn(t,a)))):(o!==tf&&(n=Error(s(423),{cause:o}),Qo(xn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=xn(o,a),h=Uf(t.stateNode,o,h),df(t,h),ht!==4&&(ht=2)),!1;var f=Error(s(520),{cause:o});if(f=xn(f,a),fl===null?fl=[f]:fl.push(f),ht!==4&&(ht=2),n===null)return!0;o=xn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Uf(a.stateNode,o,t),df(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Vr===null||!Vr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ey(h),ty(h,t,a,o),df(a,h),!1}a=a.return}while(a!==null);return!1}var Pf=Error(s(461)),wt=!1;function Ht(t,n,a,o){n.child=t===null?sg(n,null,a,o):ks(n,t.child,a,o)}function ny(t,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Ds(n),o=vf(t,n,a,g,f,h),E=Ef(),t!==null&&!wt?(Tf(t,n,h),Qi(t,n,h)):(Ve&&E&&Wh(n),n.flags|=1,Ht(t,n,o,h),n.child)}function iy(t,n,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!$h(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,ry(t,n,f,o,h)):(t=Uu(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Kf(t,h)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:Ho,a(g,o)&&t.ref===n.ref)return Qi(t,n,h)}return n.flags|=1,t=Bi(f,o),t.ref=n.ref,t.return=n,n.child=t}function ry(t,n,a,o,h){if(t!==null){var f=t.memoizedProps;if(Ho(f,o)&&t.ref===n.ref)if(wt=!1,n.pendingProps=o=f,Kf(t,h))(t.flags&131072)!==0&&(wt=!0);else return n.lanes=t.lanes,Qi(t,n,h)}return zf(t,n,a,o,h)}function sy(t,n,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return ay(t,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Bu(n,f!==null?f.cachePool:null),f!==null?lg(n,f):pf(),ug(n);else return o=n.lanes=536870912,ay(t,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Bu(n,f.cachePool),lg(n,f),xr(),n.memoizedState=null):(t!==null&&Bu(n,null),pf(),xr());return Ht(t,n,h,a),n.child}function sl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ay(t,n,a,o,h){var f=uf();return f=f===null?null:{parent:bt._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Bu(n,null),pf(),ug(n),t!==null&&Sa(t,n,o,!0),n.childLanes=h,null}function ic(t,n){return n=sc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function oy(t,n,a){return ks(n,t.child,null,a),t=ic(n,n.pendingProps),t.flags|=2,vn(n),n.memoizedState=null,t}function P1(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ve){if(o.mode==="hidden")return t=ic(n,o),n.lanes=536870912,sl(null,t);if(yf(n),(t=nt)?(t=v_(t,Mn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ar!==null?{id:bi,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},a=Hp(t),a.return=n,n.child=a,qt=n,nt=null)):t=null,t===null)throw Sr(n);return n.lanes=536870912,null}return ic(n,o)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(yf(n),h)if(n.flags&256)n.flags&=-257,n=oy(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(wt||Sa(t,n,a,!1),h=(a&t.childLanes)!==0,wt||h){if(o=et,o!==null&&(g=Ro(o,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,Cs(t,g),hn(o,t,g),Pf;mc(),n=oy(t,n,a)}else t=f.treeContext,nt=kn(g.nextSibling),qt=n,Ve=!0,br=null,Mn=!1,t!==null&&Qp(n,t),n=ic(n,o),n.flags|=4096;return n}return t=Bi(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function rc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function zf(t,n,a,o,h){return Ds(n),a=vf(t,n,a,o,void 0,h),o=Ef(),t!==null&&!wt?(Tf(t,n,h),Qi(t,n,h)):(Ve&&o&&Wh(n),n.flags|=1,Ht(t,n,a,h),n.child)}function ly(t,n,a,o,h,f){return Ds(n),n.updateQueue=null,a=hg(n,o,a,h),cg(t),o=Ef(),t!==null&&!wt?(Tf(t,n,f),Qi(t,n,f)):(Ve&&o&&Wh(n),n.flags|=1,Ht(t,n,a,f),n.child)}function uy(t,n,a,o,h){if(Ds(n),n.stateNode===null){var f=Ea,g=a.contextType;typeof g=="object"&&g!==null&&(f=Ft(g)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Lf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},hf(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?Ft(g):Ea,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(kf(n,a,g,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Lf.enqueueReplaceState(f,f.state,null),el(n,o,f,h),Wo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,C=Us(a,E);f.props=C;var z=f.context,F=a.contextType;g=Ea,typeof F=="object"&&F!==null&&(g=Ft(F));var Q=a.getDerivedStateFromProps;F=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&Xg(n,f,o,g),Rr=!1;var j=n.memoizedState;f.state=j,el(n,o,f,h),Wo(),z=n.memoizedState,E||j!==z||Rr?(typeof Q=="function"&&(kf(n,a,Q,o),z=n.memoizedState),(C=Rr||Yg(n,a,C,o,j,z,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,ff(t,n),g=n.memoizedProps,F=Us(a,g),f.props=F,Q=n.pendingProps,j=f.context,z=a.contextType,C=Ea,typeof z=="object"&&z!==null&&(C=Ft(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Q||j!==C)&&Xg(n,f,o,C),Rr=!1,j=n.memoizedState,f.state=j,el(n,o,f,h),Wo();var q=n.memoizedState;g!==Q||j!==q||Rr||t!==null&&t.dependencies!==null&&zu(t.dependencies)?(typeof E=="function"&&(kf(n,a,E,o),q=n.memoizedState),(F=Rr||Yg(n,a,F,o,j,q,C)||t!==null&&t.dependencies!==null&&zu(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=C,o=F):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,rc(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=ks(n,t.child,null,h),n.child=ks(n,null,a,h)):Ht(t,n,a,h),n.memoizedState=f.state,t=n.child):t=Qi(t,n,h),t}function cy(t,n,a,o){return Ns(),n.flags|=256,Ht(t,n,a,o),n.child}var jf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bf(t){return{baseLanes:t,cachePool:Wp()}}function qf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Tn),t}function hy(t,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(mt.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ve){if(h?Nr(n):xr(),(t=nt)?(t=v_(t,Mn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ar!==null?{id:bi,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},a=Hp(t),a.return=n,n.child=a,qt=n,nt=null)):t=null,t===null)throw Sr(n);return Sd(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(xr(),h=n.mode,E=sc({mode:"hidden",children:E},h),o=Is(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Bf(a),o.childLanes=qf(t,g,a),n.memoizedState=jf,sl(null,o)):(Nr(n),Ff(n,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(Nr(n),n.flags&=-257,n=Hf(t,n,a)):n.memoizedState!==null?(xr(),n.child=t.child,n.flags|=128,n=null):(xr(),E=o.fallback,h=n.mode,o=sc({mode:"visible",children:o.children},h),E=Is(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,ks(n,t.child,null,a),o=n.child,o.memoizedState=Bf(a),o.childLanes=qf(t,g,a),n.memoizedState=jf,n=sl(null,o));else if(Nr(n),Sd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(s(419)),o.stack="",o.digest=g,Qo({value:o,source:null,stack:null}),n=Hf(t,n,a)}else if(wt||Sa(t,n,a,!1),g=(a&t.childLanes)!==0,wt||g){if(g=et,g!==null&&(o=Ro(g,a),o!==0&&o!==C.retryLane))throw C.retryLane=o,Cs(t,o),hn(g,t,o),Pf;bd(E)||mc(),n=Hf(t,n,a)}else bd(E)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,nt=kn(E.nextSibling),qt=n,Ve=!0,br=null,Mn=!1,t!==null&&Qp(n,t),n=Ff(n,o.children),n.flags|=4096);return n}return h?(xr(),E=o.fallback,h=n.mode,C=t.child,z=C.sibling,o=Bi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,z!==null?E=Bi(z,E):(E=Is(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,sl(null,o),o=n.child,E=t.child.memoizedState,E===null?E=Bf(a):(h=E.cachePool,h!==null?(C=bt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Wp(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=qf(t,g,a),n.memoizedState=jf,sl(t.child,o)):(Nr(n),a=t.child,t=a.sibling,a=Bi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function Ff(t,n){return n=sc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function sc(t,n){return t=yn(22,t,null,n),t.lanes=0,t}function Hf(t,n,a){return ks(n,t.child,null,a),t=Ff(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function fy(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),sf(t.return,n,a)}function Gf(t,n,a,o,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=a,g.tailMode=h,g.treeForkCount=f)}function dy(t,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=mt.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,ie(mt,g),Ht(t,n,o,a),o=Ve?Ko:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fy(t,a,n);else if(t.tag===19)fy(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Qu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Gf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Qu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Gf(n,!0,a,null,f,o);break;case"together":Gf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Qi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Mr|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Sa(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Bi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Bi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Kf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&zu(t)))}function z1(t,n,a){switch(n.tag){case 3:Dt(n,n.stateNode.containerInfo),wr(n,bt,t.memoizedState.cache),Ns();break;case 27:case 5:us(n);break;case 4:Dt(n,n.stateNode.containerInfo);break;case 10:wr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,yf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Nr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?hy(t,n,a):(Nr(n),t=Qi(t,n,a),t!==null?t.sibling:null);Nr(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Sa(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return dy(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(mt,mt.current),o)break;return null;case 22:return n.lanes=0,sy(t,n,a,n.pendingProps);case 24:wr(n,bt,t.memoizedState.cache)}return Qi(t,n,a)}function my(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)wt=!0;else{if(!Kf(t,a)&&(n.flags&128)===0)return wt=!1,z1(t,n,a);wt=(t.flags&131072)!==0}else wt=!1,Ve&&(n.flags&1048576)!==0&&Kp(n,Ko,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Ms(n.elementType),n.type=t,typeof t=="function")$h(t)?(o=Us(t,o),n.tag=1,n=uy(null,n,t,o,a)):(n.tag=0,n=zf(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===Ae){n.tag=11,n=ny(null,n,t,o,a);break e}else if(h===N){n.tag=14,n=iy(null,n,t,o,a);break e}}throw n=st(t)||t,Error(s(306,n,""))}}return n;case 0:return zf(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Us(o,n.pendingProps),uy(t,n,o,h,a);case 3:e:{if(Dt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,ff(t,n),el(n,o,null,a);var g=n.memoizedState;if(o=g.cache,wr(n,bt,o),o!==f.cache&&af(n,[bt],a,!0),Wo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=cy(t,n,o,a);break e}else if(o!==h){h=xn(Error(s(424)),n),Qo(h),n=cy(t,n,o,a);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,nt=kn(t.firstChild),qt=n,Ve=!0,br=null,Mn=!0,a=sg(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ns(),o===h){n=Qi(t,n,a);break e}Ht(t,n,o,a)}n=n.child}return n;case 26:return rc(t,n),t===null?(a=w_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ve||(a=n.type,t=n.pendingProps,o=Tc(we.current).createElement(a),o[Et]=n,o[kt]=t,Gt(o,a,t),Tt(o),n.stateNode=o):n.memoizedState=w_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return us(n),t===null&&Ve&&(o=n.stateNode=A_(n.type,n.pendingProps,we.current),qt=n,Mn=!0,h=nt,Pr(n.type)?(wd=h,nt=kn(o.firstChild)):nt=h),Ht(t,n,n.pendingProps.children,a),rc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ve&&((h=o=nt)&&(o=pA(o,n.type,n.pendingProps,Mn),o!==null?(n.stateNode=o,qt=n,nt=kn(o.firstChild),Mn=!1,h=!0):h=!1),h||Sr(n)),us(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,o=f.children,Ed(h,f)?o=null:g!==null&&Ed(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=vf(t,n,x1,null,null,a),El._currentValue=h),rc(t,n),Ht(t,n,o,a),n.child;case 6:return t===null&&Ve&&((t=a=nt)&&(a=gA(a,n.pendingProps,Mn),a!==null?(n.stateNode=a,qt=n,nt=null,t=!0):t=!1),t||Sr(n)),null;case 13:return hy(t,n,a);case 4:return Dt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=ks(n,null,o,a):Ht(t,n,o,a),n.child;case 11:return ny(t,n,n.type,n.pendingProps,a);case 7:return Ht(t,n,n.pendingProps,a),n.child;case 8:return Ht(t,n,n.pendingProps.children,a),n.child;case 12:return Ht(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,wr(n,n.type,o.value),Ht(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Ds(n),h=Ft(h),o=o(h),n.flags|=1,Ht(t,n,o,a),n.child;case 14:return iy(t,n,n.type,n.pendingProps,a);case 15:return ry(t,n,n.type,n.pendingProps,a);case 19:return dy(t,n,a);case 31:return P1(t,n,a);case 22:return sy(t,n,a,n.pendingProps);case 24:return Ds(n),o=Ft(bt),t===null?(h=uf(),h===null&&(h=et,f=of(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},hf(n),wr(n,bt,h)):((t.lanes&a)!==0&&(ff(t,n),el(n,null,null,a),Wo()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),wr(n,bt,o)):(o=f.cache,wr(n,bt,o),o!==h.cache&&af(n,[bt],a,!0))),Ht(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Yi(t){t.flags|=4}function Qf(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(By())t.flags|=8192;else throw Vs=Fu,cf}else t.flags&=-16777217}function py(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!x_(n))if(By())t.flags|=8192;else throw Vs=Fu,cf}function ac(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?fu():536870912,t.lanes|=n,La|=n)}function al(t,n){if(!Ve)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function it(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function j1(t,n,a){var o=n.pendingProps;switch(ef(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(n),null;case 1:return it(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Hi(bt),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ba(n)?Yi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,nf())),it(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(Yi(n),f!==null?(it(n),py(n,f)):(it(n),Qf(n,h,null,o,a))):f?f!==t.memoizedState?(Yi(n),it(n),py(n,f)):(it(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&Yi(n),it(n),Qf(n,h,t,o,a)),null;case 27:if(ta(n),a=we.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Yi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return it(n),null}t=oe.current,ba(n)?Yp(n):(t=A_(h,o,a),n.stateNode=t,Yi(n))}return it(n),null;case 5:if(ta(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Yi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return it(n),null}if(f=oe.current,ba(n))Yp(n);else{var g=Tc(we.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Et]=n,f[kt]=o;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(Gt(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Yi(n)}}return it(n),Qf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&Yi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(t=we.current,ba(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=qt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Et]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||h_(t.nodeValue,a)),t||Sr(n,!0)}else t=Tc(t).createTextNode(o),t[Et]=n,n.stateNode=t}return it(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=ba(n),a!==null){if(t===null){if(!o)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Et]=n}else Ns(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;it(n),t=!1}else a=nf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(vn(n),n):(vn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return it(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ba(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Et]=n}else Ns(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;it(n),h=!1}else h=nf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(vn(n),n):(vn(n),null)}return vn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),ac(n,n.updateQueue),it(n),null);case 4:return at(),t===null&&pd(n.stateNode.containerInfo),it(n),null;case 10:return Hi(n.type),it(n),null;case 19:if(Y(mt),o=n.memoizedState,o===null)return it(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)al(o,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Qu(t),f!==null){for(n.flags|=128,al(o,!1),t=f.updateQueue,n.updateQueue=t,ac(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Fp(a,t),a=a.sibling;return ie(mt,mt.current&1|2),Ve&&qi(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&tn()>hc&&(n.flags|=128,h=!0,al(o,!1),n.lanes=4194304)}else{if(!h)if(t=Qu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,ac(n,t),al(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ve)return it(n),null}else 2*tn()-o.renderingStartTime>hc&&a!==536870912&&(n.flags|=128,h=!0,al(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=tn(),t.sibling=null,a=mt.current,ie(mt,h?a&1|2:a&1),Ve&&qi(n,o.treeForkCount),t):(it(n),null);case 22:case 23:return vn(n),gf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(it(n),n.subtreeFlags&6&&(n.flags|=8192)):it(n),a=n.updateQueue,a!==null&&ac(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&Y(Os),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Hi(bt),it(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function B1(t,n){switch(ef(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Hi(bt),at(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ta(n),null;case 31:if(n.memoizedState!==null){if(vn(n),n.alternate===null)throw Error(s(340));Ns()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(vn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Ns()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(mt),null;case 4:return at(),null;case 10:return Hi(n.type),null;case 22:case 23:return vn(n),gf(),t!==null&&Y(Os),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Hi(bt),null;case 25:return null;default:return null}}function gy(t,n){switch(ef(n),n.tag){case 3:Hi(bt),at();break;case 26:case 27:case 5:ta(n);break;case 4:at();break;case 31:n.memoizedState!==null&&vn(n);break;case 13:vn(n);break;case 19:Y(mt);break;case 10:Hi(n.type);break;case 22:case 23:vn(n),gf(),t!==null&&Y(Os);break;case 24:Hi(bt)}}function ol(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,g=a.inst;o=f(),g.destroy=o}a=a.next}while(a!==h)}}catch(E){Xe(n,n.return,E)}}function Dr(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var C=a,z=E;try{z()}catch(F){Xe(h,C,F)}}}o=o.next}while(o!==f)}}catch(F){Xe(n,n.return,F)}}function yy(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{og(n,a)}catch(o){Xe(t,t.return,o)}}}function _y(t,n,a){a.props=Us(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Xe(t,n,o)}}function ll(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){Xe(t,n,h)}}function wi(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Xe(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Xe(t,n,h)}else a.current=null}function vy(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Xe(t,t.return,h)}}function Yf(t,n,a){try{var o=t.stateNode;uA(o,t.type,a,n),o[kt]=n}catch(h){Xe(t,t.return,h)}}function Ey(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Pr(t.type)||t.tag===4}function Xf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ey(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Pr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $f(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Fn));else if(o!==4&&(o===27&&Pr(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for($f(t,n,a),t=t.sibling;t!==null;)$f(t,n,a),t=t.sibling}function oc(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&Pr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(oc(t,n,a),t=t.sibling;t!==null;)oc(t,n,a),t=t.sibling}function Ty(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Gt(n,o,a),n[Et]=t,n[kt]=a}catch(f){Xe(t,t.return,f)}}var Xi=!1,Rt=!1,Jf=!1,Ay=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function q1(t,n){if(t=t.containerInfo,_d=Ic,t=Vp(t),Fh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var g=0,E=-1,C=-1,z=0,F=0,Q=t,j=null;t:for(;;){for(var q;Q!==a||h!==0&&Q.nodeType!==3||(E=g+h),Q!==f||o!==0&&Q.nodeType!==3||(C=g+o),Q.nodeType===3&&(g+=Q.nodeValue.length),(q=Q.firstChild)!==null;)j=Q,Q=q;for(;;){if(Q===t)break t;if(j===a&&++z===h&&(E=g),j===f&&++F===o&&(C=g),(q=Q.nextSibling)!==null)break;Q=j,j=Q.parentNode}Q=q}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(vd={focusedElem:t,selectionRange:a},Ic=!1,Ut=n;Ut!==null;)if(n=Ut,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ut=t;else for(;Ut!==null;){switch(n=Ut,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var le=Us(a.type,h);t=o.getSnapshotBeforeUpdate(le,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(me){Xe(a,a.return,me)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Ad(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ad(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ut=t;break}Ut=n.return}}function by(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Ji(t,a),o&4&&ol(5,a);break;case 1:if(Ji(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){Xe(a,a.return,g)}else{var h=Us(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Xe(a,a.return,g)}}o&64&&yy(a),o&512&&ll(a,a.return);break;case 3:if(Ji(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{og(t,n)}catch(g){Xe(a,a.return,g)}}break;case 27:n===null&&o&4&&Ty(a);case 26:case 5:Ji(t,a),n===null&&o&4&&vy(a),o&512&&ll(a,a.return);break;case 12:Ji(t,a);break;case 31:Ji(t,a),o&4&&Ry(t,a);break;case 13:Ji(t,a),o&4&&Cy(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=J1.bind(null,a),yA(t,a))));break;case 22:if(o=a.memoizedState!==null||Xi,!o){n=n!==null&&n.memoizedState!==null||Rt,h=Xi;var f=Rt;Xi=o,(Rt=n)&&!f?Zi(t,a,(a.subtreeFlags&8772)!==0):Ji(t,a),Xi=h,Rt=f}break;case 30:break;default:Ji(t,a)}}function Sy(t){var n=t.alternate;n!==null&&(t.alternate=null,Sy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&aa(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,on=!1;function $i(t,n,a){for(a=a.child;a!==null;)wy(t,n,a),a=a.sibling}function wy(t,n,a){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(zn,a)}catch{}switch(a.tag){case 26:Rt||wi(a,n),$i(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Rt||wi(a,n);var o=lt,h=on;Pr(a.type)&&(lt=a.stateNode,on=!1),$i(t,n,a),yl(a.stateNode),lt=o,on=h;break;case 5:Rt||wi(a,n);case 6:if(o=lt,h=on,lt=null,$i(t,n,a),lt=o,on=h,lt!==null)if(on)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(f){Xe(a,n,f)}else try{lt.removeChild(a.stateNode)}catch(f){Xe(a,n,f)}break;case 18:lt!==null&&(on?(t=lt,y_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ha(t)):y_(lt,a.stateNode));break;case 4:o=lt,h=on,lt=a.stateNode.containerInfo,on=!0,$i(t,n,a),lt=o,on=h;break;case 0:case 11:case 14:case 15:Dr(2,a,n),Rt||Dr(4,a,n),$i(t,n,a);break;case 1:Rt||(wi(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&_y(a,n,o)),$i(t,n,a);break;case 21:$i(t,n,a);break;case 22:Rt=(o=Rt)||a.memoizedState!==null,$i(t,n,a),Rt=o;break;default:$i(t,n,a)}}function Ry(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ha(t)}catch(a){Xe(n,n.return,a)}}}function Cy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ha(t)}catch(a){Xe(n,n.return,a)}}function F1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Ay),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Ay),n;default:throw Error(s(435,t.tag))}}function lc(t,n){var a=F1(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=Z1.bind(null,t,o);o.then(h,h)}})}function ln(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,g=n,E=g;e:for(;E!==null;){switch(E.tag){case 27:if(Pr(E.type)){lt=E.stateNode,on=!1;break e}break;case 5:lt=E.stateNode,on=!1;break e;case 3:case 4:lt=E.stateNode.containerInfo,on=!0;break e}E=E.return}if(lt===null)throw Error(s(160));wy(f,g,h),lt=null,on=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Iy(n,t),n=n.sibling}var Xn=null;function Iy(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(n,t),un(t),o&4&&(Dr(3,t,t.return),ol(3,t),Dr(5,t,t.return));break;case 1:ln(n,t),un(t),o&512&&(Rt||a===null||wi(a,a.return)),o&64&&Xi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Xn;if(ln(n,t),un(t),o&512&&(Rt||a===null||wi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[hi]||f[Et]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Gt(f,o,a),f[Et]=t,Tt(f),o=f;break e;case"link":var g=I_("link","href",h).get(o+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break t}}f=h.createElement(o),Gt(f,o,a),h.head.appendChild(f);break;case"meta":if(g=I_("meta","content",h).get(o+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break t}}f=h.createElement(o),Gt(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[Et]=t,Tt(f),o=f}t.stateNode=o}else N_(h,t.type,t.stateNode);else t.stateNode=C_(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?N_(h,t.type,t.stateNode):C_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Yf(t,t.memoizedProps,a.memoizedProps)}break;case 27:ln(n,t),un(t),o&512&&(Rt||a===null||wi(a,a.return)),a!==null&&o&4&&Yf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(ln(n,t),un(t),o&512&&(Rt||a===null||wi(a,a.return)),t.flags&32){h=t.stateNode;try{an(h,"")}catch(le){Xe(t,t.return,le)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Yf(t,h,a!==null?a.memoizedProps:h)),o&1024&&(Jf=!0);break;case 6:if(ln(n,t),un(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(le){Xe(t,t.return,le)}}break;case 3:if(Sc=null,h=Xn,Xn=Ac(n.containerInfo),ln(n,t),Xn=h,un(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Ha(n.containerInfo)}catch(le){Xe(t,t.return,le)}Jf&&(Jf=!1,Ny(t));break;case 4:o=Xn,Xn=Ac(t.stateNode.containerInfo),ln(n,t),un(t),Xn=o;break;case 12:ln(n,t),un(t);break;case 31:ln(n,t),un(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,lc(t,o)));break;case 13:ln(n,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(cc=tn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,lc(t,o)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,z=Xi,F=Rt;if(Xi=z||h,Rt=F||C,ln(n,t),Rt=F,Xi=z,un(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||C||Xi||Rt||Ps(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=C.stateNode;var Q=C.memoizedProps.style,j=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(le){Xe(C,C.return,le)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(le){Xe(C,C.return,le)}}}else if(n.tag===18){if(a===null){C=n;try{var q=C.stateNode;h?__(q,!0):__(C.stateNode,!1)}catch(le){Xe(C,C.return,le)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,lc(t,a))));break;case 19:ln(n,t),un(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,lc(t,o)));break;case 30:break;case 21:break;default:ln(n,t),un(t)}}function un(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(Ey(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=Xf(t);oc(t,f,h);break;case 5:var g=a.stateNode;a.flags&32&&(an(g,""),a.flags&=-33);var E=Xf(t);oc(t,E,g);break;case 3:case 4:var C=a.stateNode.containerInfo,z=Xf(t);$f(t,z,C);break;default:throw Error(s(161))}}catch(F){Xe(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ny(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ny(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ji(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)by(t,n.alternate,n),n=n.sibling}function Ps(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Dr(4,n,n.return),Ps(n);break;case 1:wi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&_y(n,n.return,a),Ps(n);break;case 27:yl(n.stateNode);case 26:case 5:wi(n,n.return),Ps(n);break;case 22:n.memoizedState===null&&Ps(n);break;case 30:Ps(n);break;default:Ps(n)}t=t.sibling}}function Zi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Zi(h,f,a),ol(4,f);break;case 1:if(Zi(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Xe(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)ag(C[h],E)}catch(z){Xe(o,o.return,z)}}a&&g&64&&yy(f),ll(f,f.return);break;case 27:Ty(f);case 26:case 5:Zi(h,f,a),a&&o===null&&g&4&&vy(f),ll(f,f.return);break;case 12:Zi(h,f,a);break;case 31:Zi(h,f,a),a&&g&4&&Ry(h,f);break;case 13:Zi(h,f,a),a&&g&4&&Cy(h,f);break;case 22:f.memoizedState===null&&Zi(h,f,a),ll(f,f.return);break;case 30:break;default:Zi(h,f,a)}n=n.sibling}}function Zf(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Yo(a))}function Wf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Yo(t))}function $n(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)xy(t,n,a,o),n=n.sibling}function xy(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:$n(t,n,a,o),h&2048&&ol(9,n);break;case 1:$n(t,n,a,o);break;case 3:$n(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Yo(t)));break;case 12:if(h&2048){$n(t,n,a,o),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Xe(n,n.return,C)}}else $n(t,n,a,o);break;case 31:$n(t,n,a,o);break;case 13:$n(t,n,a,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?$n(t,n,a,o):ul(t,n):f._visibility&2?$n(t,n,a,o):(f._visibility|=2,Ma(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Zf(g,n);break;case 24:$n(t,n,a,o),h&2048&&Wf(n.alternate,n);break;default:$n(t,n,a,o)}}function Ma(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=a,C=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:Ma(f,g,E,C,h),ol(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?Ma(f,g,E,C,h):ul(f,g):(F._visibility|=2,Ma(f,g,E,C,h)),h&&z&2048&&Zf(g.alternate,g);break;case 24:Ma(f,g,E,C,h),h&&z&2048&&Wf(g.alternate,g);break;default:Ma(f,g,E,C,h)}n=n.sibling}}function ul(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:ul(a,o),h&2048&&Zf(o.alternate,o);break;case 24:ul(a,o),h&2048&&Wf(o.alternate,o);break;default:ul(a,o)}n=n.sibling}}var cl=8192;function Va(t,n,a){if(t.subtreeFlags&cl)for(t=t.child;t!==null;)Dy(t,n,a),t=t.sibling}function Dy(t,n,a){switch(t.tag){case 26:Va(t,n,a),t.flags&cl&&t.memoizedState!==null&&NA(a,Xn,t.memoizedState,t.memoizedProps);break;case 5:Va(t,n,a);break;case 3:case 4:var o=Xn;Xn=Ac(t.stateNode.containerInfo),Va(t,n,a),Xn=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=cl,cl=16777216,Va(t,n,a),cl=o):Va(t,n,a));break;default:Va(t,n,a)}}function Oy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function hl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ut=o,Vy(o,t)}Oy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)My(t),t=t.sibling}function My(t){switch(t.tag){case 0:case 11:case 15:hl(t),t.flags&2048&&Dr(9,t,t.return);break;case 3:hl(t);break;case 12:hl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,uc(t)):hl(t);break;default:hl(t)}}function uc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ut=o,Vy(o,t)}Oy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Dr(8,n,n.return),uc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,uc(n));break;default:uc(n)}t=t.sibling}}function Vy(t,n){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Dr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Yo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ut=o;else e:for(a=t;Ut!==null;){o=Ut;var h=o.sibling,f=o.return;if(Sy(o),o===a){Ut=null;break e}if(h!==null){h.return=f,Ut=h;break e}Ut=f}}}var H1={getCacheForType:function(t){var n=Ft(bt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Ft(bt).controller.signal}},G1=typeof WeakMap=="function"?WeakMap:Map,Fe=0,et=null,Ce=null,Ne=0,Ye=0,En=null,Or=!1,ka=!1,ed=!1,Wi=0,ht=0,Mr=0,zs=0,td=0,Tn=0,La=0,fl=null,cn=null,nd=!1,cc=0,ky=0,hc=1/0,fc=null,Vr=null,Mt=0,kr=null,Ua=null,er=0,id=0,rd=null,Ly=null,dl=0,sd=null;function An(){return(Fe&2)!==0&&Ne!==0?Ne&-Ne:G.T!==null?hd():du()}function Uy(){if(Tn===0)if((Ne&536870912)===0||Ve){var t=fs;fs<<=1,(fs&3932160)===0&&(fs=262144),Tn=t}else Tn=536870912;return t=_n.current,t!==null&&(t.flags|=32),Tn}function hn(t,n,a){(t===et&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(Pa(t,0),Lr(t,Ne,Tn,!1)),ds(t,a),((Fe&2)===0||t!==et)&&(t===et&&((Fe&2)===0&&(zs|=a),ht===4&&Lr(t,Ne,Tn,!1)),Ri(t))}function Py(t,n,a){if((Fe&6)!==0)throw Error(s(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||jn(t,n),h=o?Y1(t,n):od(t,n,!0),f=o;do{if(h===0){ka&&!o&&Lr(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!K1(a)){h=od(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var E=t;h=fl;var C=E.current.memoizedState.isDehydrated;if(C&&(Pa(E,g).flags|=256),g=od(E,g,!1),g!==2){if(ed&&!C){E.errorRecoveryDisabledLanes|=f,zs|=f,h=4;break e}f=cn,cn=h,f!==null&&(cn===null?cn=f:cn.push.apply(cn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Pa(t,0),Lr(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Lr(o,n,Tn,!Or);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=cc+300-tn(),10<h)){if(Lr(o,n,Tn,!Or),li(o,0,!0)!==0)break e;er=n,o.timeoutHandle=p_(zy.bind(null,o,a,cn,fc,nd,n,Tn,zs,La,Or,f,"Throttled",-0,0),h);break e}zy(o,a,cn,fc,nd,n,Tn,zs,La,Or,f,null,-0,0)}}break}while(!0);Ri(t)}function zy(t,n,a,o,h,f,g,E,C,z,F,Q,j,q){if(t.timeoutHandle=-1,Q=n.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fn},Dy(n,f,Q);var le=(f&62914560)===f?cc-tn():(f&4194048)===f?ky-tn():0;if(le=xA(Q,le),le!==null){er=f,t.cancelPendingCommit=le(Qy.bind(null,t,n,f,a,o,h,g,E,C,F,Q,null,j,q)),Lr(t,f,g,!z);return}}Qy(t,n,f,a,o,h,g,E,C)}function K1(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!gn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Lr(t,n,a,o){n&=~td,n&=~zs,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-ft(h),g=1<<f;o[f]=-1,h&=~g}a!==0&&ms(t,a,n)}function dc(){return(Fe&6)===0?(ml(0),!1):!0}function ad(){if(Ce!==null){if(Ye===0)var t=Ce.return;else t=Ce,Fi=xs=null,Af(t),Ia=null,$o=0,t=Ce;for(;t!==null;)gy(t.alternate,t),t=t.return;Ce=null}}function Pa(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,fA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),er=0,ad(),et=t,Ce=a=Bi(t.current,null),Ne=n,Ye=0,En=null,Or=!1,ka=jn(t,n),ed=!1,La=Tn=td=zs=Mr=ht=0,cn=fl=null,nd=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-ft(o),f=1<<h;n|=t[h],o&=~f}return Wi=n,Vu(),a}function jy(t,n){Se=null,G.H=rl,n===Ca||n===qu?(n=ng(),Ye=3):n===cf?(n=ng(),Ye=4):Ye=n===Pf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,En=n,Ce===null&&(ht=1,nc(t,xn(n,t.current)))}function By(){var t=_n.current;return t===null?!0:(Ne&4194048)===Ne?Vn===null:(Ne&62914560)===Ne||(Ne&536870912)!==0?t===Vn:!1}function qy(){var t=G.H;return G.H=rl,t===null?rl:t}function Fy(){var t=G.A;return G.A=H1,t}function mc(){ht=4,Or||(Ne&4194048)!==Ne&&_n.current!==null||(ka=!0),(Mr&134217727)===0&&(zs&134217727)===0||et===null||Lr(et,Ne,Tn,!1)}function od(t,n,a){var o=Fe;Fe|=2;var h=qy(),f=Fy();(et!==t||Ne!==n)&&(fc=null,Pa(t,n)),n=!1;var g=ht;e:do try{if(Ye!==0&&Ce!==null){var E=Ce,C=En;switch(Ye){case 8:ad(),g=6;break e;case 3:case 2:case 9:case 6:_n.current===null&&(n=!0);var z=Ye;if(Ye=0,En=null,za(t,E,C,z),a&&ka){g=0;break e}break;default:z=Ye,Ye=0,En=null,za(t,E,C,z)}}Q1(),g=ht;break}catch(F){jy(t,F)}while(!0);return n&&t.shellSuspendCounter++,Fi=xs=null,Fe=o,G.H=h,G.A=f,Ce===null&&(et=null,Ne=0,Vu()),g}function Q1(){for(;Ce!==null;)Hy(Ce)}function Y1(t,n){var a=Fe;Fe|=2;var o=qy(),h=Fy();et!==t||Ne!==n?(fc=null,hc=tn()+500,Pa(t,n)):ka=jn(t,n);e:do try{if(Ye!==0&&Ce!==null){n=Ce;var f=En;t:switch(Ye){case 1:Ye=0,En=null,za(t,n,f,1);break;case 2:case 9:if(eg(f)){Ye=0,En=null,Gy(n);break}n=function(){Ye!==2&&Ye!==9||et!==t||(Ye=7),Ri(t)},f.then(n,n);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:eg(f)?(Ye=0,En=null,Gy(n)):(Ye=0,En=null,za(t,n,f,7));break;case 5:var g=null;switch(Ce.tag){case 26:g=Ce.memoizedState;case 5:case 27:var E=Ce;if(g?x_(g):E.stateNode.complete){Ye=0,En=null;var C=E.sibling;if(C!==null)Ce=C;else{var z=E.return;z!==null?(Ce=z,pc(z)):Ce=null}break t}}Ye=0,En=null,za(t,n,f,5);break;case 6:Ye=0,En=null,za(t,n,f,6);break;case 8:ad(),ht=6;break e;default:throw Error(s(462))}}X1();break}catch(F){jy(t,F)}while(!0);return Fi=xs=null,G.H=o,G.A=h,Fe=a,Ce!==null?0:(et=null,Ne=0,Vu(),ht)}function X1(){for(;Ce!==null&&!Lh();)Hy(Ce)}function Hy(t){var n=my(t.alternate,t,Wi);t.memoizedProps=t.pendingProps,n===null?pc(t):Ce=n}function Gy(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=ly(a,n,n.pendingProps,n.type,void 0,Ne);break;case 11:n=ly(a,n,n.pendingProps,n.type.render,n.ref,Ne);break;case 5:Af(n);default:gy(a,n),n=Ce=Fp(n,Wi),n=my(a,n,Wi)}t.memoizedProps=t.pendingProps,n===null?pc(t):Ce=n}function za(t,n,a,o){Fi=xs=null,Af(n),Ia=null,$o=0;var h=n.return;try{if(U1(t,h,n,a,Ne)){ht=1,nc(t,xn(a,t.current)),Ce=null;return}}catch(f){if(h!==null)throw Ce=h,f;ht=1,nc(t,xn(a,t.current)),Ce=null;return}n.flags&32768?(Ve||o===1?t=!0:ka||(Ne&536870912)!==0?t=!1:(Or=t=!0,(o===2||o===9||o===3||o===6)&&(o=_n.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ky(n,t)):pc(n)}function pc(t){var n=t;do{if((n.flags&32768)!==0){Ky(n,Or);return}t=n.return;var a=j1(n.alternate,n,Wi);if(a!==null){Ce=a;return}if(n=n.sibling,n!==null){Ce=n;return}Ce=n=t}while(n!==null);ht===0&&(ht=5)}function Ky(t,n){do{var a=B1(t.alternate,t);if(a!==null){a.flags&=32767,Ce=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Ce=t;return}Ce=t=a}while(t!==null);ht=6,Ce=null}function Qy(t,n,a,o,h,f,g,E,C){t.cancelPendingCommit=null;do gc();while(Mt!==0);if((Fe&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Yh,zh(t,a,f,g,E,C),t===et&&(Ce=et=null,Ne=0),Ua=n,kr=t,er=a,id=f,rd=h,Ly=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,W1(fr,function(){return Zy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=ne.p,ne.p=2,g=Fe,Fe|=4;try{q1(t,n,a)}finally{Fe=g,ne.p=h,G.T=o}}Mt=1,Yy(),Xy(),$y()}}function Yy(){if(Mt===1){Mt=0;var t=kr,n=Ua,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var o=ne.p;ne.p=2;var h=Fe;Fe|=4;try{Iy(n,t);var f=vd,g=Vp(t.containerInfo),E=f.focusedElem,C=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Mp(E.ownerDocument.documentElement,E)){if(C!==null&&Fh(E)){var z=C.start,F=C.end;if(F===void 0&&(F=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(F,E.value.length);else{var Q=E.ownerDocument||document,j=Q&&Q.defaultView||window;if(j.getSelection){var q=j.getSelection(),le=E.textContent.length,me=Math.min(C.start,le),We=C.end===void 0?me:Math.min(C.end,le);!q.extend&&me>We&&(g=We,We=me,me=g);var k=Op(E,me),x=Op(E,We);if(k&&x&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==x.node||q.focusOffset!==x.offset)){var P=Q.createRange();P.setStart(k.node,k.offset),q.removeAllRanges(),me>We?(q.addRange(P),q.extend(x.node,x.offset)):(P.setEnd(x.node,x.offset),q.addRange(P))}}}}for(Q=[],q=E;q=q.parentNode;)q.nodeType===1&&Q.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var K=Q[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Ic=!!_d,vd=_d=null}finally{Fe=h,ne.p=o,G.T=a}}t.current=n,Mt=2}}function Xy(){if(Mt===2){Mt=0;var t=kr,n=Ua,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var o=ne.p;ne.p=2;var h=Fe;Fe|=4;try{by(t,n.alternate,n)}finally{Fe=h,ne.p=o,G.T=a}}Mt=3}}function $y(){if(Mt===4||Mt===3){Mt=0,au();var t=kr,n=Ua,a=er,o=Ly;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Mt=5:(Mt=0,Ua=kr=null,Jy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Vr=null),Ui(a),n=n.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(zn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=ne.p,ne.p=2,G.T=null;try{for(var f=t.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,ne.p=h}}(er&3)!==0&&gc(),Ri(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===sd?dl++:(dl=0,sd=t):dl=0,ml(0)}}function Jy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Yo(n)))}function gc(){return Yy(),Xy(),$y(),Zy()}function Zy(){if(Mt!==5)return!1;var t=kr,n=id;id=0;var a=Ui(er),o=G.T,h=ne.p;try{ne.p=32>a?32:a,G.T=null,a=rd,rd=null;var f=kr,g=er;if(Mt=0,Ua=kr=null,er=0,(Fe&6)!==0)throw Error(s(331));var E=Fe;if(Fe|=4,My(f.current),xy(f,f.current,g,a),Fe=E,ml(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(zn,f)}catch{}return!0}finally{ne.p=h,G.T=o,Jy(t,n)}}function Wy(t,n,a){n=xn(a,n),n=Uf(t.stateNode,n,2),t=Ir(t,n,2),t!==null&&(ds(t,2),Ri(t))}function Xe(t,n,a){if(t.tag===3)Wy(t,t,a);else for(;n!==null;){if(n.tag===3){Wy(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Vr===null||!Vr.has(o))){t=xn(a,t),a=ey(2),o=Ir(n,a,2),o!==null&&(ty(a,o,n,t),ds(o,2),Ri(o));break}}n=n.return}}function ld(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new G1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(ed=!0,h.add(a),t=$1.bind(null,t,n,a),n.then(t,t))}function $1(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(Ne&a)===a&&(ht===4||ht===3&&(Ne&62914560)===Ne&&300>tn()-cc?(Fe&2)===0&&Pa(t,0):td|=a,La===Ne&&(La=0)),Ri(t)}function e_(t,n){n===0&&(n=fu()),t=Cs(t,n),t!==null&&(ds(t,n),Ri(t))}function J1(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),e_(t,a)}function Z1(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),e_(t,a)}function W1(t,n){return Ot(t,n)}var yc=null,ja=null,ud=!1,_c=!1,cd=!1,Ur=0;function Ri(t){t!==ja&&t.next===null&&(ja===null?yc=ja=t:ja=ja.next=t),_c=!0,ud||(ud=!0,tA())}function ml(t,n){if(!cd&&_c){cd=!0;do for(var a=!1,o=yc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ft(42|t)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,r_(o,f))}else f=Ne,f=li(o,o===et?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||jn(o,f)||(a=!0,r_(o,f));o=o.next}while(a);cd=!1}}function eA(){t_()}function t_(){_c=ud=!1;var t=0;Ur!==0&&hA()&&(t=Ur);for(var n=tn(),a=null,o=yc;o!==null;){var h=o.next,f=n_(o,n);f===0?(o.next=null,a===null?yc=h:a.next=h,h===null&&(ja=a)):(a=o,(t!==0||(f&3)!==0)&&(_c=!0)),o=h}Mt!==0&&Mt!==5||ml(t),Ur!==0&&(Ur=0)}function n_(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-ft(f),E=1<<g,C=h[g];C===-1?((E&a)===0||(E&o)!==0)&&(h[g]=Ph(E,n)):C<=n&&(t.expiredLanes|=E),f&=~E}if(n=et,a=Ne,a=li(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&hr(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||jn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&hr(o),Ui(a)){case 2:case 8:a=So;break;case 32:a=fr;break;case 268435456:a=ou;break;default:a=fr}return o=i_.bind(null,t),a=Ot(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&hr(o),t.callbackPriority=2,t.callbackNode=null,2}function i_(t,n){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(gc()&&t.callbackNode!==a)return null;var o=Ne;return o=li(t,t===et?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Py(t,o,n),n_(t,tn()),t.callbackNode!=null&&t.callbackNode===a?i_.bind(null,t):null)}function r_(t,n){if(gc())return null;Py(t,n,!0)}function tA(){dA(function(){(Fe&6)!==0?Ot(bo,eA):t_()})}function hd(){if(Ur===0){var t=wa;t===0&&(t=ai,ai<<=1,(ai&261888)===0&&(ai=256)),Ur=t}return Ur}function s_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ca(""+t)}function a_(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function nA(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=s_((h[kt]||null).action),g=o.submitter;g&&(n=(n=g[kt]||null)?s_(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new vi("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ur!==0){var C=g?a_(h,g):new FormData(h);Df(a,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=g?a_(h,g):new FormData(h),Df(a,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var fd=0;fd<Qh.length;fd++){var dd=Qh[fd],iA=dd.toLowerCase(),rA=dd[0].toUpperCase()+dd.slice(1);Yn(iA,"on"+rA)}Yn(Up,"onAnimationEnd"),Yn(Pp,"onAnimationIteration"),Yn(zp,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(E1,"onTransitionRun"),Yn(T1,"onTransitionStart"),Yn(A1,"onTransitionCancel"),Yn(jp,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pl));function o_(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],C=E.instance,z=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(F){Mu(F)}h.currentTarget=null,f=C}else for(g=0;g<o.length;g++){if(E=o[g],C=E.instance,z=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(F){Mu(F)}h.currentTarget=null,f=C}}}}function Ie(t,n){var a=n[sa];a===void 0&&(a=n[sa]=new Set);var o=t+"__bubble";a.has(o)||(l_(n,t,2,!1),a.add(o))}function md(t,n,a){var o=0;n&&(o|=4),l_(a,t,o,n)}var vc="_reactListening"+Math.random().toString(36).slice(2);function pd(t){if(!t[vc]){t[vc]=!0,Co.forEach(function(a){a!=="selectionchange"&&(sA.has(a)||md(a,!1,t),md(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[vc]||(n[vc]=!0,md("selectionchange",!1,n))}}function l_(t,n,a,o){switch(U_(n)){case 2:var h=MA;break;case 8:h=VA;break;default:h=xd}a=h.bind(null,n,a,t),h=void 0,!vs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function gd(t,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=fi(E),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){o=f=g;continue e}E=E.parentNode}}o=o.return}_r(function(){var z=f,F=Rn(a),Q=[];e:{var j=Bp.get(t);if(j!==void 0){var q=vi,le=t;switch(t){case"keypress":if(Ts(a)===0)break e;case"keydown":case"keyup":q=xu;break;case"focusin":le="focus",q=bs;break;case"focusout":le="blur",q=bs;break;case"beforeblur":case"afterblur":q=bs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Up:case Pp:case zp:q=bu;break;case jp:q=T;break;case"scroll":case"scrollend":q=zo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=Su;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=ji;break;case"toggle":case"beforetoggle":q=be}var me=(n&4)!==0,We=!me&&(t==="scroll"||t==="scrollend"),k=me?j!==null?j+"Capture":null:j;me=[];for(var x=z,P;x!==null;){var K=x;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||k===null||(K=Hn(x,k),K!=null&&me.push(gl(x,K,P))),We)break;x=x.return}0<me.length&&(j=new q(j,le,null,a,F),Q.push({event:j,listeners:me}))}}if((n&7)===0){e:{if(j=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",j&&a!==Lo&&(le=a.relatedTarget||a.fromElement)&&(fi(le)||le[ci]))break e;if((q||j)&&(j=F.window===F?F:(j=F.ownerDocument)?j.defaultView||j.parentWindow:window,q?(le=a.relatedTarget||a.toElement,q=z,le=le?fi(le):null,le!==null&&(We=c(le),me=le.tag,le!==We||me!==5&&me!==27&&me!==6)&&(le=null)):(q=null,le=z),q!==le)){if(me=jo,K="onMouseLeave",k="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(me=ji,K="onPointerLeave",k="onPointerEnter",x="pointer"),We=q==null?j:mn(q),P=le==null?j:mn(le),j=new me(K,x+"leave",q,a,F),j.target=We,j.relatedTarget=P,K=null,fi(F)===z&&(me=new me(k,x+"enter",le,a,F),me.target=P,me.relatedTarget=We,K=me),We=K,q&&le)t:{for(me=aA,k=q,x=le,P=0,K=k;K;K=me(K))P++;K=0;for(var he=x;he;he=me(he))K++;for(;0<P-K;)k=me(k),P--;for(;0<K-P;)x=me(x),K--;for(;P--;){if(k===x||x!==null&&k===x.alternate){me=k;break t}k=me(k),x=me(x)}me=null}else me=null;q!==null&&u_(Q,j,q,me,!1),le!==null&&We!==null&&u_(Q,We,le,me,!0)}}e:{if(j=z?mn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var je=Rp;else if(Sp(j))if(Cp)je=y1;else{je=p1;var ue=m1}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&ua(z.elementType)&&(je=Rp):je=g1;if(je&&(je=je(t,z))){wp(Q,je,a,F);break e}ue&&ue(t,j,z),t==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Mo(j,"number",j.value)}switch(ue=z?mn(z):window,t){case"focusin":(Sp(ue)||ue.contentEditable==="true")&&(ya=ue,Hh=z,Go=null);break;case"focusout":Go=Hh=ya=null;break;case"mousedown":Gh=!0;break;case"contextmenu":case"mouseup":case"dragend":Gh=!1,kp(Q,a,F);break;case"selectionchange":if(v1)break;case"keydown":case"keyup":kp(Q,a,F)}var Re;if(qe)e:{switch(t){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else ga?Ss(t,a)&&(xe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(xe="onCompositionStart");xe&&(Ai&&a.locale!=="ko"&&(ga||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&ga&&(Re=Po()):(_i=F,Uo="value"in _i?_i.value:_i.textContent,ga=!0)),ue=Ec(z,xe),0<ue.length&&(xe=new Ti(xe,t,null,a,F),Q.push({event:xe,listeners:ue}),Re?xe.data=Re:(Re=pa(a),Re!==null&&(xe.data=Re)))),(Re=In?c1(t,a):h1(t,a))&&(xe=Ec(z,"onBeforeInput"),0<xe.length&&(ue=new Ti("onBeforeInput","beforeinput",null,a,F),Q.push({event:ue,listeners:xe}),ue.data=Re)),nA(Q,t,z,a,F)}o_(Q,n)})}function gl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Ec(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Hn(t,a),h!=null&&o.unshift(gl(t,h,f)),h=Hn(t,n),h!=null&&o.push(gl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function aA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function u_(t,n,a,o,h){for(var f=n._reactName,g=[];a!==null&&a!==o;){var E=a,C=E.alternate,z=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||z===null||(C=z,h?(z=Hn(a,f),z!=null&&g.unshift(gl(a,z,C))):h||(z=Hn(a,f),z!=null&&g.push(gl(a,z,C)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var oA=/\r\n?/g,lA=/\u0000|\uFFFD/g;function c_(t){return(typeof t=="string"?t:""+t).replace(oA,`
`).replace(lA,"")}function h_(t,n){return n=c_(n),c_(t)===n}function Ze(t,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||an(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&an(t,""+o);break;case"className":pn(t,"class",o);break;case"tabIndex":pn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":pn(t,a,o);break;case"style":ko(t,o,f);break;case"data":if(n!=="object"){pn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ca(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Ze(t,n,"name",h.name,h,null),Ze(t,n,"formEncType",h.formEncType,h,null),Ze(t,n,"formMethod",h.formMethod,h,null),Ze(t,n,"formTarget",h.formTarget,h,null)):(Ze(t,n,"encType",h.encType,h,null),Ze(t,n,"method",h.method,h,null),Ze(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ca(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Fn);break;case"onScroll":o!=null&&Ie("scroll",t);break;case"onScrollEnd":o!=null&&Ie("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=ca(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Ie("beforetoggle",t),Ie("toggle",t),oa(t,"popover",o);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":oa(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Eu.get(a)||a,oa(t,a,o))}}function yd(t,n,a,o,h,f){switch(a){case"style":ko(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof o=="string"?an(t,o):(typeof o=="number"||typeof o=="bigint")&&an(t,""+o);break;case"onScroll":o!=null&&Ie("scroll",t);break;case"onScrollEnd":o!=null&&Ie("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Io.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[kt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):oa(t,a,o)}}}function Gt(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",t),Ie("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Ze(t,n,f,g,a,null)}}h&&Ze(t,n,"srcSet",a.srcSet,a,null),o&&Ze(t,n,"src",a.src,a,null);return;case"input":Ie("invalid",t);var E=f=g=h=null,C=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var F=a[o];if(F!=null)switch(o){case"name":h=F;break;case"type":g=F;break;case"checked":C=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:Ze(t,n,o,F,a,null)}}yu(t,f,E,C,z,g,h,!1);return;case"select":Ie("invalid",t),o=g=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Ze(t,n,h,E,a,null)}n=f,a=g,t.multiple=!!o,n!=null?mr(t,!!o,n,!1):a!=null&&mr(t,!!o,a,!0);return;case"textarea":Ie("invalid",t),f=h=o=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Ze(t,n,g,E,a,null)}pr(t,o,h,f);return;case"option":for(C in a)a.hasOwnProperty(C)&&(o=a[C],o!=null)&&(C==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":Ze(t,n,C,o,a,null));return;case"dialog":Ie("beforetoggle",t),Ie("toggle",t),Ie("cancel",t),Ie("close",t);break;case"iframe":case"object":Ie("load",t);break;case"video":case"audio":for(o=0;o<pl.length;o++)Ie(pl[o],t);break;case"image":Ie("error",t),Ie("load",t);break;case"details":Ie("toggle",t);break;case"embed":case"source":case"link":Ie("error",t),Ie("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Ze(t,n,z,o,a,null)}return;default:if(ua(n)){for(F in a)a.hasOwnProperty(F)&&(o=a[F],o!==void 0&&yd(t,n,F,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Ze(t,n,E,o,a,null))}function uA(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,C=null,z=null,F=null;for(q in a){var Q=a[q];if(a.hasOwnProperty(q)&&Q!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=Q;default:o.hasOwnProperty(q)||Ze(t,n,q,null,o,Q)}}for(var j in o){var q=o[j];if(Q=a[j],o.hasOwnProperty(j)&&(q!=null||Q!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":F=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:q!==Q&&Ze(t,n,j,q,o,Q)}}la(t,g,E,C,z,F,f,h);return;case"select":q=g=E=j=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":q=C;default:o.hasOwnProperty(f)||Ze(t,n,f,null,o,C)}for(h in o)if(f=o[h],C=a[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==C&&Ze(t,n,h,f,o,C)}n=E,a=g,o=q,j!=null?mr(t,!!a,j,!1):!!o!=!!a&&(n!=null?mr(t,!!a,n,!0):mr(t,!!a,a?[]:"",!1));return;case"textarea":q=j=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ze(t,n,E,null,o,h)}for(g in o)if(h=o[g],f=a[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Ze(t,n,g,h,o,f)}_u(t,j,q);return;case"option":for(var le in a)j=a[le],a.hasOwnProperty(le)&&j!=null&&!o.hasOwnProperty(le)&&(le==="selected"?t.selected=!1:Ze(t,n,le,null,o,j));for(C in o)j=o[C],q=a[C],o.hasOwnProperty(C)&&j!==q&&(j!=null||q!=null)&&(C==="selected"?t.selected=j&&typeof j!="function"&&typeof j!="symbol":Ze(t,n,C,j,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in a)j=a[me],a.hasOwnProperty(me)&&j!=null&&!o.hasOwnProperty(me)&&Ze(t,n,me,null,o,j);for(z in o)if(j=o[z],q=a[z],o.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:Ze(t,n,z,j,o,q)}return;default:if(ua(n)){for(var We in a)j=a[We],a.hasOwnProperty(We)&&j!==void 0&&!o.hasOwnProperty(We)&&yd(t,n,We,void 0,o,j);for(F in o)j=o[F],q=a[F],!o.hasOwnProperty(F)||j===q||j===void 0&&q===void 0||yd(t,n,F,j,o,q);return}}for(var k in a)j=a[k],a.hasOwnProperty(k)&&j!=null&&!o.hasOwnProperty(k)&&Ze(t,n,k,null,o,j);for(Q in o)j=o[Q],q=a[Q],!o.hasOwnProperty(Q)||j===q||j==null&&q==null||Ze(t,n,Q,j,o,q)}function f_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function cA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&f_(g)){for(g=0,E=h.responseEnd,o+=1;o<a.length;o++){var C=a[o],z=C.startTime;if(z>E)break;var F=C.transferSize,Q=C.initiatorType;F&&f_(Q)&&(C=C.responseEnd,g+=F*(C<E?1:(E-z)/(C-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var _d=null,vd=null;function Tc(t){return t.nodeType===9?t:t.ownerDocument}function d_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function m_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Ed(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Td=null;function hA(){var t=window.event;return t&&t.type==="popstate"?t===Td?!1:(Td=t,!0):(Td=null,!1)}var p_=typeof setTimeout=="function"?setTimeout:void 0,fA=typeof clearTimeout=="function"?clearTimeout:void 0,g_=typeof Promise=="function"?Promise:void 0,dA=typeof queueMicrotask=="function"?queueMicrotask:typeof g_<"u"?function(t){return g_.resolve(null).then(t).catch(mA)}:p_;function mA(t){setTimeout(function(){throw t})}function Pr(t){return t==="head"}function y_(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),Ha(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")yl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,yl(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[hi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&yl(t.ownerDocument.body);a=h}while(a);Ha(n)}function __(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Ad(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ad(a),aa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function pA(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[hi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=kn(t.nextSibling),t===null)break}return null}function gA(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=kn(t.nextSibling),t===null))return null;return t}function v_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=kn(t.nextSibling),t===null))return null;return t}function bd(t){return t.data==="$?"||t.data==="$~"}function Sd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function yA(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function kn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var wd=null;function E_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return kn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function T_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function A_(t,n,a){switch(n=Tc(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function yl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);aa(t)}var Ln=new Map,b_=new Set;function Ac(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var tr=ne.d;ne.d={f:_A,r:vA,D:EA,C:TA,L:AA,m:bA,X:wA,S:SA,M:RA};function _A(){var t=tr.f(),n=dc();return t||n}function vA(t){var n=wn(t);n!==null&&n.tag===5&&n.type==="form"?jg(n):tr.r(t)}var Ba=typeof document>"u"?null:document;function S_(t,n,a){var o=Ba;if(o&&typeof n=="string"&&n){var h=sn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),b_.has(h)||(b_.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Gt(n,"link",t),Tt(n),o.head.appendChild(n)))}}function EA(t){tr.D(t),S_("dns-prefetch",t,null)}function TA(t,n){tr.C(t,n),S_("preconnect",t,n)}function AA(t,n,a){tr.L(t,n,a);var o=Ba;if(o&&t&&n){var h='link[rel="preload"][as="'+sn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+sn(a.imageSizes)+'"]')):h+='[href="'+sn(t)+'"]';var f=h;switch(n){case"style":f=qa(t);break;case"script":f=Fa(t)}Ln.has(f)||(t=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Ln.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(_l(f))||n==="script"&&o.querySelector(vl(f))||(n=o.createElement("link"),Gt(n,"link",t),Tt(n),o.head.appendChild(n)))}}function bA(t,n){tr.m(t,n);var a=Ba;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+sn(o)+'"][href="'+sn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Fa(t)}if(!Ln.has(f)&&(t=S({rel:"modulepreload",href:t},n),Ln.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(vl(f)))return}o=a.createElement("link"),Gt(o,"link",t),Tt(o),a.head.appendChild(o)}}}function SA(t,n,a){tr.S(t,n,a);var o=Ba;if(o&&t){var h=di(o).hoistableStyles,f=qa(t);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(_l(f)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Ln.get(f))&&Rd(t,a);var C=g=o.createElement("link");Tt(C),Gt(C,"link",t),C._p=new Promise(function(z,F){C.onload=z,C.onerror=F}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,bc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function wA(t,n){tr.X(t,n);var a=Ba;if(a&&t){var o=di(a).hoistableScripts,h=Fa(t),f=o.get(h);f||(f=a.querySelector(vl(h)),f||(t=S({src:t,async:!0},n),(n=Ln.get(h))&&Cd(t,n),f=a.createElement("script"),Tt(f),Gt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function RA(t,n){tr.M(t,n);var a=Ba;if(a&&t){var o=di(a).hoistableScripts,h=Fa(t),f=o.get(h);f||(f=a.querySelector(vl(h)),f||(t=S({src:t,async:!0,type:"module"},n),(n=Ln.get(h))&&Cd(t,n),f=a.createElement("script"),Tt(f),Gt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function w_(t,n,a,o){var h=(h=we.current)?Ac(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=qa(a.href),a=di(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=qa(a.href);var f=di(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(_l(t)))&&!f._p&&(g.instance=f,g.state.loading=5),Ln.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(t,a),f||CA(h,t,a,g.state))),n&&o===null)throw Error(s(528,""));return g}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Fa(a),a=di(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function qa(t){return'href="'+sn(t)+'"'}function _l(t){return'link[rel="stylesheet"]['+t+"]"}function R_(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function CA(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Gt(n,"link",a),Tt(n),t.head.appendChild(n))}function Fa(t){return'[src="'+sn(t)+'"]'}function vl(t){return"script[async]"+t}function C_(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+sn(a.href)+'"]');if(o)return n.instance=o,Tt(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Tt(o),Gt(o,"style",h),bc(o,a.precedence,t),n.instance=o;case"stylesheet":h=qa(a.href);var f=t.querySelector(_l(h));if(f)return n.state.loading|=4,n.instance=f,Tt(f),f;o=R_(a),(h=Ln.get(h))&&Rd(o,h),f=(t.ownerDocument||t).createElement("link"),Tt(f);var g=f;return g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),Gt(f,"link",o),n.state.loading|=4,bc(f,a.precedence,t),n.instance=f;case"script":return f=Fa(a.src),(h=t.querySelector(vl(f)))?(n.instance=h,Tt(h),h):(o=a,(h=Ln.get(f))&&(o=S({},a),Cd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Tt(h),Gt(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,bc(o,a.precedence,t));return n.instance}function bc(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Rd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Cd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Sc=null;function I_(t,n,a){if(Sc===null){var o=new Map,h=Sc=new Map;h.set(a,o)}else h=Sc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[hi]||f[Et]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function N_(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function IA(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function x_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function NA(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=qa(o.href),f=n.querySelector(_l(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=wc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,Tt(f);return}f=n.ownerDocument||n,o=R_(o),(h=Ln.get(h))&&Rd(o,h),f=f.createElement("link"),Tt(f);var g=f;g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),Gt(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=wc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Id=0;function xA(t,n){return t.stylesheets&&t.count===0&&Cc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Cc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Id===0&&(Id=62500*cA());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Cc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Id?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function wc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Cc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Rc=null;function Cc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Rc=new Map,n.forEach(DA,t),Rc=null,wc.call(t))}function DA(t,n){if(!(n.state.loading&4)){var a=Rc.get(t);if(a)var o=a.get(null);else{a=new Map,Rc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=a.get(g)||o,f===o&&a.set(null,h),a.set(g,h),this.count++,o=wc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var El={$$typeof:pe,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function OA(t,n,a,o,h,f,g,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function D_(t,n,a,o,h,f,g,E,C,z,F,Q){return t=new OA(t,n,a,g,C,z,F,Q,E),n=1,f===!0&&(n|=24),f=yn(3,null,null,n),t.current=f,f.stateNode=t,n=of(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},hf(f),t}function O_(t){return t?(t=Ea,t):Ea}function M_(t,n,a,o,h,f){h=O_(h),o.context===null?o.context=h:o.pendingContext=h,o=Cr(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Ir(t,o,n),a!==null&&(hn(a,t,n),Zo(a,t,n))}function V_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Nd(t,n){V_(t,n),(t=t.alternate)&&V_(t,n)}function k_(t){if(t.tag===13||t.tag===31){var n=Cs(t,67108864);n!==null&&hn(n,t,67108864),Nd(t,67108864)}}function L_(t){if(t.tag===13||t.tag===31){var n=An();n=ps(n);var a=Cs(t,n);a!==null&&hn(a,t,n),Nd(t,n)}}var Ic=!0;function MA(t,n,a,o){var h=G.T;G.T=null;var f=ne.p;try{ne.p=2,xd(t,n,a,o)}finally{ne.p=f,G.T=h}}function VA(t,n,a,o){var h=G.T;G.T=null;var f=ne.p;try{ne.p=8,xd(t,n,a,o)}finally{ne.p=f,G.T=h}}function xd(t,n,a,o){if(Ic){var h=Dd(o);if(h===null)gd(t,n,o,Nc,a),P_(t,o);else if(LA(h,t,n,a,o))o.stopPropagation();else if(P_(t,o),n&4&&-1<kA.indexOf(t)){for(;h!==null;){var f=wn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=oi(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var C=1<<31-ft(g);E.entanglements[1]|=C,g&=~C}Ri(f),(Fe&6)===0&&(hc=tn()+500,ml(0))}}break;case 31:case 13:E=Cs(f,2),E!==null&&hn(E,f,2),dc(),Nd(f,2)}if(f=Dd(o),f===null&&gd(t,n,o,Nc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else gd(t,n,o,null,a)}}function Dd(t){return t=Rn(t),Od(t)}var Nc=null;function Od(t){if(Nc=null,t=fi(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=p(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Nc=t,null}function U_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hs()){case bo:return 2;case So:return 8;case fr:case Uh:return 32;case ou:return 268435456;default:return 32}default:return 32}}var Md=!1,zr=null,jr=null,Br=null,Tl=new Map,Al=new Map,qr=[],kA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function P_(t,n){switch(t){case"focusin":case"focusout":zr=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":Br=null;break;case"pointerover":case"pointerout":Tl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Al.delete(n.pointerId)}}function bl(t,n,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=wn(n),n!==null&&k_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function LA(t,n,a,o,h){switch(n){case"focusin":return zr=bl(zr,t,n,a,o,h),!0;case"dragenter":return jr=bl(jr,t,n,a,o,h),!0;case"mouseover":return Br=bl(Br,t,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return Tl.set(f,bl(Tl.get(f)||null,t,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Al.set(f,bl(Al.get(f)||null,t,n,a,o,h)),!0}return!1}function z_(t){var n=fi(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Bn(t.priority,function(){L_(a)});return}}else if(n===31){if(n=p(a),n!==null){t.blockedOn=n,Bn(t.priority,function(){L_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Dd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Lo=o,a.target.dispatchEvent(o),Lo=null}else return n=wn(a),n!==null&&k_(n),t.blockedOn=a,!1;n.shift()}return!0}function j_(t,n,a){xc(t)&&a.delete(n)}function UA(){Md=!1,zr!==null&&xc(zr)&&(zr=null),jr!==null&&xc(jr)&&(jr=null),Br!==null&&xc(Br)&&(Br=null),Tl.forEach(j_),Al.forEach(j_)}function Dc(t,n){t.blockedOn===n&&(t.blockedOn=null,Md||(Md=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,UA)))}var Oc=null;function B_(t){Oc!==t&&(Oc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Oc===t&&(Oc=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Od(o||a)===null)continue;break}var f=wn(a);f!==null&&(t.splice(n,3),n-=3,Df(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Ha(t){function n(C){return Dc(C,t)}zr!==null&&Dc(zr,t),jr!==null&&Dc(jr,t),Br!==null&&Dc(Br,t),Tl.forEach(n),Al.forEach(n);for(var a=0;a<qr.length;a++){var o=qr[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<qr.length&&(a=qr[0],a.blockedOn===null);)z_(a),a.blockedOn===null&&qr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],g=h[kt]||null;if(typeof f=="function")g||B_(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[kt]||null)E=g.formAction;else if(Od(h)!==null)continue}else E=g.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),B_(a)}}}function q_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Vd(t){this._internalRoot=t}Mc.prototype.render=Vd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=An();M_(a,o,t,n,null,null)},Mc.prototype.unmount=Vd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;M_(t.current,2,null,t,null,null),dc(),n[ci]=null}};function Mc(t){this._internalRoot=t}Mc.prototype.unstable_scheduleHydration=function(t){if(t){var n=du();t={blockedOn:null,target:t,priority:n};for(var a=0;a<qr.length&&n!==0&&n<qr[a].priority;a++);qr.splice(a,0,t),a===0&&z_(t)}};var F_=e.version;if(F_!=="19.2.3")throw Error(s(527,F_,"19.2.3"));ne.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var PA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vc.isDisabled&&Vc.supportsFiber)try{zn=Vc.inject(PA),jt=Vc}catch{}}return wl.createRoot=function(t,n){if(!l(t))throw Error(s(299));var a=!1,o="",h=$g,f=Jg,g=Zg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=D_(t,1,!1,null,null,a,o,null,h,f,g,q_),t[ci]=n.current,pd(t),new Vd(n)},wl.hydrateRoot=function(t,n,a){if(!l(t))throw Error(s(299));var o=!1,h="",f=$g,g=Jg,E=Zg,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),n=D_(t,1,!0,n,a??null,o,h,C,f,g,E,q_),n.context=O_(null),a=n.current,o=An(),o=ps(o),h=Cr(o),h.callback=null,Ir(a,h,o),a=o,n.current.lanes=a,ds(n,a),Ri(n),t[ci]=n.current,pd(t),new Mc(n)},wl.version="19.2.3",wl}var W_;function YA(){if(W_)return Ud.exports;W_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Ud.exports=QA(),Ud.exports}var XA=YA();const D0=(...r)=>r.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim();const $A=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const JA=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase());const ev=r=>{const e=JA(r);return e.charAt(0).toUpperCase()+e.slice(1)};var ZA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const WA=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const eb=Ue.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:d,...p},_)=>Ue.createElement("svg",{ref:_,...ZA,width:e,height:e,stroke:r,strokeWidth:s?Number(i)*24/Number(e):i,className:D0("lucide",l),...!c&&!WA(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,A])=>Ue.createElement(y,A)),...Array.isArray(c)?c:[c]]));const zt=(r,e)=>{const i=Ue.forwardRef(({className:s,...l},c)=>Ue.createElement(eb,{ref:c,iconNode:e,className:D0(`lucide-${$A(ev(r))}`,`lucide-${r}`,s),...l}));return i.displayName=ev(r),i};const tb=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],nb=zt("arrow-left",tb);const ib=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],rb=zt("arrow-up-down",ib);const sb=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],ab=zt("award",sb);const ob=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],O0=zt("car",ob);const lb=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ub=zt("chevron-right",lb);const cb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],hb=zt("circle-plus",cb);const fb=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],db=zt("clock",fb);const mb=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],pb=zt("funnel",mb);const gb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],yb=zt("globe",gb);const _b=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],vb=zt("heart",_b);const Eb=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Tb=zt("log-out",Eb);const Ab=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],bb=zt("mail",Ab);const Sb=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],wb=zt("map-pin",Sb);const Rb=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Cb=zt("menu",Rb);const Ib=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Nb=zt("phone",Ib);const xb=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Db=zt("send",xb);const Ob=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Mb=zt("shield-check",Ob);const Vb=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],kb=zt("x",Vb),Lb=()=>{};var tv={};const M0=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},Ub=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const l=r[i++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];e[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(_>>10)),e[s++]=String.fromCharCode(56320+(_&1023))}else{const c=r[i++],d=r[i++];e[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},V0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,_=l+2<r.length,y=_?r[l+2]:0,A=c>>2,S=(c&3)<<4|p>>4;let M=(p&15)<<2|y>>6,H=y&63;_||(H=64,d||(M=64)),s.push(i[A],i[S],i[M],i[H])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(M0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Ub(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const y=l<r.length?i[r.charAt(l)]:64;++l;const S=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||y==null||S==null)throw new Pb;const M=c<<2|p>>4;if(s.push(M),y!==64){const H=p<<4&240|y>>2;if(s.push(H),S!==64){const ee=y<<6&192|S;s.push(ee)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Pb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zb=function(r){const e=M0(r);return V0.encodeByteArray(e,!0)},Jc=function(r){return zb(r).replace(/\./g,"")},k0=function(r){try{return V0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function jb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Bb=()=>jb().__FIREBASE_DEFAULTS__,qb=()=>{if(typeof process>"u"||typeof tv>"u")return;const r=tv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Fb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&k0(r[1]);return e&&JSON.parse(e)},_h=()=>{try{return Lb()||Bb()||qb()||Fb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},L0=r=>_h()?.emulatorHosts?.[r],Hb=r=>{const e=L0(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},U0=()=>_h()?.config,P0=r=>_h()?.[`_${r}`];class Gb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}function co(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function z0(r){return(await fetch(r,{credentials:"include"})).ok}function Kb(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Jc(JSON.stringify(i)),Jc(JSON.stringify(d)),""].join(".")}const Ml={};function Qb(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ml))Ml[e]?r.emulator.push(e):r.prod.push(e);return r}function Yb(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let nv=!1;function j0(r,e){if(typeof window>"u"||typeof document>"u"||!co(window.location.host)||Ml[r]===e||Ml[r]||nv)return;Ml[r]=e;function i(M){return`__firebase__banner__${M}`}const s="__firebase__banner",c=Qb().prod.length>0;function d(){const M=document.getElementById(s);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function _(M,H){M.setAttribute("width","24"),M.setAttribute("id",H),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function y(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{nv=!0,d()},M}function A(M,H){M.setAttribute("id",H),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function S(){const M=Yb(s),H=i("text"),ee=document.getElementById(H)||document.createElement("span"),te=i("learnmore"),Z=document.getElementById(te)||document.createElement("a"),re=i("preprendIcon"),ce=document.getElementById(re)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const pe=M.element;p(pe),A(Z,te);const Ae=y();_(ce,re),pe.append(ce,ee,Z,Ae),document.body.appendChild(pe)}c?(ee.innerText="Preview backend disconnected.",ce.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ce.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ee.innerText="Preview backend running in this workspace."),ee.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Xb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function $b(){const r=_h()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Jb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Zb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Wb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eS(){const r=Wt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function tS(){return!$b()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nS(){try{return typeof indexedDB=="object"}catch{return!1}}function iS(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const rS="FirebaseError";class lr extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=rS,Object.setPrototypeOf(this,lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xl.prototype.create)}}class Xl{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?sS(c,s):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new lr(l,p,s)}}function sS(r,e){return r.replace(aS,(i,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const aS=/\{\$([^}]+)}/g;function oS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Gs(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const l of i){if(!s.includes(l))return!1;const c=r[l],d=e[l];if(iv(c)&&iv(d)){if(!Gs(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function iv(r){return r!==null&&typeof r=="object"}function $l(r){const e=[];for(const[i,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Cl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,c]=s.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function Il(r){const e=r.indexOf("?");if(!e)return"";const i=r.indexOf("#",e);return r.substring(e,i>0?i:void 0)}function lS(r,e){const i=new uS(r,e);return i.subscribe.bind(i)}class uS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,s){let l;if(e===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");cS(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:s},l.next===void 0&&(l.next=Bd),l.error===void 0&&(l.error=Bd),l.complete===void 0&&(l.complete=Bd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cS(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function Bd(){}function en(r){return r&&r._delegate?r._delegate:r}class Ks{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const js="[DEFAULT]";class hS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new Gb;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dS(e))try{this.getOrInitializeService({instanceIdentifier:js})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(e=js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=js){return this.instances.has(e)}getOptions(e=js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&d.resolve(l)}return l}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(e),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&e(c,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:fS(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=js){return this.component?this.component.multipleInstances?e:js:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fS(r){return r===js?void 0:r}function dS(r){return r.instantiationMode==="EAGER"}class mS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new hS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var De;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(De||(De={}));const pS={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},gS=De.INFO,yS={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},_S=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),l=yS[e];if(l)console[l](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Nm{constructor(e){this.name=e,this._logLevel=gS,this._logHandler=_S,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const vS=(r,e)=>e.some(i=>r instanceof i);let rv,sv;function ES(){return rv||(rv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TS(){return sv||(sv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const B0=new WeakMap,tm=new WeakMap,q0=new WeakMap,qd=new WeakMap,xm=new WeakMap;function AS(r){const e=new Promise((i,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i($r(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&B0.set(i,r)}).catch(()=>{}),xm.set(e,r),e}function bS(r){if(tm.has(r))return;const e=new Promise((i,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});tm.set(r,e)}let nm={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return tm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||q0.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return $r(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function SS(r){nm=r(nm)}function wS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(Fd(this),e,...i);return q0.set(s,e.sort?e.sort():[e]),$r(s)}:TS().includes(r)?function(...e){return r.apply(Fd(this),e),$r(B0.get(this))}:function(...e){return $r(r.apply(Fd(this),e))}}function RS(r){return typeof r=="function"?wS(r):(r instanceof IDBTransaction&&bS(r),vS(r,ES())?new Proxy(r,nm):r)}function $r(r){if(r instanceof IDBRequest)return AS(r);if(qd.has(r))return qd.get(r);const e=RS(r);return e!==r&&(qd.set(r,e),xm.set(e,r)),e}const Fd=r=>xm.get(r);function CS(r,e,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(r,e),p=$r(d);return s&&d.addEventListener("upgradeneeded",_=>{s($r(d.result),_.oldVersion,_.newVersion,$r(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const IS=["get","getKey","getAll","getAllKeys","count"],NS=["put","add","delete","clear"],Hd=new Map;function av(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Hd.get(e))return Hd.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,l=NS.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||IS.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return Hd.set(e,c),c}SS(r=>({...r,get:(e,i,s)=>av(e,i)||r.get(e,i,s),has:(e,i)=>!!av(e,i)||r.has(e,i)}));class xS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(DS(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function DS(r){return r.getComponent()?.type==="VERSION"}const im="@firebase/app",ov="0.14.7";const rr=new Nm("@firebase/app"),OS="@firebase/app-compat",MS="@firebase/analytics-compat",VS="@firebase/analytics",kS="@firebase/app-check-compat",LS="@firebase/app-check",US="@firebase/auth",PS="@firebase/auth-compat",zS="@firebase/database",jS="@firebase/data-connect",BS="@firebase/database-compat",qS="@firebase/functions",FS="@firebase/functions-compat",HS="@firebase/installations",GS="@firebase/installations-compat",KS="@firebase/messaging",QS="@firebase/messaging-compat",YS="@firebase/performance",XS="@firebase/performance-compat",$S="@firebase/remote-config",JS="@firebase/remote-config-compat",ZS="@firebase/storage",WS="@firebase/storage-compat",ew="@firebase/firestore",tw="@firebase/ai",nw="@firebase/firestore-compat",iw="firebase",rw="12.8.0";const rm="[DEFAULT]",sw={[im]:"fire-core",[OS]:"fire-core-compat",[VS]:"fire-analytics",[MS]:"fire-analytics-compat",[LS]:"fire-app-check",[kS]:"fire-app-check-compat",[US]:"fire-auth",[PS]:"fire-auth-compat",[zS]:"fire-rtdb",[jS]:"fire-data-connect",[BS]:"fire-rtdb-compat",[qS]:"fire-fn",[FS]:"fire-fn-compat",[HS]:"fire-iid",[GS]:"fire-iid-compat",[KS]:"fire-fcm",[QS]:"fire-fcm-compat",[YS]:"fire-perf",[XS]:"fire-perf-compat",[$S]:"fire-rc",[JS]:"fire-rc-compat",[ZS]:"fire-gcs",[WS]:"fire-gcs-compat",[ew]:"fire-fst",[nw]:"fire-fst-compat",[tw]:"fire-vertex","fire-js":"fire-js",[iw]:"fire-js-all"};const Zc=new Map,aw=new Map,sm=new Map;function lv(r,e){try{r.container.addComponent(e)}catch(i){rr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function io(r){const e=r.name;if(sm.has(e))return rr.debug(`There were multiple attempts to register component ${e}.`),!1;sm.set(e,r);for(const i of Zc.values())lv(i,r);for(const i of aw.values())lv(i,r);return!0}function Dm(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function dn(r){return r==null?!1:r.settings!==void 0}const ow={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jr=new Xl("app","Firebase",ow);class lw{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jr.create("app-deleted",{appName:this._name})}}const ho=rw;function F0(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:rm,automaticDataCollectionEnabled:!0,...e},l=s.name;if(typeof l!="string"||!l)throw Jr.create("bad-app-name",{appName:String(l)});if(i||(i=U0()),!i)throw Jr.create("no-options");const c=Zc.get(l);if(c){if(Gs(i,c.options)&&Gs(s,c.config))return c;throw Jr.create("duplicate-app",{appName:l})}const d=new mS(l);for(const _ of sm.values())d.addComponent(_);const p=new lw(i,s,d);return Zc.set(l,p),p}function H0(r=rm){const e=Zc.get(r);if(!e&&r===rm&&U0())return F0();if(!e)throw Jr.create("no-app",{appName:r});return e}function Zr(r,e,i){let s=sw[r]??r;i&&(s+=`-${i}`);const l=s.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${e}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rr.warn(d.join(" "));return}io(new Ks(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const uw="firebase-heartbeat-database",cw=1,zl="firebase-heartbeat-store";let Gd=null;function G0(){return Gd||(Gd=CS(uw,cw,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(zl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Jr.create("idb-open",{originalErrorMessage:r.message})})),Gd}async function hw(r){try{const i=(await G0()).transaction(zl),s=await i.objectStore(zl).get(K0(r));return await i.done,s}catch(e){if(e instanceof lr)rr.warn(e.message);else{const i=Jr.create("idb-get",{originalErrorMessage:e?.message});rr.warn(i.message)}}}async function uv(r,e){try{const s=(await G0()).transaction(zl,"readwrite");await s.objectStore(zl).put(e,K0(r)),await s.done}catch(i){if(i instanceof lr)rr.warn(i.message);else{const s=Jr.create("idb-set",{originalErrorMessage:i?.message});rr.warn(s.message)}}}function K0(r){return`${r.name}!${r.options.appId}`}const fw=1024,dw=30;class mw{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new gw(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=cv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>dw){const l=yw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){rr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=cv(),{heartbeatsToSend:i,unsentEntries:s}=pw(this._heartbeatsCache.heartbeats),l=Jc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return rr.warn(e),""}}}function cv(){return new Date().toISOString().substring(0,10)}function pw(r,e=fw){const i=[];let s=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),hv(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),hv(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class gw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nS()?iS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await hw(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return uv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return uv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function hv(r){return Jc(JSON.stringify({version:2,heartbeats:r})).length}function yw(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}function _w(r){io(new Ks("platform-logger",e=>new xS(e),"PRIVATE")),io(new Ks("heartbeat",e=>new mw(e),"PRIVATE")),Zr(im,ov,r),Zr(im,ov,"esm2020"),Zr("fire-js","")}_w("");var vw="firebase",Ew="12.8.0";Zr(vw,Ew,"app");function Q0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Tw=Q0,Y0=new Xl("auth","Firebase",Q0());const Wc=new Nm("@firebase/auth");function Aw(r,...e){Wc.logLevel<=De.WARN&&Wc.warn(`Auth (${ho}): ${r}`,...e)}function Bc(r,...e){Wc.logLevel<=De.ERROR&&Wc.error(`Auth (${ho}): ${r}`,...e)}function ii(r,...e){throw Om(r,...e)}function Ni(r,...e){return Om(r,...e)}function X0(r,e,i){const s={...Tw(),[e]:i};return new Xl("auth","Firebase",s).create(e,{appName:r.name})}function ei(r){return X0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Om(r,...e){if(typeof r!="string"){const i=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(i,...s)}return Y0.create(r,...e)}function ge(r,e,...i){if(!r)throw Om(e,...i)}function nr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Bc(e),new Error(e)}function sr(r,e){r||nr(e)}function am(){return typeof self<"u"&&self.location?.href||""}function bw(){return fv()==="http:"||fv()==="https:"}function fv(){return typeof self<"u"&&self.location?.protocol||null}function Sw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bw()||Zb()||"connection"in navigator)?navigator.onLine:!0}function ww(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Jl{constructor(e,i){this.shortDelay=e,this.longDelay=i,sr(i>e,"Short delay should be less than long delay!"),this.isMobile=Xb()||Wb()}get(){return Sw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Mm(r,e){sr(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class $0{static initialize(e,i,s){this.fetchImpl=e,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Rw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Cw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Iw=new Jl(3e4,6e4);function ur(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ls(r,e,i,s,l={}){return J0(r,l,async()=>{let c={},d={};s&&(e==="GET"?d=s:c={body:JSON.stringify(s)});const p=$l({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:_,...c};return Jb()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&co(r.emulatorConfig.host)&&(y.credentials="include"),$0.fetch()(await Z0(r,r.config.apiHost,i,p),y)})}async function J0(r,e,i){r._canInitEmulator=!1;const s={...Rw,...e};try{const l=new xw(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw kc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw kc(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw kc(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw kc(r,"user-disabled",d);const A=s[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw X0(r,A,y);ii(r,A)}}catch(l){if(l instanceof lr)throw l;ii(r,"network-request-failed",{message:String(l)})}}async function fo(r,e,i,s,l={}){const c=await ls(r,e,i,s,l);return"mfaPendingCredential"in c&&ii(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function Z0(r,e,i,s){const l=`${e}${i}?${s}`,c=r,d=c.config.emulator?Mm(r.config,l):`${r.config.apiScheme}://${l}`;return Cw.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function Nw(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class xw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(Ni(this.auth,"network-request-failed")),Iw.get())})}}function kc(r,e,i){const s={appName:r.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=Ni(r,e,s);return l.customData._tokenResponse=i,l}function dv(r){return r!==void 0&&r.enterprise!==void 0}class Dw{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return Nw(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Ow(r,e){return ls(r,"GET","/v2/recaptchaConfig",ur(r,e))}async function Mw(r,e){return ls(r,"POST","/v1/accounts:delete",e)}async function eh(r,e){return ls(r,"POST","/v1/accounts:lookup",e)}function Vl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Vw(r,e=!1){const i=en(r),s=await i.getIdToken(e),l=Vm(s);ge(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:s,authTime:Vl(Kd(l.auth_time)),issuedAtTime:Vl(Kd(l.iat)),expirationTime:Vl(Kd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Kd(r){return Number(r)*1e3}function Vm(r){const[e,i,s]=r.split(".");if(e===void 0||i===void 0||s===void 0)return Bc("JWT malformed, contained fewer than 3 sections"),null;try{const l=k0(i);return l?JSON.parse(l):(Bc("Failed to decode base64 JWT payload"),null)}catch(l){return Bc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function mv(r){const e=Vm(r);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function jl(r,e,i=!1){if(i)return e;try{return await e}catch(s){throw s instanceof lr&&kw(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function kw({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class Lw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class om{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vl(this.lastLoginAt),this.creationTime=Vl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function th(r){const e=r.auth,i=await r.getIdToken(),s=await jl(r,eh(e,{idToken:i}));ge(s?.users.length,e,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?W0(l.providerUserInfo):[],d=Pw(r.providerData,c),p=r.isAnonymous,_=!(r.email&&l.passwordHash)&&!d?.length,y=p?_:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new om(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,A)}async function Uw(r){const e=en(r);await th(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Pw(r,e){return[...r.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function W0(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function zw(r,e){const i=await J0(r,{},async()=>{const s=$l({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await Z0(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:s};return r.emulatorConfig&&co(r.emulatorConfig.host)&&(_.credentials="include"),$0.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function jw(r,e){return ls(r,"POST","/v2/accounts:revokeToken",ur(r,e))}class $a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const i=mv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await zw(e,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(e,i,s){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,d=new $a;return s&&(ge(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),l&&(ge(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(ge(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $a,this.toJSON())}_performRefresh(){return nr("not implemented")}}function Hr(r,e){ge(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Jn{constructor({uid:e,auth:i,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new Lw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new om(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await jl(this,this.stsTokenManager.getToken(this.auth,e));return ge(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return Vw(this,e)}reload(){return Uw(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Jn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),i&&await th(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(dn(this.auth.app))return Promise.reject(ei(this.auth));const e=await this.getIdToken();return await jl(this,Mw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const s=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:M,isAnonymous:H,providerData:ee,stsTokenManager:te}=i;ge(S&&te,e,"internal-error");const Z=$a.fromJSON(this.name,te);ge(typeof S=="string",e,"internal-error"),Hr(s,e.name),Hr(l,e.name),ge(typeof M=="boolean",e,"internal-error"),ge(typeof H=="boolean",e,"internal-error"),Hr(c,e.name),Hr(d,e.name),Hr(p,e.name),Hr(_,e.name),Hr(y,e.name),Hr(A,e.name);const re=new Jn({uid:S,auth:e,email:l,emailVerified:M,displayName:s,isAnonymous:H,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:Z,createdAt:y,lastLoginAt:A});return ee&&Array.isArray(ee)&&(re.providerData=ee.map(ce=>({...ce}))),_&&(re._redirectEventId=_),re}static async _fromIdTokenResponse(e,i,s=!1){const l=new $a;l.updateFromServerResponse(i);const c=new Jn({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await th(c),c}static async _fromGetAccountInfoResponse(e,i,s){const l=i.users[0];ge(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?W0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new $a;p.updateFromIdToken(s);const _=new Jn({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new om(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const pv=new Map;function ir(r){sr(r instanceof Function,"Expected a class definition");let e=pv.get(r);return e?(sr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,pv.set(r,e),e)}class eE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}eE.type="NONE";const gv=eE;function qc(r,e,i){return`firebase:${r}:${e}:${i}`}class Ja{constructor(e,i,s){this.persistence=e,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=qc(this.userKey,l.apiKey,c),this.fullPersistenceKey=qc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await eh(this.auth,{idToken:e}).catch(()=>{});return i?Jn._fromGetAccountInfoResponse(this.auth,i,e):null}return Jn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,s="authUser"){if(!i.length)return new Ja(ir(gv),e,s);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||ir(gv);const d=qc(s,e.config.apiKey,e.name);let p=null;for(const y of i)try{const A=await y._get(d);if(A){let S;if(typeof A=="string"){const M=await eh(e,{idToken:A}).catch(()=>{});if(!M)break;S=await Jn._fromGetAccountInfoResponse(e,M,A)}else S=Jn._fromJSON(e,A);y!==c&&(p=S),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Ja(c,e,s):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Ja(c,e,s))}}function yv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aE(e))return"Blackberry";if(oE(e))return"Webos";if(nE(e))return"Safari";if((e.includes("chrome/")||iE(e))&&!e.includes("edge/"))return"Chrome";if(sE(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(i);if(s?.length===2)return s[1]}return"Other"}function tE(r=Wt()){return/firefox\//i.test(r)}function nE(r=Wt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iE(r=Wt()){return/crios\//i.test(r)}function rE(r=Wt()){return/iemobile/i.test(r)}function sE(r=Wt()){return/android/i.test(r)}function aE(r=Wt()){return/blackberry/i.test(r)}function oE(r=Wt()){return/webos/i.test(r)}function km(r=Wt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Bw(r=Wt()){return km(r)&&!!window.navigator?.standalone}function qw(){return eS()&&document.documentMode===10}function lE(r=Wt()){return km(r)||sE(r)||oE(r)||aE(r)||/windows phone/i.test(r)||rE(r)}function uE(r,e=[]){let i;switch(r){case"Browser":i=yv(Wt());break;case"Worker":i=`${yv(Wt())}-${r}`;break;default:i=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${ho}/${s}`}class Fw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const s=c=>new Promise((d,p)=>{try{const _=e(c);d(_)}catch(_){p(_)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const s of this.queue)await s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function Hw(r,e={}){return ls(r,"GET","/v2/passwordPolicy",ur(r,e))}const Gw=6;class Kw{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Gw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=e.length>=s),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class Qw{constructor(e,i,s,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _v(this),this.idTokenSubscription=new _v(this),this.beforeStateQueue=new Fw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Y0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ir(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ja.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await eh(this,{idToken:e}),s=await Jn._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(dn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(s=p.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await th(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ww()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(dn(this.app))return Promise.reject(ei(this));const i=e?en(e):null;return i&&ge(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return dn(this.app)?Promise.reject(ei(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return dn(this.app)?Promise.reject(ei(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ir(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Hw(this),i=new Kw(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xl("auth","Firebase",e())}onAuthStateChanged(e,i,s){return this.registerStateListener(this.authStateSubscription,e,i,s)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,s){return this.registerStateListener(this.idTokenSubscription,e,i,s)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await jw(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const s=await this.getOrInitRedirectPersistenceManager(i);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ir(e)||this._popupRedirectResolver;ge(i,this,"argument-error"),this.redirectPersistenceManager=await Ja.create(this,[ir(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,s,l);return()=>{d=!0,_()}}else{const _=e.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Aw(`Error while retrieving App Check token: ${e.error}`),e?.token}}function cr(r){return en(r)}class _v{constructor(e){this.auth=e,this.observer=null,this.addObserver=lS(i=>this.observer=i)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let vh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Yw(r){vh=r}function cE(r){return vh.loadJS(r)}function Xw(){return vh.recaptchaEnterpriseScript}function $w(){return vh.gapiScript}function Jw(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class Zw{constructor(){this.enterprise=new Ww}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class Ww{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const eR="recaptcha-enterprise",hE="NO_RECAPTCHA";class tR{constructor(e){this.type=eR,this.auth=cr(e)}async verify(e="verify",i=!1){async function s(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{Ow(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new Dw(_);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(_=>{p(_)})})}function l(c,d,p){const _=window.grecaptcha;dv(_)?_.enterprise.ready(()=>{_.enterprise.execute(c,{action:e}).then(y=>{d(y)}).catch(()=>{d(hE)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Zw().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{s(this.auth).then(p=>{if(!i&&dv(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let _=Xw();_.length!==0&&(_+=p),cE(_).then(()=>{l(p,c,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function vv(r,e,i,s=!1,l=!1){const c=new tR(r);let d;if(l)d=hE;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const _=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const _=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function lm(r,e,i,s,l){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await vv(r,e,i,i==="getOobCode");return s(r,c)}else return s(r,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await vv(r,e,i,i==="getOobCode");return s(r,d)}else return Promise.reject(c)})}function nR(r,e){const i=Dm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Gs(c,e??{}))return l;ii(l,"already-initialized")}return i.initialize({options:e})}function iR(r,e){const i=e?.persistence||[],s=(Array.isArray(i)?i:[i]).map(ir);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function rR(r,e,i){const s=cr(r);ge(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,c=fE(e),{host:d,port:p}=sR(e),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){ge(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ge(Gs(y,s.config.emulator)&&Gs(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,co(d)?(z0(`${c}//${d}${_}`),j0("Auth",!0)):aR()}function fE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function sR(r){const e=fE(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:Ev(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:Ev(d)}}}function Ev(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function aR(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Lm{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return nr("not implemented")}_getIdTokenResponse(e){return nr("not implemented")}_linkToIdToken(e,i){return nr("not implemented")}_getReauthenticationResolver(e){return nr("not implemented")}}async function oR(r,e){return ls(r,"POST","/v1/accounts:signUp",e)}async function lR(r,e){return fo(r,"POST","/v1/accounts:signInWithPassword",ur(r,e))}async function uR(r,e){return fo(r,"POST","/v1/accounts:signInWithEmailLink",ur(r,e))}async function cR(r,e){return fo(r,"POST","/v1/accounts:signInWithEmailLink",ur(r,e))}class Bl extends Lm{constructor(e,i,s,l=null){super("password",s),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new Bl(e,i,"password")}static _fromEmailAndCode(e,i,s=null){return new Bl(e,i,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lm(e,i,"signInWithPassword",lR);case"emailLink":return uR(e,{email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const s={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lm(e,s,"signUpPassword",oR);case"emailLink":return cR(e,{idToken:i,email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Za(r,e){return fo(r,"POST","/v1/accounts:signInWithIdp",ur(r,e))}const hR="http://localhost";class Qs extends Lm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Qs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):ii("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l,...c}=i;if(!s||!l)return null;const d=new Qs(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return Za(e,i)}_linkToIdToken(e,i){const s=this.buildRequest();return s.idToken=i,Za(e,s)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Za(e,i)}buildRequest(){const e={requestUri:hR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=$l(i)}return e}}function fR(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function dR(r){const e=Cl(Il(r)).link,i=e?Cl(Il(e)).deep_link_id:null,s=Cl(Il(r)).deep_link_id;return(s?Cl(Il(s)).link:null)||s||i||e||r}class Um{constructor(e){const i=Cl(Il(e)),s=i.apiKey??null,l=i.oobCode??null,c=fR(i.mode??null);ge(s&&l&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=dR(e);try{return new Um(i)}catch{return null}}}class mo{constructor(){this.providerId=mo.PROVIDER_ID}static credential(e,i){return Bl._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const s=Um.parseLink(i);return ge(s,"argument-error"),Bl._fromEmailAndCode(e,s.code,s.tenantId)}}mo.PROVIDER_ID="password";mo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";mo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class dE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Zl extends dE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Gr extends Zl{constructor(){super("facebook.com")}static credential(e){return Qs._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gr.credential(e.oauthAccessToken)}catch{return null}}}Gr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gr.PROVIDER_ID="facebook.com";class Kr extends Zl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Qs._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:s}=e;if(!i&&!s)return null;try{return Kr.credential(i,s)}catch{return null}}}Kr.GOOGLE_SIGN_IN_METHOD="google.com";Kr.PROVIDER_ID="google.com";class Qr extends Zl{constructor(){super("github.com")}static credential(e){return Qs._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qr.credential(e.oauthAccessToken)}catch{return null}}}Qr.GITHUB_SIGN_IN_METHOD="github.com";Qr.PROVIDER_ID="github.com";class Yr extends Zl{constructor(){super("twitter.com")}static credential(e,i){return Qs._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=e;if(!i||!s)return null;try{return Yr.credential(i,s)}catch{return null}}}Yr.TWITTER_SIGN_IN_METHOD="twitter.com";Yr.PROVIDER_ID="twitter.com";async function mE(r,e){return fo(r,"POST","/v1/accounts:signUp",ur(r,e))}class ki{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,s,l=!1){const c=await Jn._fromIdTokenResponse(e,s,l),d=Tv(s);return new ki({user:c,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(e,i,s){await e._updateTokensIfNecessary(s,!0);const l=Tv(s);return new ki({user:e,providerId:l,_tokenResponse:s,operationType:i})}}function Tv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function mR(r){if(dn(r.app))return Promise.reject(ei(r));const e=cr(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new ki({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await mE(e,{returnSecureToken:!0}),s=await ki._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(s.user),s}class nh extends lr{constructor(e,i,s,l){super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,nh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,i,s,l){return new nh(e,i,s,l)}}function pE(r,e,i,s){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?nh._fromErrorAndOperation(r,c,e,s):c})}async function pR(r,e,i=!1){const s=await jl(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return ki._forOperation(r,"link",s)}async function gR(r,e,i=!1){const{auth:s}=r;if(dn(s.app))return Promise.reject(ei(s));const l="reauthenticate";try{const c=await jl(r,pE(s,l,e,r),i);ge(c.idToken,s,"internal-error");const d=Vm(c.idToken);ge(d,s,"internal-error");const{sub:p}=d;return ge(r.uid===p,s,"user-mismatch"),ki._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ii(s,"user-mismatch"),c}}async function gE(r,e,i=!1){if(dn(r.app))return Promise.reject(ei(r));const s="signIn",l=await pE(r,s,e),c=await ki._fromIdTokenResponse(r,s,l);return i||await r._updateCurrentUser(c.user),c}async function yR(r,e){return gE(cr(r),e)}async function _R(r,e){return fo(r,"POST","/v1/accounts:signInWithCustomToken",ur(r,e))}async function vR(r,e){if(dn(r.app))return Promise.reject(ei(r));const i=cr(r),s=await _R(i,{token:e,returnSecureToken:!0}),l=await ki._fromIdTokenResponse(i,"signIn",s);return await i._updateCurrentUser(l.user),l}async function yE(r){const e=cr(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ER(r,e,i){if(dn(r.app))return Promise.reject(ei(r));const s=cr(r),d=await lm(s,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mE).catch(_=>{throw _.code==="auth/password-does-not-meet-requirements"&&yE(r),_}),p=await ki._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(p.user),p}function TR(r,e,i){return dn(r.app)?Promise.reject(ei(r)):yR(en(r),mo.credential(e,i)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&yE(r),s})}function AR(r,e,i,s){return en(r).onIdTokenChanged(e,i,s)}function bR(r,e,i){return en(r).beforeAuthStateChanged(e,i)}function SR(r,e,i,s){return en(r).onAuthStateChanged(e,i,s)}function wR(r){return en(r).signOut()}const ih="__sak";class _E{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ih,"1"),this.storage.removeItem(ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const RR=1e3,CR=10;class vE extends _E{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&e(i,l,s)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const s=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);qw()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,CR):l()}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:s}),!0)})},RR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}vE.type="LOCAL";const IR=vE;class EE extends _E{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}EE.type="SESSION";const TE=EE;function NR(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Eh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const s=new Eh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:s,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await NR(p);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Eh.receivers=[];function Pm(r="",e=10){let i="";for(let s=0;s<e;s++)i+=Math.floor(Math.random()*10);return r+i}class xR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=Pm("",20);l.port1.start();const A=setTimeout(()=>{_(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(S){const M=S;if(M.data.eventId===y)switch(M.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(M.data.response);break;default:clearTimeout(A),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function xi(){return window}function DR(r){xi().location.href=r}function AE(){return typeof xi().WorkerGlobalScope<"u"&&typeof xi().importScripts=="function"}async function OR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function MR(){return navigator?.serviceWorker?.controller||null}function VR(){return AE()?self:null}const bE="firebaseLocalStorageDb",kR=1,rh="firebaseLocalStorage",SE="fbase_key";class Wl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Th(r,e){return r.transaction([rh],e?"readwrite":"readonly").objectStore(rh)}function LR(){const r=indexedDB.deleteDatabase(bE);return new Wl(r).toPromise()}function um(){const r=indexedDB.open(bE,kR);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(rh,{keyPath:SE})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(rh)?e(s):(s.close(),await LR(),e(await um()))})})}async function Av(r,e,i){const s=Th(r,!0).put({[SE]:e,value:i});return new Wl(s).toPromise()}async function UR(r,e){const i=Th(r,!1).get(e),s=await new Wl(i).toPromise();return s===void 0?null:s.value}function bv(r,e){const i=Th(r,!0).delete(e);return new Wl(i).toPromise()}const PR=800,zR=3;class wE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await um(),this.db)}async _withRetries(e){let i=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(i++>zR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return AE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Eh._getInstance(VR()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await OR(),!this.activeServiceWorker)return;this.sender=new xR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||MR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await um();return await Av(e,ih,"1"),await bv(e,ih),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>Av(s,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(s=>UR(s,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>bv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=Th(l,!1).getAll();return new Wl(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wE.type="LOCAL";const jR=wE;new Jl(3e4,6e4);function BR(r,e){return e?ir(e):(ge(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class zm extends Lm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Za(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Za(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Za(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function qR(r){return gE(r.auth,new zm(r),r.bypassAuthState)}function FR(r){const{auth:e,user:i}=r;return ge(i,e,"internal-error"),gR(i,new zm(r),r.bypassAuthState)}async function HR(r){const{auth:e,user:i}=r;return ge(i,e,"internal-error"),pR(i,new zm(r),r.bypassAuthState)}class RE{constructor(e,i,s,l,c=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qR;case"linkViaPopup":case"linkViaRedirect":return HR;case"reauthViaPopup":case"reauthViaRedirect":return FR;default:ii(this.auth,"internal-error")}}resolve(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const GR=new Jl(2e3,1e4);class Xa extends RE{constructor(e,i,s,l,c){super(e,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Xa.currentPopupAction&&Xa.currentPopupAction.cancel(),Xa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){sr(this.filter.length===1,"Popup operations only handle one event");const e=Pm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,GR.get())};e()}}Xa.currentPopupAction=null;const KR="pendingRedirect",Fc=new Map;class QR extends RE{constructor(e,i,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let e=Fc.get(this.auth._key());if(!e){try{const s=await YR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(i){e=()=>Promise.reject(i)}Fc.set(this.auth._key(),e)}return this.bypassAuthState||Fc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function YR(r,e){const i=JR(e),s=$R(r);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function XR(r,e){Fc.set(r._key(),e)}function $R(r){return ir(r._redirectPersistence)}function JR(r){return qc(KR,r.config.apiKey,r.name)}async function ZR(r,e,i=!1){if(dn(r.app))return Promise.reject(ei(r));const s=cr(r),l=BR(s,e),d=await new QR(s,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}const WR=600*1e3;class e2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(i=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!t2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!CE(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Ni(this.auth,s))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const s=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=WR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sv(e))}saveEventToCache(e){this.cachedEventUids.add(Sv(e)),this.lastProcessedEventTime=Date.now()}}function Sv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function CE({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function t2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return CE(r);default:return!1}}async function n2(r,e={}){return ls(r,"GET","/v1/projects",e)}const i2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,r2=/^https?/;async function s2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await n2(r);for(const i of e)try{if(a2(i))return}catch{}ii(r,"unauthorized-domain")}function a2(r){const e=am(),{protocol:i,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!r2.test(i))return!1;if(i2.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const o2=new Jl(3e4,6e4);function wv(){const r=xi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function l2(r){return new Promise((e,i)=>{function s(){wv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wv(),i(Ni(r,"network-request-failed"))},timeout:o2.get()})}if(xi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(xi().gapi?.load)s();else{const l=Jw("iframefcb");return xi()[l]=()=>{gapi.load?s():i(Ni(r,"network-request-failed"))},cE(`${$w()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw Hc=null,e})}let Hc=null;function u2(r){return Hc=Hc||l2(r),Hc}const c2=new Jl(5e3,15e3),h2="__/auth/iframe",f2="emulator/auth/iframe",d2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},m2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function p2(r){const e=r.config;ge(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?Mm(e,f2):`https://${r.config.authDomain}/${h2}`,s={apiKey:e.apiKey,appName:r.name,v:ho},l=m2.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${$l(s).slice(1)}`}async function g2(r){const e=await u2(r),i=xi().gapi;return ge(i,r,"internal-error"),e.open({where:document.body,url:p2(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:d2,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=Ni(r,"network-request-failed"),p=xi().setTimeout(()=>{c(d)},c2.get());function _(){xi().clearTimeout(p),l(s)}s.ping(_).then(_,()=>{c(d)})}))}const y2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_2=500,v2=600,E2="_blank",T2="http://localhost";class Rv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function A2(r,e,i,s=_2,l=v2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const _={...y2,width:s.toString(),height:l.toString(),top:c,left:d},y=Wt().toLowerCase();i&&(p=iE(y)?E2:i),tE(y)&&(e=e||T2,_.scrollbars="yes");const A=Object.entries(_).reduce((M,[H,ee])=>`${M}${H}=${ee},`,"");if(Bw(y)&&p!=="_self")return b2(e||"",p),new Rv(null);const S=window.open(e||"",p,A);ge(S,r,"popup-blocked");try{S.focus()}catch{}return new Rv(S)}function b2(r,e){const i=document.createElement("a");i.href=r,i.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}const S2="__/auth/handler",w2="emulator/auth/handler",R2=encodeURIComponent("fac");async function Cv(r,e,i,s,l,c){ge(r.config.authDomain,r,"auth-domain-config-required"),ge(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:s,v:ho,eventId:l};if(e instanceof dE){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",oS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(e instanceof Zl){const A=e.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const _=await r._getAppCheckToken(),y=_?`#${R2}=${encodeURIComponent(_)}`:"";return`${C2(r)}?${$l(p).slice(1)}${y}`}function C2({config:r}){return r.emulator?Mm(r,w2):`https://${r.authDomain}/${S2}`}const Qd="webStorageSupport";class I2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=TE,this._completeRedirectFn=ZR,this._overrideRedirectResult=XR}async _openPopup(e,i,s,l){sr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Cv(e,i,s,am(),l);return A2(e,c,Pm())}async _openRedirect(e,i,s,l){await this._originValidation(e);const c=await Cv(e,i,s,am(),l);return DR(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(sr(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(e){const i=await g2(e),s=new e2(e);return i.register("authEvent",l=>(ge(l?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=i,s}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Qd,{type:Qd},l=>{const c=l?.[0]?.[Qd];c!==void 0&&i(!!c),ii(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=s2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return lE()||nE()||km()}}const N2=I2;var Iv="@firebase/auth",Nv="1.12.0";class x2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function D2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function O2(r){io(new Ks("auth",(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=s.options;ge(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const _={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uE(r)},y=new Qw(s,l,c,_);return iR(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,s)=>{e.getProvider("auth-internal").initialize()})),io(new Ks("auth-internal",e=>{const i=cr(e.getProvider("auth").getImmediate());return(s=>new x2(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zr(Iv,Nv,D2(r)),Zr(Iv,Nv,"esm2020")}const M2=300,V2=P0("authIdTokenMaxAge")||M2;let xv=null;const k2=r=>async e=>{const i=e&&await e.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>V2)return;const l=i?.token;xv!==l&&(xv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function L2(r=H0()){const e=Dm(r,"auth");if(e.isInitialized())return e.getImmediate();const i=nR(r,{popupRedirectResolver:N2,persistence:[jR,IR,TE]}),s=P0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=k2(c.toString());bR(i,d,()=>d(i.currentUser)),AR(i,p=>d(p))}}const l=L0("auth");return l&&rR(i,`http://${l}`),i}function U2(){return document.getElementsByTagName("head")?.[0]??document}Yw({loadJS(r){return new Promise((e,i)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=l=>{const c=Ni("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",U2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});O2("Browser");var Dv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Wr,IE;(function(){var r;function e(N,w){function I(){}I.prototype=w.prototype,N.F=w.prototype,N.prototype=new I,N.prototype.constructor=N,N.D=function(V,D,L){for(var R=Array(arguments.length-2),st=2;st<arguments.length;st++)R[st-2]=arguments[st];return w.prototype[D].apply(V,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,w,I){I||(I=0);const V=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)V[D]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(D=0;D<16;++D)V[D]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=N.g[0],I=N.g[1],D=N.g[2];let L=N.g[3],R;R=w+(L^I&(D^L))+V[0]+3614090360&4294967295,w=I+(R<<7&4294967295|R>>>25),R=L+(D^w&(I^D))+V[1]+3905402710&4294967295,L=w+(R<<12&4294967295|R>>>20),R=D+(I^L&(w^I))+V[2]+606105819&4294967295,D=L+(R<<17&4294967295|R>>>15),R=I+(w^D&(L^w))+V[3]+3250441966&4294967295,I=D+(R<<22&4294967295|R>>>10),R=w+(L^I&(D^L))+V[4]+4118548399&4294967295,w=I+(R<<7&4294967295|R>>>25),R=L+(D^w&(I^D))+V[5]+1200080426&4294967295,L=w+(R<<12&4294967295|R>>>20),R=D+(I^L&(w^I))+V[6]+2821735955&4294967295,D=L+(R<<17&4294967295|R>>>15),R=I+(w^D&(L^w))+V[7]+4249261313&4294967295,I=D+(R<<22&4294967295|R>>>10),R=w+(L^I&(D^L))+V[8]+1770035416&4294967295,w=I+(R<<7&4294967295|R>>>25),R=L+(D^w&(I^D))+V[9]+2336552879&4294967295,L=w+(R<<12&4294967295|R>>>20),R=D+(I^L&(w^I))+V[10]+4294925233&4294967295,D=L+(R<<17&4294967295|R>>>15),R=I+(w^D&(L^w))+V[11]+2304563134&4294967295,I=D+(R<<22&4294967295|R>>>10),R=w+(L^I&(D^L))+V[12]+1804603682&4294967295,w=I+(R<<7&4294967295|R>>>25),R=L+(D^w&(I^D))+V[13]+4254626195&4294967295,L=w+(R<<12&4294967295|R>>>20),R=D+(I^L&(w^I))+V[14]+2792965006&4294967295,D=L+(R<<17&4294967295|R>>>15),R=I+(w^D&(L^w))+V[15]+1236535329&4294967295,I=D+(R<<22&4294967295|R>>>10),R=w+(D^L&(I^D))+V[1]+4129170786&4294967295,w=I+(R<<5&4294967295|R>>>27),R=L+(I^D&(w^I))+V[6]+3225465664&4294967295,L=w+(R<<9&4294967295|R>>>23),R=D+(w^I&(L^w))+V[11]+643717713&4294967295,D=L+(R<<14&4294967295|R>>>18),R=I+(L^w&(D^L))+V[0]+3921069994&4294967295,I=D+(R<<20&4294967295|R>>>12),R=w+(D^L&(I^D))+V[5]+3593408605&4294967295,w=I+(R<<5&4294967295|R>>>27),R=L+(I^D&(w^I))+V[10]+38016083&4294967295,L=w+(R<<9&4294967295|R>>>23),R=D+(w^I&(L^w))+V[15]+3634488961&4294967295,D=L+(R<<14&4294967295|R>>>18),R=I+(L^w&(D^L))+V[4]+3889429448&4294967295,I=D+(R<<20&4294967295|R>>>12),R=w+(D^L&(I^D))+V[9]+568446438&4294967295,w=I+(R<<5&4294967295|R>>>27),R=L+(I^D&(w^I))+V[14]+3275163606&4294967295,L=w+(R<<9&4294967295|R>>>23),R=D+(w^I&(L^w))+V[3]+4107603335&4294967295,D=L+(R<<14&4294967295|R>>>18),R=I+(L^w&(D^L))+V[8]+1163531501&4294967295,I=D+(R<<20&4294967295|R>>>12),R=w+(D^L&(I^D))+V[13]+2850285829&4294967295,w=I+(R<<5&4294967295|R>>>27),R=L+(I^D&(w^I))+V[2]+4243563512&4294967295,L=w+(R<<9&4294967295|R>>>23),R=D+(w^I&(L^w))+V[7]+1735328473&4294967295,D=L+(R<<14&4294967295|R>>>18),R=I+(L^w&(D^L))+V[12]+2368359562&4294967295,I=D+(R<<20&4294967295|R>>>12),R=w+(I^D^L)+V[5]+4294588738&4294967295,w=I+(R<<4&4294967295|R>>>28),R=L+(w^I^D)+V[8]+2272392833&4294967295,L=w+(R<<11&4294967295|R>>>21),R=D+(L^w^I)+V[11]+1839030562&4294967295,D=L+(R<<16&4294967295|R>>>16),R=I+(D^L^w)+V[14]+4259657740&4294967295,I=D+(R<<23&4294967295|R>>>9),R=w+(I^D^L)+V[1]+2763975236&4294967295,w=I+(R<<4&4294967295|R>>>28),R=L+(w^I^D)+V[4]+1272893353&4294967295,L=w+(R<<11&4294967295|R>>>21),R=D+(L^w^I)+V[7]+4139469664&4294967295,D=L+(R<<16&4294967295|R>>>16),R=I+(D^L^w)+V[10]+3200236656&4294967295,I=D+(R<<23&4294967295|R>>>9),R=w+(I^D^L)+V[13]+681279174&4294967295,w=I+(R<<4&4294967295|R>>>28),R=L+(w^I^D)+V[0]+3936430074&4294967295,L=w+(R<<11&4294967295|R>>>21),R=D+(L^w^I)+V[3]+3572445317&4294967295,D=L+(R<<16&4294967295|R>>>16),R=I+(D^L^w)+V[6]+76029189&4294967295,I=D+(R<<23&4294967295|R>>>9),R=w+(I^D^L)+V[9]+3654602809&4294967295,w=I+(R<<4&4294967295|R>>>28),R=L+(w^I^D)+V[12]+3873151461&4294967295,L=w+(R<<11&4294967295|R>>>21),R=D+(L^w^I)+V[15]+530742520&4294967295,D=L+(R<<16&4294967295|R>>>16),R=I+(D^L^w)+V[2]+3299628645&4294967295,I=D+(R<<23&4294967295|R>>>9),R=w+(D^(I|~L))+V[0]+4096336452&4294967295,w=I+(R<<6&4294967295|R>>>26),R=L+(I^(w|~D))+V[7]+1126891415&4294967295,L=w+(R<<10&4294967295|R>>>22),R=D+(w^(L|~I))+V[14]+2878612391&4294967295,D=L+(R<<15&4294967295|R>>>17),R=I+(L^(D|~w))+V[5]+4237533241&4294967295,I=D+(R<<21&4294967295|R>>>11),R=w+(D^(I|~L))+V[12]+1700485571&4294967295,w=I+(R<<6&4294967295|R>>>26),R=L+(I^(w|~D))+V[3]+2399980690&4294967295,L=w+(R<<10&4294967295|R>>>22),R=D+(w^(L|~I))+V[10]+4293915773&4294967295,D=L+(R<<15&4294967295|R>>>17),R=I+(L^(D|~w))+V[1]+2240044497&4294967295,I=D+(R<<21&4294967295|R>>>11),R=w+(D^(I|~L))+V[8]+1873313359&4294967295,w=I+(R<<6&4294967295|R>>>26),R=L+(I^(w|~D))+V[15]+4264355552&4294967295,L=w+(R<<10&4294967295|R>>>22),R=D+(w^(L|~I))+V[6]+2734768916&4294967295,D=L+(R<<15&4294967295|R>>>17),R=I+(L^(D|~w))+V[13]+1309151649&4294967295,I=D+(R<<21&4294967295|R>>>11),R=w+(D^(I|~L))+V[4]+4149444226&4294967295,w=I+(R<<6&4294967295|R>>>26),R=L+(I^(w|~D))+V[11]+3174756917&4294967295,L=w+(R<<10&4294967295|R>>>22),R=D+(w^(L|~I))+V[2]+718787259&4294967295,D=L+(R<<15&4294967295|R>>>17),R=I+(L^(D|~w))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+L&4294967295}s.prototype.v=function(N,w){w===void 0&&(w=N.length);const I=w-this.blockSize,V=this.C;let D=this.h,L=0;for(;L<w;){if(D==0)for(;L<=I;)l(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<w;)if(V[D++]=N.charCodeAt(L++),D==this.blockSize){l(this,V),D=0;break}}else for(;L<w;)if(V[D++]=N[L++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=w},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;w=this.o*8;for(var I=N.length-8;I<N.length;++I)N[I]=w&255,w/=256;for(this.v(N),N=Array(16),w=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)N[w++]=this.g[I]>>>V&255;return N};function c(N,w){var I=p;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=w(N)}function d(N,w){this.h=w;const I=[];let V=!0;for(let D=N.length-1;D>=0;D--){const L=N[D]|0;V&&L==w||(I[D]=L,V=!1)}this.g=I}var p={};function _(N){return-128<=N&&N<128?c(N,function(w){return new d([w|0],w<0?-1:0)}):new d([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return S;if(N<0)return Z(y(-N));const w=[];let I=1;for(let V=0;N>=I;V++)w[V]=N/I|0,I*=4294967296;return new d(w,0)}function A(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return Z(A(N.substring(1),w));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(w,8));let V=S;for(let L=0;L<N.length;L+=8){var D=Math.min(8,N.length-L);const R=parseInt(N.substring(L,L+D),w);D<8?(D=y(Math.pow(w,D)),V=V.j(D).add(y(R))):(V=V.j(I),V=V.add(y(R)))}return V}var S=_(0),M=_(1),H=_(16777216);r=d.prototype,r.m=function(){if(te(this))return-Z(this).m();let N=0,w=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);N+=(V>=0?V:4294967296+V)*w,w*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(ee(this))return"0";if(te(this))return"-"+Z(this).toString(N);const w=y(Math.pow(N,6));var I=this;let V="";for(;;){const D=Ae(I,w).g;I=re(I,D.j(w));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(N);if(I=D,ee(I))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function ee(N){if(N.h!=0)return!1;for(let w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function te(N){return N.h==-1}r.l=function(N){return N=re(this,N),te(N)?-1:ee(N)?0:1};function Z(N){const w=N.g.length,I=[];for(let V=0;V<w;V++)I[V]=~N.g[V];return new d(I,~N.h).add(M)}r.abs=function(){return te(this)?Z(this):this},r.add=function(N){const w=Math.max(this.g.length,N.g.length),I=[];let V=0;for(let D=0;D<=w;D++){let L=V+(this.i(D)&65535)+(N.i(D)&65535),R=(L>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);V=R>>>16,L&=65535,R&=65535,I[D]=R<<16|L}return new d(I,I[I.length-1]&-2147483648?-1:0)};function re(N,w){return N.add(Z(w))}r.j=function(N){if(ee(this)||ee(N))return S;if(te(this))return te(N)?Z(this).j(Z(N)):Z(Z(this).j(N));if(te(N))return Z(this.j(Z(N)));if(this.l(H)<0&&N.l(H)<0)return y(this.m()*N.m());const w=this.g.length+N.g.length,I=[];for(var V=0;V<2*w;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<N.g.length;D++){const L=this.i(V)>>>16,R=this.i(V)&65535,st=N.i(D)>>>16,xt=N.i(D)&65535;I[2*V+2*D]+=R*xt,ce(I,2*V+2*D),I[2*V+2*D+1]+=L*xt,ce(I,2*V+2*D+1),I[2*V+2*D+1]+=R*st,ce(I,2*V+2*D+1),I[2*V+2*D+2]+=L*st,ce(I,2*V+2*D+2)}for(N=0;N<w;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=w;N<2*w;N++)I[N]=0;return new d(I,0)};function ce(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function pe(N,w){this.g=N,this.h=w}function Ae(N,w){if(ee(w))throw Error("division by zero");if(ee(N))return new pe(S,S);if(te(N))return w=Ae(Z(N),w),new pe(Z(w.g),Z(w.h));if(te(w))return w=Ae(N,Z(w)),new pe(Z(w.g),w.h);if(N.g.length>30){if(te(N)||te(w))throw Error("slowDivide_ only works with positive integers.");for(var I=M,V=w;V.l(N)<=0;)I=Ge(I),V=Ge(V);var D=ze(I,1),L=ze(V,1);for(V=ze(V,2),I=ze(I,2);!ee(V);){var R=L.add(V);R.l(N)<=0&&(D=D.add(I),L=R),V=ze(V,1),I=ze(I,1)}return w=re(N,D.j(w)),new pe(D,w)}for(D=S;N.l(w)>=0;){for(I=Math.max(1,Math.floor(N.m()/w.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=y(I),R=L.j(w);te(R)||R.l(N)>0;)I-=V,L=y(I),R=L.j(w);ee(L)&&(L=M),D=D.add(L),N=re(N,R)}return new pe(D,N)}r.B=function(N){return Ae(this,N).h},r.and=function(N){const w=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)&N.i(V);return new d(I,this.h&N.h)},r.or=function(N){const w=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)|N.i(V);return new d(I,this.h|N.h)},r.xor=function(N){const w=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)^N.i(V);return new d(I,this.h^N.h)};function Ge(N){const w=N.g.length+1,I=[];for(let V=0;V<w;V++)I[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(I,N.h)}function ze(N,w){const I=w>>5;w%=32;const V=N.g.length-I,D=[];for(let L=0;L<V;L++)D[L]=w>0?N.i(L+I)>>>w|N.i(L+I+1)<<32-w:N.i(L+I);return new d(D,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,IE=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,Wr=d}).apply(typeof Dv<"u"?Dv:typeof self<"u"?self:typeof window<"u"?window:{});var Lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var NE,Nl,xE,Gc,cm,DE,OE,ME;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lc=="object"&&Lc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function l(u,m){if(m)e:{var v=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in v))break e;v=v[U]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,U,B){for(var W=Array(arguments.length-2),be=2;be<arguments.length;be++)W[be-2]=arguments[be];return m.prototype[U].apply(T,W)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function ee(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const B=U.length||0;u.length=v+B;for(let W=0;W<B;W++)u[v+W]=U[W]}else u.push(U)}}class te{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){d.setTimeout(()=>{throw u},0)}function re(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ce{constructor(){this.h=this.g=null}add(m,v){const T=pe.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var pe=new te(()=>new Ae,u=>u.reset());class Ae{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ge,ze=!1,N=new ce,w=()=>{const u=Promise.resolve(void 0);Ge=()=>{u.then(I)}};function I(){for(var u;u=re();){try{u.h.call(u.g)}catch(v){Z(v)}var m=pe;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}ze=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function st(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(st,D),st.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&st.Z.h.call(this)},st.prototype.h=function(){st.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var xt="closure_listenable_"+(Math.random()*1e6|0),G=0;function ne(u,m,v,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=U,this.key=++G,this.da=this.fa=!1}function de(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Pe(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Ke(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(u,m){let v,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(v in T)u[v]=T[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function oe(u){this.src=u,this.g={},this.h=0}oe.prototype.add=function(u,m,v,T,U){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const W=we(u,m,T,U);return W>-1?(m=u[W],v||(m.fa=!1)):(m=new ne(m,this.src,B,!!T,U),m.fa=v,u.push(m)),m};function _e(u,m){const v=m.type;if(v in u.g){var T=u.g[v],U=Array.prototype.indexOf.call(T,m,void 0),B;(B=U>=0)&&Array.prototype.splice.call(T,U,1),B&&(de(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function we(u,m,v,T){for(let U=0;U<u.length;++U){const B=u[U];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return U}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),Dt={};function at(u,m,v,T,U){if(Array.isArray(m)){for(let B=0;B<m.length;B++)at(u,m[B],v,T,U);return null}return v=Ao(v),u&&u[xt]?u.J(m,v,p(T)?!!T.capture:!1,U):us(u,m,v,!1,T,U)}function us(u,m,v,T,U,B){if(!m)throw Error("Invalid event type");const W=p(U)?!!U.capture:!!U;let be=cs(u);if(be||(u[ke]=be=new oe(u)),v=be.add(m,v,T,W,B),v.proxy)return v;if(T=ta(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)L||(U=W),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(si(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ta(){function u(v){return m.call(u.src,u.listener,v)}const m=Eo;return u}function na(u,m,v,T,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)na(u,m[B],v,T,U);else T=p(T)?!!T.capture:!!T,v=Ao(v),u&&u[xt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=we(m,v,T,U),v>-1&&(de(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=cs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=we(m,v,T,U)),(v=u>-1?m[u]:null)&&ia(v))}function ia(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[xt])_e(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(si(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=cs(m))?(_e(v,u),v.h==0&&(v.src=null,m[ke]=null)):de(u)}}}function si(u){return u in Dt?Dt[u]:Dt[u]="on"+u}function Eo(u,m){if(u.da)u=!0;else{m=new st(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&ia(u),u=v.call(T,m)}return u}function cs(u){return u=u[ke],u instanceof oe?u:null}var To="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ao(u){return typeof u=="function"?u:(u[To]||(u[To]=function(m){return u.handleEvent(m)}),u[To])}function _t(){V.call(this),this.i=new oe(this),this.M=this,this.G=null}S(_t,V),_t.prototype[xt]=!0,_t.prototype.removeEventListener=function(u,m,v,T){na(this,u,m,v,T)};function Ot(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var U=m;m=new D(T,u),ie(m,U)}U=!0;let B,W;if(v)for(W=v.length-1;W>=0;W--)B=m.g=v[W],U=hr(B,T,!0,m)&&U;if(B=m.g=u,U=hr(B,T,!0,m)&&U,U=hr(B,T,!1,m)&&U,v)for(W=0;W<v.length;W++)B=m.g=v[W],U=hr(B,T,!1,m)&&U}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)de(v[T]);delete u.g[m],u.h--}}this.G=null},_t.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},_t.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function hr(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let B=0;B<m.length;++B){const W=m[B];if(W&&!W.da&&W.capture==v){const be=W.listener,dt=W.ha||W.src;W.fa&&_e(u.i,W),U=be.call(dt,T)!==!1&&U}}return U&&!T.defaultPrevented}function Lh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function au(u){u.g=Lh(()=>{u.g=null,u.i&&(u.i=!1,au(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class tn extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:au(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hs(u){V.call(this),this.h=u,this.g={}}S(hs,V);var bo=[];function So(u){Pe(u.g,function(m,v){this.g.hasOwnProperty(v)&&ia(m)},u),u.g={}}hs.prototype.N=function(){hs.Z.N.call(this),So(this)},hs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fr=d.JSON.stringify,Uh=d.JSON.parse,ou=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function lu(){}function uu(){}var zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function jt(){D.call(this,"d")}S(jt,D);function Sn(){D.call(this,"c")}S(Sn,D);var ft={},cu=null;function ra(){return cu=cu||new _t}ft.Ia="serverreachability";function hu(u){D.call(this,ft.Ia,u)}S(hu,D);function ai(u){const m=ra();Ot(m,new hu(m))}ft.STAT_EVENT="statevent";function fs(u,m){D.call(this,ft.STAT_EVENT,u),this.stat=m}S(fs,D);function vt(u){const m=ra();Ot(m,new fs(m,u))}ft.Ja="timingevent";function oi(u,m){D.call(this,ft.Ja,u),this.size=m}S(oi,D);function li(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function jn(){this.g=!0}jn.prototype.ua=function(){this.g=!1};function Ph(u,m,v,T,U,B){u.info(function(){if(u.g)if(B){var W="",be=B.split("&");for(let qe=0;qe<be.length;qe++){var dt=be[qe].split("=");if(dt.length>1){const ot=dt[0];dt=dt[1];const In=ot.split("_");W=In.length>=2&&In[1]=="type"?W+(ot+"="+dt+"&"):W+(ot+"=redacted&")}}}else W=null;else W=B;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+v+`
`+W})}function fu(u,m,v,T,U,B,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+v+`
`+B+" "+W})}function ui(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+zh(u,v)+(T?" "+T:"")})}function ds(u,m){u.info(function(){return"TIMEOUT: "+m})}jn.prototype.info=function(){};function zh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let W=1;W<T.length;W++)T[W]=""}}}}return fr(B)}catch{return m}}var ms={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},wo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ro;function ps(){}S(ps,lu),ps.prototype.g=function(){return new XMLHttpRequest},Ro=new ps;function Ui(u){return encodeURIComponent(String(u))}function du(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Bn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new hs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qn}function qn(){this.i=null,this.g="",this.h=!1}var Et={},kt={};function ci(u,m,v){u.M=1,u.A=gs(At(m)),u.u=v,u.R=!0,sa(u,null)}function sa(u,m){u.F=Date.now(),hi(u),u.B=At(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ua(v.i,"t",T),u.C=0,v=u.j.L,u.h=new qn,u.g=Iu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new tn(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(bo[0]=U.toString()),U=bo);for(let B=0;B<U.length;B++){const W=at(v,U[B],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ai(),Ph(u.i,u.v,u.B,u.l,u.S,u.u)}Bn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Gn(u)==3?m.j():this.Y(u)},Bn.prototype.Y=function(u){try{if(u==this.g)e:{const be=Gn(this.g),dt=this.g.ya(),qe=this.g.ca();if(!(be<3)&&(be!=3||this.g&&(this.h.h||this.g.la()||Bt(this.g)))){this.K||be!=4||dt==7||(dt==8||qe<=0?ai(3):ai(2)),fi(this);var m=this.g.ca();this.X=m;var v=jh(this);if(this.o=m==200,fu(this.i,this.v,this.B,this.l,this.S,be,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var B=T;break t}}B=null}if(u=B)ui(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,di(this,u);else{this.o=!1,this.m=3,vt(12),mn(this),wn(this);break e}}if(this.R){u=!0;let ot;for(;!this.K&&this.C<v.length;)if(ot=pu(this,v),ot==kt){be==4&&(this.m=4,vt(14),u=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==Et){this.m=4,vt(15),ui(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ui(this.i,this.l,ot,null),di(this,ot);if(mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),be!=4||v.length!=0||this.h.h||(this.m=1,vt(16),u=!1),this.o=this.o&&u,!u)ui(this.i,this.l,v,"[Invalid Chunked Response]"),mn(this),wn(this);else if(v.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Bo(W),W.P=!0,vt(11))}}else ui(this.i,this.l,v,null),di(this,v);be==4&&mn(this),this.o&&!this.K&&(be==4?Su(this.j,this):(this.o=!1,hi(this)))}else zi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),mn(this),wn(this)}}}catch{}};function jh(u){if(!mu(u))return u.g.la();const m=Bt(u.g);if(m==="")return"";let v="";const T=m.length,U=Gn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return mn(u),wn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(U&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function mu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function pu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?kt:(v=Number(m.substring(v,T)),isNaN(v)?Et:(T+=1,T+v>m.length?kt:(m=m.slice(T,T+v),u.C=T+v,m)))}Bn.prototype.cancel=function(){this.K=!0,mn(this)};function hi(u){u.T=Date.now()+u.H,aa(u,u.H)}function aa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=li(y(u.aa,u),m)}function fi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Bn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ds(this.i,this.B),this.M!=2&&(ai(),vt(17)),mn(this),this.m=2,wn(this)):aa(this,this.T-u)};function wn(u){u.j.I==0||u.K||Su(u.j,u)}function mn(u){fi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,So(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function di(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||pi(v.h,u))){if(!u.L&&pi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ma(v),Er(v);else break e;bs(v),vt(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=li(y(v.Va,v),6e3));mi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ti(v,11)}else if((u.L||v.g==u)&&ma(v),!R(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let qe=U[m];const ot=qe[0];if(!(ot<=v.K))if(v.K=ot,qe=qe[1],v.I==2)if(qe[0]=="c"){v.M=qe[1],v.ba=qe[2];const In=qe[3];In!=null&&(v.ka=In,v.j.info("VER="+v.ka));const Ai=qe[4];Ai!=null&&(v.za=Ai,v.j.info("SVER="+v.za));const Kn=qe[5];Kn!=null&&typeof Kn=="number"&&Kn>0&&(T=1.5*Kn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Qn=u.g;if(Qn){const Ss=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ss){var B=T.h;B.g||Ss.indexOf("spdy")==-1&&Ss.indexOf("quic")==-1&&Ss.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(No(B,B.h),B.h=null))}if(T.G){const pa=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;pa&&(T.wa=pa,Qe(T.J,T.G,pa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var W=u;if(T.na=Cu(T,T.L?T.ba:null,T.W),W.L){xo(T.h,W);var be=W,dt=T.O;dt&&(be.H=dt),be.D&&(fi(be),hi(be)),T.g=W}else Au(T);v.i.length>0&&Ei(v)}else qe[0]!="stop"&&qe[0]!="close"||Ti(v,7);else v.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Ti(v,7):zo(v):qe[0]!="noop"&&v.l&&v.l.qa(qe),v.A=0)}}ai(4)}catch{}}var Tt=class{constructor(u,m){this.g=u,this.map=m}};function Co(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Io(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function mi(u){return u.h?1:u.g?u.g.size:0}function pi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function No(u,m){u.g?u.g.add(m):u.h=m}function xo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Co.prototype.cancel=function(){if(this.i=Do(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Do(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return H(u.i)}var gu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let U,B=null;T>=0?(U=u[v].substring(0,T),B=u[v].substring(T+1)):U=u[v],m(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function pn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof pn?(this.l=u.l,Lt(this,u.j),this.o=u.o,this.g=u.g,dr(this,u.u),this.h=u.h,Oo(this,Eu(u.i)),this.m=u.m):u&&(m=String(u).match(gu))?(this.l=!1,Lt(this,m[1]||"",!0),this.o=gi(m[2]||""),this.g=gi(m[3]||"",!0),dr(this,m[4]),this.h=gi(m[5]||"",!0),Oo(this,m[6]||"",!0),this.m=gi(m[7]||"")):(this.l=!1,this.i=new pr(null,this.l))}pn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ys(m,la,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ys(m,la,!0),"@"),u.push(Ui(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(ys(v,v.charAt(0)=="/"?Mo:yu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",ys(v,_u)),u.join("")},pn.prototype.resolve=function(u){const m=At(this);let v=!!u.j;v?Lt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)dr(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let W=0;W<U.length;){const be=U[W++];be=="."?T&&W==U.length&&B.push(""):be==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&W==U.length&&B.push("")):(B.push(be),T=!0)}T=B.join("/")}else T=U}return v?m.h=T:v=u.i.toString()!=="",v?Oo(m,Eu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function At(u){return new pn(u)}function Lt(u,m,v){u.j=v?gi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function dr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Oo(u,m,v){m instanceof pr?(u.i=m,ca(u.i,u.l)):(v||(m=ys(m,mr)),u.i=new pr(m,u.l))}function Qe(u,m,v){u.i.set(m,v)}function gs(u){return Qe(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function gi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ys(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,sn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function sn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var la=/[#\/\?@]/g,yu=/[#\?:]/g,Mo=/[#\?]/g,mr=/[#\?@]/g,_u=/#/g;function pr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function an(u){u.g||(u.g=new Map,u.h=0,u.i&&oa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=pr.prototype,r.add=function(u,m){an(this),this.i=null,u=gr(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function vu(u,m){an(u),m=gr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Vo(u,m){return an(u),m=gr(u,m),u.g.has(m)}r.forEach=function(u,m){an(this),this.g.forEach(function(v,T){v.forEach(function(U){u.call(m,U,T,this)},this)},this)};function ko(u,m){an(u);let v=[];if(typeof m=="string")Vo(u,m)&&(v=v.concat(u.g.get(gr(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return an(this),this.i=null,u=gr(this,u),Vo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=ko(this,u),u.length>0?String(u[0]):m):m};function ua(u,m,v){vu(u,m),v.length>0&&(u.i=null,u.g.set(gr(u,m),H(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const U=Ui(v);v=ko(this,v);for(let B=0;B<v.length;B++){let W=U;v[B]!==""&&(W+="="+Ui(v[B])),u.push(W)}}return this.i=u.join("&")};function Eu(u){const m=new pr;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function gr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ca(u,m){m&&!u.j&&(an(u),u.i=null,u.g.forEach(function(v,T){const U=T.toLowerCase();T!=U&&(vu(this,T),ua(this,U,v))},u)),u.j=m}function Fn(u,m){const v=new jn;if(d.Image){const T=new Image;T.onload=A(Rn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Rn,v,"TestLoadImage: error",!1,m,T),T.onabort=A(Rn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Rn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Lo(u,m){const v=new jn,T=new AbortController,U=setTimeout(()=>{T.abort(),Rn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(U),B.ok?Rn(v,"TestPingServer: ok",!0,m):Rn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Rn(v,"TestPingServer: error",!1,m)})}function Rn(u,m,v,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(v)}catch{}}function yr(){this.g=new ou}function yi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(yi,lu),yi.prototype.g=function(){return new _s(this.i,this.h)};function _s(u,m){_t.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(_s,_t),r=_s.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Hn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,_r(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ha(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ha(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?_r(this):Hn(this),this.readyState==3&&ha(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,_r(this))},r.Na=function(u){this.g&&(this.response=u,_r(this))},r.ga=function(){this.g&&_r(this)};function _r(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Hn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Hn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(_s.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Cn(u){let m="";return Pe(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function vs(u,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=Cn(v),typeof u=="string"?v!=null&&Ui(v):Qe(u,m,v))}function $e(u){_t.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S($e,_t);var _i=/^https?$/i,Uo=["POST","PUT"];r=$e.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ro.g(),this.g.onreadystatechange=M(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Es(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)v.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Uo,m,void 0)>=0)||T||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,W]of v)this.g.setRequestHeader(B,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Es(this,B)}};function Es(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Po(u),Pi(u)}function Po(u){u.A||(u.A=!0,Ot(u,"complete"),Ot(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ot(this,"complete"),Ot(this,"abort"),Pi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pi(this,!0)),$e.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ts(this):this.Xa())},r.Xa=function(){Ts(this)};function Ts(u){if(u.h&&typeof c<"u"){if(u.v&&Gn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ot(u,"readystatechange"),Gn(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let W=String(u.D).match(gu)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),T=!_i.test(W?W.toLowerCase():"")}v=T}if(v)Ot(u,"complete"),Ot(u,"success");else{u.o=6;try{var U=Gn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Po(u)}}finally{Pi(u)}}}}function Pi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ot(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Gn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Gn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Uh(m)}};function Bt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function zi(u){const m={};u=(u.g&&Gn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var v=du(u[T]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[U]||[];m[U]=B,B.push(v)}Ke(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function vr(u){this.za=0,this.i=[],this.j=new jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vi("baseRetryDelayMs",5e3,u),this.Za=vi("retryDelaySeedMs",1e4,u),this.Ta=vi("forwardChannelMaxRetries",2,u),this.va=vi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Co(u&&u.concurrentRequestLimit),this.Ba=new yr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=vr.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){vt(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Cu(this,null,this.W),Ei(this)};function zo(u){if(fa(u),u.I==3){var m=u.V++,v=At(u.J);if(Qe(v,"SID",u.M),Qe(v,"RID",m),Qe(v,"TYPE","terminate"),As(u,v),m=new Bn(u,u.j,m),m.M=2,m.A=gs(At(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Iu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),hi(m)}Ru(u)}function Er(u){u.g&&(Bo(u),u.g.cancel(),u.g=null)}function fa(u){Er(u),u.v&&(d.clearTimeout(u.v),u.v=null),ma(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ei(u){if(!Io(u.h)&&!u.m){u.m=!0;var m=u.Ea;Ge||w(),ze||(Ge(),ze=!0),N.add(m,u),u.D=0}}function da(u,m){return mi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=li(y(u.Ea,u,m),wu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Bn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),ie(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Tu(this,U,m),v=At(this.J),Qe(v,"RID",u),Qe(v,"CVER",22),this.G&&Qe(v,"X-HTTP-Session-Id",this.G),As(this,v),B&&(this.R?m="headers="+Ui(Cn(B))+"&"+m:this.u&&vs(v,this.u,B)),No(this.h,U),this.Ra&&Qe(v,"TYPE","init"),this.S?(Qe(v,"$req",m),Qe(v,"SID","null"),U.U=!0,ci(U,v,null)):ci(U,v,m),this.I=2}}else this.I==3&&(u?jo(this,u):this.i.length==0||Io(this.h)||jo(this))};function jo(u,m){var v;m?v=m.l:v=u.V++;const T=At(u.J);Qe(T,"SID",u.M),Qe(T,"RID",v),Qe(T,"AID",u.K),As(u,T),u.u&&u.o&&vs(T,u.u,u.o),v=new Bn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Tu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),No(u.h,v),ci(v,T,m)}function As(u,m){u.H&&Pe(u.H,function(v,T){Qe(m,T,v)}),u.l&&Pe({},function(v,T){Qe(m,T,v)})}function Tu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?y(u.l.Ka,u.l,u):null;e:{var U=u.i;let be=-1;for(;;){const dt=["count="+v];be==-1?v>0?(be=U[0].g,dt.push("ofs="+be)):be=0:dt.push("ofs="+be);let qe=!0;for(let ot=0;ot<v;ot++){var B=U[ot].g;const In=U[ot].map;if(B-=be,B<0)be=Math.max(0,U[ot].g-100),qe=!1;else try{B="req"+B+"_"||"";try{var W=In instanceof Map?In:Object.entries(In);for(const[Ai,Kn]of W){let Qn=Kn;p(Kn)&&(Qn=fr(Kn)),dt.push(B+Ai+"="+encodeURIComponent(Qn))}}catch(Ai){throw dt.push(B+"type="+encodeURIComponent("_badmap")),Ai}}catch{T&&T(In)}}if(qe){W=dt.join("&");break e}}W=void 0}return u=u.i.splice(0,v),m.G=u,W}function Au(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Ge||w(),ze||(Ge(),ze=!0),N.add(m,u),u.A=0}}function bs(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=li(y(u.Da,u),wu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,bu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=li(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),Er(this),bu(this))};function Bo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function bu(u){u.g=new Bn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=At(u.na);Qe(m,"RID","rpc"),Qe(m,"SID",u.M),Qe(m,"AID",u.K),Qe(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qe(m,"TO",u.ia),Qe(m,"TYPE","xmlhttp"),As(u,m),u.u&&u.o&&vs(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=gs(At(m)),v.u=null,v.R=!0,sa(v,u)}r.Va=function(){this.C!=null&&(this.C=null,Er(this),bs(this),vt(19))};function ma(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Su(u,m){var v=null;if(u.g==m){ma(u),Bo(u),u.g=null;var T=2}else if(pi(u.h,m))v=m.G,xo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=ra(),Ot(T,new oi(T,v)),Ei(u)}else Au(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&da(u,m)||T==2&&bs(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:Ti(u,5);break;case 4:Ti(u,10);break;case 3:Ti(u,6);break;default:Ti(u,2)}}}function wu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ti(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),T=u.Ua;const U=!T;T=new pn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Lt(T,"https"),gs(T),U?Fn(T.toString(),v):Lo(T.toString(),v)}else vt(2);u.I=0,u.l&&u.l.pa(m),Ru(u),fa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Ru(u){if(u.I=0,u.ja=[],u.l){const m=Do(u.h);(m.length!=0||u.i.length!=0)&&(ee(u.ja,m),ee(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function Cu(u,m,v){var T=v instanceof pn?At(v):new pn(v);if(T.g!="")m&&(T.g=m+"."+T.g),dr(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const B=new pn(null);T&&Lt(B,T),m&&(B.g=m),U&&dr(B,U),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&Qe(T,v,m),Qe(T,"VER",u.ka),As(u,T),T}function Iu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new $e(new yi({ab:v})):new $e(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Nu(){}r=Nu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Tr(){}Tr.prototype.g=function(u,m){return new nn(u,m)};function nn(u,m){_t.call(this),this.g=new vr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ji(this)}S(nn,_t),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){zo(this.g)},nn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=fr(u),u=v);m.i.push(new Tt(m.Ya++,u)),m.I==3&&Ei(m)},nn.prototype.N=function(){this.g.l=null,delete this.j,zo(this.g),delete this.g,nn.Z.N.call(this)};function xu(u){jt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(xu,jt);function Du(){Sn.call(this),this.status=1}S(Du,Sn);function ji(u){this.g=u}S(ji,Nu),ji.prototype.ra=function(){Ot(this.g,"a")},ji.prototype.qa=function(u){Ot(this.g,new xu(u))},ji.prototype.pa=function(u){Ot(this.g,new Du)},ji.prototype.oa=function(){Ot(this.g,"b")},Tr.prototype.createWebChannel=Tr.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,ME=function(){return new Tr},OE=function(){return ra()},DE=ft,cm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ms.NO_ERROR=0,ms.TIMEOUT=8,ms.HTTP_ERROR=6,Gc=ms,wo.COMPLETE="complete",xE=wo,uu.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",_t.prototype.listen=_t.prototype.J,Nl=uu,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,NE=$e}).apply(typeof Lc<"u"?Lc:typeof self<"u"?self:typeof window<"u"?window:{});class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");let po="12.8.0";function P2(r){po=r}const Ys=new Nm("@firebase/firestore");function Ga(){return Ys.logLevel}function ae(r,...e){if(Ys.logLevel<=De.DEBUG){const i=e.map(jm);Ys.debug(`Firestore (${po}): ${r}`,...i)}}function ar(r,...e){if(Ys.logLevel<=De.ERROR){const i=e.map(jm);Ys.error(`Firestore (${po}): ${r}`,...i)}}function ro(r,...e){if(Ys.logLevel<=De.WARN){const i=e.map(jm);Ys.warn(`Firestore (${po}): ${r}`,...i)}}function jm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function ye(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,VE(r,s,i)}function VE(r,e,i){let s=`FIRESTORE (${po}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw ar(s),new Error(s)}function He(r,e,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,r||VE(e,l,s)}function Te(r,e){return r}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends lr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class es{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class kE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class z2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Jt.UNAUTHENTICATED)))}shutdown(){}}class j2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class B2{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){He(this.o===void 0,42304);let s=this.i;const l=_=>this.i!==s?(s=this.i,i(_)):Promise.resolve();let c=new es;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new es,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new es)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(He(typeof s.accessToken=="string",31837,{l:s}),new kE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class q2{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class F2{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new q2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Jt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ov{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class H2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,dn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){He(this.o===void 0,3512);const s=c=>{c.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ae("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const l=c=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ov(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(He(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Ov(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function G2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class Bm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=G2(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=e.charAt(l[c]%62))}return s}}function Oe(r,e){return r<e?-1:r>e?1:0}function hm(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const l=r.charAt(s),c=e.charAt(s);if(l!==c)return Yd(l)===Yd(c)?Oe(l,c):Yd(l)?1:-1}return Oe(r.length,e.length)}const K2=55296,Q2=57343;function Yd(r){const e=r.charCodeAt(0);return e>=K2&&e<=Q2}function so(r,e,i){return r.length===e.length&&r.every(((s,l)=>i(s,e[l])))}const Mv="__name__";class Ci{constructor(e,i,s){i===void 0?i=0:i>e.length&&ye(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&ye(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Ci.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ci?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let l=0;l<s;l++){const c=Ci.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return Oe(e.length,i.length)}static compareSegments(e,i){const s=Ci.isNumericId(e),l=Ci.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?Ci.extractNumericId(e).compare(Ci.extractNumericId(i)):hm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Wr.fromString(e.substring(4,e.length-2))}}class tt extends Ci{construct(e,i,s){return new tt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new se(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((l=>l.length>0)))}return new tt(i)}static emptyPath(){return new tt([])}}const Y2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Ci{construct(e,i,s){return new Qt(e,i,s)}static isValidIdentifier(e){return Y2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Mv}static keyField(){return new Qt([Mv])}static fromServerFormat(e){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new se(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new se(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new se(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(s+=p,l++):(c(),l++)}if(c(),d)throw new se(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(i)}static emptyPath(){return new Qt([])}}class fe{constructor(e){this.path=e}static fromPath(e){return new fe(tt.fromString(e))}static fromName(e){return new fe(tt.fromString(e).popFirst(5))}static empty(){return new fe(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return tt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new tt(e.slice()))}}function LE(r,e,i){if(!i)throw new se(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function X2(r,e,i,s){if(e===!0&&s===!0)throw new se(X.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Vv(r){if(!fe.isDocumentKey(r))throw new se(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function kv(r){if(fe.isDocumentKey(r))throw new se(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function UE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Ah(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ye(12329,{type:typeof r})}function Di(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new se(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Ah(r);throw new se(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function Nt(r,e){const i={typeString:r};return e&&(i.value=e),i}function eu(r,e){if(!UE(r))throw new se(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const l=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(l&&typeof d!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new se(X.INVALID_ARGUMENT,i);return!0}const Lv=-62135596800,Uv=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*Uv);return new rt(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new se(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new se(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Lv)throw new se(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Uv}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(eu(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Lv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Nt("string",rt._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};class ve{static fromTimestamp(e){return new ve(e)}static min(){return new ve(new rt(0,0))}static max(){return new ve(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ql=-1;function $2(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=ve.fromTimestamp(s===1e9?new rt(i+1,0):new rt(i,s));return new ns(l,fe.empty(),e)}function J2(r){return new ns(r.readTime,r.key,ql)}class ns{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new ns(ve.min(),fe.empty(),ql)}static max(){return new ns(ve.max(),fe.empty(),ql)}}function Z2(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=fe.comparator(r.documentKey,e.documentKey),i!==0?i:Oe(r.largestBatchId,e.largestBatchId))}const W2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function go(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==W2)throw r;ae("LocalStore","Unexpectedly lost primary lease")}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,s)=>{i(e)}))}static reject(e){return new $(((i,s)=>{s(e)}))}static waitFor(e){return new $(((i,s)=>{let l=0,c=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>s(_)))})),d=!0,c===l&&i()}))}static or(e){let i=$.resolve(!1);for(const s of e)i=i.next((l=>l?$.resolve(l):s()));return i}static forEach(e,i){const s=[];return e.forEach(((l,c)=>{s.push(i.call(this,l,c))})),this.waitFor(s)}static mapArray(e,i){return new $(((s,l)=>{const c=e.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(e[y]).next((A=>{d[y]=A,++p,p===c&&s(d)}),(A=>l(A)))}}))}static doWhile(e,i){return new $(((s,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):s()};c()}))}}function tC(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function yo(r){return r.name==="IndexedDbTransactionError"}class bh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}bh.ce=-1;const qm=-1;function Sh(r){return r==null}function sh(r){return r===0&&1/r==-1/0}function nC(r){return typeof r=="number"&&Number.isInteger(r)&&!sh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const PE="";function iC(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=Pv(e)),e=rC(r.get(i),e);return Pv(e)}function rC(r,e){let i=e;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case PE:i+="";break;default:i+=c}}return i}function Pv(r){return r+PE+""}function zv(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Js(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function zE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ut{constructor(e,i){this.comparator=e,this.root=i||Kt.EMPTY}insert(e,i){return new ut(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uc(this.root,e,this.comparator,!0)}}class Uc{constructor(e,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,i,s,l,c){this.key=e,this.value=i,this.color=s??Kt.RED,this.left=l??Kt.EMPTY,this.right=c??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,l,c){return new Kt(e??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let l=this;const c=s(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return Kt.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,i,s,l,c){return this}insert(e,i,s){return new Kt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new jv(this.data.getIterator())}getIteratorFrom(e){return new jv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Vt(this.comparator);return i.data=e,i}}class jv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Zn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Zn([])}unionWith(e){let i=new Vt(Qt.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Zn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return so(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}class jE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new jE("Invalid base64 string: "+c):c}})(e);return new Yt(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new Yt(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const sC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function is(r){if(He(!!r,39018),typeof r=="string"){let e=0;const i=sC.exec(r);if(He(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gt(r.seconds),nanos:gt(r.nanos)}}function gt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function rs(r){return typeof r=="string"?Yt.fromBase64String(r):Yt.fromUint8Array(r)}const BE="server_timestamp",qE="__type__",FE="__previous_value__",HE="__local_write_time__";function Fm(r){return(r?.mapValue?.fields||{})[qE]?.stringValue===BE}function wh(r){const e=r.mapValue.fields[FE];return Fm(e)?wh(e):e}function Fl(r){const e=is(r.mapValue.fields[HE].timestampValue);return new rt(e.seconds,e.nanos)}class aC{constructor(e,i,s,l,c,d,p,_,y,A,S){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=A,this.apiKey=S}}const ah="(default)";class Hl{constructor(e,i){this.projectId=e,this.database=i||ah}static empty(){return new Hl("","")}get isDefaultDatabase(){return this.database===ah}isEqual(e){return e instanceof Hl&&e.projectId===this.projectId&&e.database===this.database}}function oC(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new se(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hl(r.options.projectId,e)}const GE="__type__",lC="__max__",Pc={mapValue:{}},KE="__vector__",oh="value";function ss(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Fm(r)?4:cC(r)?9007199254740991:uC(r)?10:11:ye(28295,{value:r})}function Li(r,e){if(r===e)return!0;const i=ss(r);if(i!==ss(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Fl(r).isEqual(Fl(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=is(l.timestampValue),p=is(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,c){return rs(l.bytesValue).isEqual(rs(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,c){return gt(l.geoPointValue.latitude)===gt(c.geoPointValue.latitude)&&gt(l.geoPointValue.longitude)===gt(c.geoPointValue.longitude)})(r,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return gt(l.integerValue)===gt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=gt(l.doubleValue),p=gt(c.doubleValue);return d===p?sh(d)===sh(p):isNaN(d)&&isNaN(p)}return!1})(r,e);case 9:return so(r.arrayValue.values||[],e.arrayValue.values||[],Li);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(zv(d)!==zv(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Li(d[_],p[_])))return!1;return!0})(r,e);default:return ye(52216,{left:r})}}function Gl(r,e){return(r.values||[]).find((i=>Li(i,e)))!==void 0}function ao(r,e){if(r===e)return 0;const i=ss(r),s=ss(e);if(i!==s)return Oe(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Oe(r.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=gt(c.integerValue||c.doubleValue),_=gt(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(r,e);case 3:return Bv(r.timestampValue,e.timestampValue);case 4:return Bv(Fl(r),Fl(e));case 5:return hm(r.stringValue,e.stringValue);case 6:return(function(c,d){const p=rs(c),_=rs(d);return p.compareTo(_)})(r.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const A=Oe(p[y],_[y]);if(A!==0)return A}return Oe(p.length,_.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=Oe(gt(c.latitude),gt(d.latitude));return p!==0?p:Oe(gt(c.longitude),gt(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return qv(r.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[oh]?.arrayValue,A=_[oh]?.arrayValue,S=Oe(y?.values?.length||0,A?.values?.length||0);return S!==0?S:qv(y,A)})(r.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Pc.mapValue&&d===Pc.mapValue)return 0;if(c===Pc.mapValue)return 1;if(d===Pc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},A=Object.keys(y);_.sort(),A.sort();for(let S=0;S<_.length&&S<A.length;++S){const M=hm(_[S],A[S]);if(M!==0)return M;const H=ao(p[_[S]],y[A[S]]);if(H!==0)return H}return Oe(_.length,A.length)})(r.mapValue,e.mapValue);default:throw ye(23264,{he:i})}}function Bv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Oe(r,e);const i=is(r),s=is(e),l=Oe(i.seconds,s.seconds);return l!==0?l:Oe(i.nanos,s.nanos)}function qv(r,e){const i=r.values||[],s=e.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=ao(i[l],s[l]);if(c)return c}return Oe(i.length,s.length)}function oo(r){return fm(r)}function fm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=is(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return rs(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return fe.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=fm(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${fm(i.fields[d])}`;return l+"}"})(r.mapValue):ye(61005,{value:r})}function Kc(r){switch(ss(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wh(r);return e?16+Kc(e):16;case 5:return 2*r.stringValue.length;case 6:return rs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+Kc(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return Js(s.fields,((c,d)=>{l+=c.length+Kc(d)})),l})(r.mapValue);default:throw ye(13486,{value:r})}}function Fv(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function dm(r){return!!r&&"integerValue"in r}function Hm(r){return!!r&&"arrayValue"in r}function Hv(r){return!!r&&"nullValue"in r}function Gv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Qc(r){return!!r&&"mapValue"in r}function uC(r){return(r?.mapValue?.fields||{})[GE]?.stringValue===KE}function kl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Js(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=kl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=kl(r.arrayValue.values[i]);return e}return{...r}}function cC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===lC}class Un{constructor(e){this.value=e}static empty(){return new Un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Qc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=kl(i)}setAll(e){let i=Qt.emptyPath(),s={},l=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,s,l),s={},l=[],i=p.popLast()}d?s[p.lastSegment()]=kl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(e){const i=this.field(e.popLast());Qc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Li(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=i.mapValue.fields[e.get(s)];Qc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,s){Js(i,((l,c)=>e[l]=c));for(const l of s)delete e[l]}clone(){return new Un(kl(this.value))}}function QE(r){const e=[];return Js(r.fields,((i,s)=>{const l=new Qt([i]);if(Qc(s)){const c=QE(s.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new Zn(e)}class Zt{constructor(e,i,s,l,c,d,p){this.key=e,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Zt(e,0,ve.min(),ve.min(),ve.min(),Un.empty(),0)}static newFoundDocument(e,i,s,l){return new Zt(e,1,i,ve.min(),s,l,0)}static newNoDocument(e,i){return new Zt(e,2,i,ve.min(),ve.min(),Un.empty(),0)}static newUnknownDocument(e,i){return new Zt(e,3,i,ve.min(),ve.min(),Un.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class lh{constructor(e,i){this.position=e,this.inclusive=i}}function Kv(r,e,i){let s=0;for(let l=0;l<r.position.length;l++){const c=e[l],d=r.position[l];if(c.field.isKeyField()?s=fe.comparator(fe.fromName(d.referenceValue),i.key):s=ao(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Qv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Li(r.position[i],e.position[i]))return!1;return!0}class uh{constructor(e,i="asc"){this.field=e,this.dir=i}}function hC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class YE{}class It extends YE{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new dC(e,i,s):i==="array-contains"?new gC(e,s):i==="in"?new yC(e,s):i==="not-in"?new _C(e,s):i==="array-contains-any"?new vC(e,s):new It(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new mC(e,s):new pC(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ao(i,this.value)):i!==null&&ss(this.value)===ss(i)&&this.matchesComparison(ao(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends YE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ri(e,i)}matches(e){return XE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function XE(r){return r.op==="and"}function $E(r){return fC(r)&&XE(r)}function fC(r){for(const e of r.filters)if(e instanceof ri)return!1;return!0}function mm(r){if(r instanceof It)return r.field.canonicalString()+r.op.toString()+oo(r.value);if($E(r))return r.filters.map((e=>mm(e))).join(",");{const e=r.filters.map((i=>mm(i))).join(",");return`${r.op}(${e})`}}function JE(r,e){return r instanceof It?(function(s,l){return l instanceof It&&s.op===l.op&&s.field.isEqual(l.field)&&Li(s.value,l.value)})(r,e):r instanceof ri?(function(s,l){return l instanceof ri&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,d,p)=>c&&JE(d,l.filters[p])),!0):!1})(r,e):void ye(19439)}function ZE(r){return r instanceof It?(function(i){return`${i.field.canonicalString()} ${i.op} ${oo(i.value)}`})(r):r instanceof ri?(function(i){return i.op.toString()+" {"+i.getFilters().map(ZE).join(" ,")+"}"})(r):"Filter"}class dC extends It{constructor(e,i,s){super(e,i,s),this.key=fe.fromName(s.referenceValue)}matches(e){const i=fe.comparator(e.key,this.key);return this.matchesComparison(i)}}class mC extends It{constructor(e,i){super(e,"in",i),this.keys=WE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class pC extends It{constructor(e,i){super(e,"not-in",i),this.keys=WE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function WE(r,e){return(e.arrayValue?.values||[]).map((i=>fe.fromName(i.referenceValue)))}class gC extends It{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Hm(i)&&Gl(i.arrayValue,this.value)}}class yC extends It{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Gl(this.value.arrayValue,i)}}class _C extends It{constructor(e,i){super(e,"not-in",i)}matches(e){if(Gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Gl(this.value.arrayValue,i)}}class vC extends It{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Hm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Gl(this.value.arrayValue,s)))}}class EC{constructor(e,i=null,s=[],l=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Yv(r,e=null,i=[],s=[],l=null,c=null,d=null){return new EC(r,e,i,s,l,c,d)}function Gm(r){const e=Te(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>mm(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Sh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>oo(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>oo(s))).join(",")),e.Te=i}return e.Te}function Km(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!hC(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!JE(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Qv(r.startAt,e.startAt)&&Qv(r.endAt,e.endAt)}function pm(r){return fe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class tu{constructor(e,i=null,s=[],l=[],c=null,d="F",p=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function TC(r,e,i,s,l,c,d,p){return new tu(r,e,i,s,l,c,d,p)}function Rh(r){return new tu(r)}function Xv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function AC(r){return fe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function eT(r){return r.collectionGroup!==null}function Ll(r){const e=Te(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Vt(Qt.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new uh(c,s))})),i.has(Qt.keyField().canonicalString())||e.Ie.push(new uh(Qt.keyField(),s))}return e.Ie}function Oi(r){const e=Te(r);return e.Ee||(e.Ee=bC(e,Ll(r))),e.Ee}function bC(r,e){if(r.limitType==="F")return Yv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new uh(l.field,c)}));const i=r.endAt?new lh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new lh(r.startAt.position,r.startAt.inclusive):null;return Yv(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function gm(r,e){const i=r.filters.concat([e]);return new tu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function ym(r,e,i){return new tu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Ch(r,e){return Km(Oi(r),Oi(e))&&r.limitType===e.limitType}function tT(r){return`${Gm(Oi(r))}|lt:${r.limitType}`}function Ka(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((l=>ZE(l))).join(", ")}]`),Sh(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>oo(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>oo(l))).join(",")),`Target(${s})`})(Oi(r))}; limitType=${r.limitType})`}function Ih(r,e){return e.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):fe.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,e)&&(function(s,l){for(const c of Ll(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(r,e)&&(function(s,l){return!(s.startAt&&!(function(d,p,_){const y=Kv(d,p,_);return d.inclusive?y<=0:y<0})(s.startAt,Ll(s),l)||s.endAt&&!(function(d,p,_){const y=Kv(d,p,_);return d.inclusive?y>=0:y>0})(s.endAt,Ll(s),l))})(r,e)}function SC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function nT(r){return(e,i)=>{let s=!1;for(const l of Ll(r)){const c=wC(l,e,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function wC(r,e,i){const s=r.field.isKeyField()?fe.comparator(e.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?ao(_,y):ye(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ye(19790,{direction:r.dir})}}class Zs{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Js(this.inner,((i,s)=>{for(const[l,c]of s)e(l,c)}))}isEmpty(){return zE(this.inner)}size(){return this.innerSize}}const RC=new ut(fe.comparator);function or(){return RC}const iT=new ut(fe.comparator);function xl(...r){let e=iT;for(const i of r)e=e.insert(i.key,i);return e}function rT(r){let e=iT;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function Bs(){return Ul()}function sT(){return Ul()}function Ul(){return new Zs((r=>r.toString()),((r,e)=>r.isEqual(e)))}const CC=new ut(fe.comparator),IC=new Vt(fe.comparator);function Me(...r){let e=IC;for(const i of r)e=e.add(i);return e}const NC=new Vt(Oe);function xC(){return NC}function Qm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sh(e)?"-0":e}}function aT(r){return{integerValue:""+r}}function DC(r,e){return nC(e)?aT(e):Qm(r,e)}class Nh{constructor(){this._=void 0}}function OC(r,e,i){return r instanceof Kl?(function(l,c){const d={fields:{[qE]:{stringValue:BE},[HE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Fm(c)&&(c=wh(c)),c&&(d.fields[FE]=c),{mapValue:d}})(i,e):r instanceof Ql?lT(r,e):r instanceof Yl?uT(r,e):(function(l,c){const d=oT(l,c),p=$v(d)+$v(l.Ae);return dm(d)&&dm(l.Ae)?aT(p):Qm(l.serializer,p)})(r,e)}function MC(r,e,i){return r instanceof Ql?lT(r,e):r instanceof Yl?uT(r,e):i}function oT(r,e){return r instanceof ch?(function(s){return dm(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class Kl extends Nh{}class Ql extends Nh{constructor(e){super(),this.elements=e}}function lT(r,e){const i=cT(e);for(const s of r.elements)i.some((l=>Li(l,s)))||i.push(s);return{arrayValue:{values:i}}}class Yl extends Nh{constructor(e){super(),this.elements=e}}function uT(r,e){let i=cT(e);for(const s of r.elements)i=i.filter((l=>!Li(l,s)));return{arrayValue:{values:i}}}class ch extends Nh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function $v(r){return gt(r.integerValue||r.doubleValue)}function cT(r){return Hm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class VC{constructor(e,i){this.field=e,this.transform=i}}function kC(r,e){return r.field.isEqual(e.field)&&(function(s,l){return s instanceof Ql&&l instanceof Ql||s instanceof Yl&&l instanceof Yl?so(s.elements,l.elements,Li):s instanceof ch&&l instanceof ch?Li(s.Ae,l.Ae):s instanceof Kl&&l instanceof Kl})(r.transform,e.transform)}class LC{constructor(e,i){this.version=e,this.transformResults=i}}class ti{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ti}static exists(e){return new ti(void 0,e)}static updateTime(e){return new ti(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class xh{}function hT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Ym(r.key,ti.none()):new nu(r.key,r.data,ti.none());{const i=r.data,s=Un.empty();let l=new Vt(Qt.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new Ws(r.key,s,new Zn(l.toArray()),ti.none())}}function UC(r,e,i){r instanceof nu?(function(l,c,d){const p=l.value.clone(),_=Zv(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,e,i):r instanceof Ws?(function(l,c,d){if(!Yc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Zv(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(fT(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Pl(r,e,i,s){return r instanceof nu?(function(c,d,p,_){if(!Yc(c.precondition,d))return p;const y=c.value.clone(),A=Wv(c.fieldTransforms,_,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,e,i,s):r instanceof Ws?(function(c,d,p,_){if(!Yc(c.precondition,d))return p;const y=Wv(c.fieldTransforms,_,d),A=d.data;return A.setAll(fT(c)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,e,i,s):(function(c,d,p){return Yc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,e,i)}function PC(r,e){let i=null;for(const s of r.fieldTransforms){const l=e.data.field(s.field),c=oT(s.transform,l||null);c!=null&&(i===null&&(i=Un.empty()),i.set(s.field,c))}return i||null}function Jv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&so(s,l,((c,d)=>kC(c,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class nu extends xh{constructor(e,i,s,l=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ws extends xh{constructor(e,i,s,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function fT(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function Zv(r,e,i){const s=new Map;He(r.length===i.length,32656,{Ve:i.length,de:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=e.data.field(c.field);s.set(c.field,MC(d,p,i[l]))}return s}function Wv(r,e,i){const s=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);s.set(l.field,OC(c,d,e))}return s}class Ym extends xh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zC extends xh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class jC{constructor(e,i,s,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&UC(c,e,s[l])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Pl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Pl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=sT();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=hT(d,p);_!==null&&s.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(ve.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Me())}isEqual(e){return this.batchId===e.batchId&&so(this.mutations,e.mutations,((i,s)=>Jv(i,s)))&&so(this.baseMutations,e.baseMutations,((i,s)=>Jv(i,s)))}}class Xm{constructor(e,i,s,l){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(e,i,s){He(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let l=(function(){return CC})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new Xm(e,i,s,l)}}class BC{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class qC{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ct,Le;function FC(r){switch(r){case X.OK:return ye(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return ye(15467,{code:r})}}function dT(r){if(r===void 0)return ar("GRPC error has no .code"),X.UNKNOWN;switch(r){case Ct.OK:return X.OK;case Ct.CANCELLED:return X.CANCELLED;case Ct.UNKNOWN:return X.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return X.INTERNAL;case Ct.UNAVAILABLE:return X.UNAVAILABLE;case Ct.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Ct.NOT_FOUND:return X.NOT_FOUND;case Ct.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Ct.ABORTED:return X.ABORTED;case Ct.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Ct.DATA_LOSS:return X.DATA_LOSS;default:return ye(39323,{code:r})}}(Le=Ct||(Ct={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";function HC(){return new TextEncoder}const GC=new Wr([4294967295,4294967295],0);function e0(r){const e=HC().encode(r),i=new IE;return i.update(e),new Uint8Array(i.digest())}function t0(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Wr([i,s],0),new Wr([l,c],0)]}class $m{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Dl(`Invalid padding: ${i}`);if(s<0)throw new Dl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Dl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Dl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Wr.fromNumber(this.ge)}ye(e,i,s){let l=e.add(i.multiply(Wr.fromNumber(s)));return l.compare(GC)===1&&(l=new Wr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=e0(e),[s,l]=t0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);if(!this.we(d))return!1}return!0}static create(e,i,s){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new $m(c,l,i);return s.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=e0(e),[s,l]=t0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);this.be(d)}}be(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Dh{constructor(e,i,s,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const l=new Map;return l.set(e,iu.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Dh(ve.min(),l,new ut(Oe),or(),Me())}}class iu{constructor(e,i,s,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new iu(s,i,Me(),Me(),Me())}}class Xc{constructor(e,i,s,l){this.Se=e,this.removedTargetIds=i,this.key=s,this.De=l}}class mT{constructor(e,i){this.targetId=e,this.Ce=i}}class pT{constructor(e,i,s=Yt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=l}}class n0{constructor(){this.ve=0,this.Fe=i0(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Me(),i=Me(),s=Me();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:ye(38017,{changeType:c})}})),new iu(this.Me,this.xe,e,i,s)}Ke(){this.Oe=!1,this.Fe=i0()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,He(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class KC{constructor(e){this.Ge=e,this.ze=new Map,this.je=or(),this.He=zc(),this.Je=zc(),this.Ze=new ut(Oe)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:ye(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,s=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(pm(c))if(s===0){const d=new fe(c.path);this.et(i,d,Zt.newNoDocument(d,ve.min()))}else He(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const p=this.ut(e),_=p?this.ct(p,e,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=rs(s).toUint8Array()}catch(_){if(_ instanceof jE)return ro("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new $m(d,l,c)}catch(_){return ro(_ instanceof Dl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&pm(p.target)){const _=new fe(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Zt.newNoDocument(_,e))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let s=Me();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Dh(e,i,this.Ze,this.je,s);return this.je=or(),this.He=zc(),this.Je=zc(),this.Ze=new ut(Oe),l}Ye(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,s),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new n0,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Vt(Oe),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Vt(Oe),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ae("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new n0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function zc(){return new ut(fe.comparator)}function i0(){return new ut(fe.comparator)}const QC={asc:"ASCENDING",desc:"DESCENDING"},YC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XC={and:"AND",or:"OR"};class $C{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function _m(r,e){return r.useProto3Json||Sh(e)?e:{value:e}}function hh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function JC(r,e){return hh(r,e.toTimestamp())}function Mi(r){return He(!!r,49232),ve.fromTimestamp((function(i){const s=is(i);return new rt(s.seconds,s.nanos)})(r))}function Jm(r,e){return vm(r,e).canonicalString()}function vm(r,e){const i=(function(l){return new tt(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?i:i.child(e)}function yT(r){const e=tt.fromString(r);return He(AT(e),10190,{key:e.toString()}),e}function Em(r,e){return Jm(r.databaseId,e.path)}function Xd(r,e){const i=yT(e);if(i.get(1)!==r.databaseId.projectId)throw new se(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new se(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new fe(vT(i))}function _T(r,e){return Jm(r.databaseId,e)}function ZC(r){const e=yT(r);return e.length===4?tt.emptyPath():vT(e)}function Tm(r){return new tt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function vT(r){return He(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function r0(r,e,i){return{name:Em(r,e),fields:i.value.mapValue.fields}}function WC(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ye(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(y,A){return y.useProto3Json?(He(A===void 0||typeof A=="string",58123),Yt.fromBase64String(A||"")):(He(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Yt.fromUint8Array(A||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const A=y.code===void 0?X.UNKNOWN:dT(y.code);return new se(A,y.message||"")})(d);i=new pT(s,l,c,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=Xd(r,s.document.name),c=Mi(s.document.updateTime),d=s.document.createTime?Mi(s.document.createTime):ve.min(),p=new Un({mapValue:{fields:s.document.fields}}),_=Zt.newFoundDocument(l,c,d,p),y=s.targetIds||[],A=s.removedTargetIds||[];i=new Xc(y,A,_.key,_)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=Xd(r,s.document),c=s.readTime?Mi(s.readTime):ve.min(),d=Zt.newNoDocument(l,c),p=s.removedTargetIds||[];i=new Xc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=Xd(r,s.document),c=s.removedTargetIds||[];i=new Xc([],c,l,null)}else{if(!("filter"in e))return ye(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new qC(l,c),p=s.targetId;i=new mT(p,d)}}return i}function eI(r,e){let i;if(e instanceof nu)i={update:r0(r,e.key,e.value)};else if(e instanceof Ym)i={delete:Em(r,e.key)};else if(e instanceof Ws)i={update:r0(r,e.key,e.data),updateMask:uI(e.fieldMask)};else{if(!(e instanceof zC))return ye(16599,{dt:e.type});i={verify:Em(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(c,d){const p=d.transform;if(p instanceof Kl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Ql)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Yl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ch)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw ye(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:JC(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ye(27497)})(r,e.precondition)),i}function tI(r,e){return r&&r.length>0?(He(e!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Mi(l.updateTime):Mi(c);return d.isEqual(ve.min())&&(d=Mi(c)),new LC(d,l.transformResults||[])})(i,e)))):[]}function nI(r,e){return{documents:[_T(r,e.path)]}}function iI(r,e){const i={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=_T(r,l);const c=(function(y){if(y.length!==0)return TT(ri.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((A=>(function(M){return{field:Qa(M.field),direction:aI(M.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=_m(r,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:l}}function rI(r){let e=ZC(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){He(s===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:e=e.child(A.collectionId)}let c=[];i.where&&(c=(function(S){const M=ET(S);return M instanceof ri&&$E(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((M=>(function(ee){return new uh(Ya(ee.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(ee.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let M;return M=typeof S=="object"?S.value:S,Sh(M)?null:M})(i.limit));let _=null;i.startAt&&(_=(function(S){const M=!!S.before,H=S.values||[];return new lh(H,M)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const M=!S.before,H=S.values||[];return new lh(H,M)})(i.endAt)),TC(e,l,d,c,p,"F",_,y)}function sI(r,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function ET(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ya(i.unaryFilter.field);return It.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Ya(i.unaryFilter.field);return It.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ya(i.unaryFilter.field);return It.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ya(i.unaryFilter.field);return It.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}})(r):r.fieldFilter!==void 0?(function(i){return It.create(Ya(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return ri.create(i.compositeFilter.filters.map((s=>ET(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ye(1026)}})(i.compositeFilter.op))})(r):ye(30097,{filter:r})}function aI(r){return QC[r]}function oI(r){return YC[r]}function lI(r){return XC[r]}function Qa(r){return{fieldPath:r.canonicalString()}}function Ya(r){return Qt.fromServerFormat(r.fieldPath)}function TT(r){return r instanceof It?(function(i){if(i.op==="=="){if(Gv(i.value))return{unaryFilter:{field:Qa(i.field),op:"IS_NAN"}};if(Hv(i.value))return{unaryFilter:{field:Qa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Gv(i.value))return{unaryFilter:{field:Qa(i.field),op:"IS_NOT_NAN"}};if(Hv(i.value))return{unaryFilter:{field:Qa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qa(i.field),op:oI(i.op),value:i.value}}})(r):r instanceof ri?(function(i){const s=i.getFilters().map((l=>TT(l)));return s.length===1?s[0]:{compositeFilter:{op:lI(i.op),filters:s}}})(r):ye(54877,{filter:r})}function uI(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function AT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function bT(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Xr{constructor(e,i,s,l,c=ve.min(),d=ve.min(),p=Yt.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(e){return new Xr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class cI{constructor(e){this.yt=e}}function hI(r){const e=rI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ym(e,e.limit,"L"):e}class fI{constructor(){this.Sn=new dI}addToCollectionParentIndex(e,i){return this.Sn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(ns.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(ns.min())}updateCollectionGroup(e,i,s){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class dI{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),l=this.index[i]||new Vt(tt.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Vt(tt.comparator)).toArray()}}const s0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ST=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(ST,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class lo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new lo(0)}static ar(){return new lo(-1)}}const a0="LruGarbageCollector",mI=1048576;function o0([r,e],[i,s]){const l=Oe(r,i);return l===0?Oe(e,s):l}class pI{constructor(e){this.Pr=e,this.buffer=new Vt(o0),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();o0(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class gI{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ae(a0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){yo(i)?ae(a0,"Ignoring IndexedDB error during garbage collection: ",i):await go(i)}await this.Ar(3e5)}))}}class yI{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(bh.ce);const s=new pI(i);return this.Vr.forEachTarget(e,(l=>s.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>s.Er(l))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.Vr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(s0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),s0):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let s,l,c,d,p,_,y;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(e,l)))).next((S=>(s=S,p=Date.now(),this.removeTargets(e,s,i)))).next((S=>(c=S,_=Date.now(),this.removeOrphanedDocuments(e,s)))).next((S=>(y=Date.now(),Ga()<=De.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${S} documents in `+(y-_)+`ms
Total Duration: ${y-A}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function _I(r,e){return new yI(r,e)}class vI{constructor(){this.changes=new Zs((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?$.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class EI{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class TI{constructor(e,i,s,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(s!==null&&Pl(s.mutation,l,Zn.empty(),rt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Me()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Me()){const l=Bs();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,s).next((c=>{let d=xl();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=Bs();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Me())))}populateOverlays(e,i,s){const l=[];return s.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,s,l){let c=or();const d=Ul(),p=(function(){return Ul()})();return i.forEach(((_,y)=>{const A=s.get(y.key);l.has(y.key)&&(A===void 0||A.mutation instanceof Ws)?c=c.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),Pl(A.mutation,y,A.mutation.getFieldMask(),rt.now())):d.set(y.key,Zn.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((y,A)=>d.set(y,A))),i.forEach(((y,A)=>p.set(y,new EI(A,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,i){const s=Ul();let l=new ut(((d,p)=>d-p)),c=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let A=s.get(_)||Zn.empty();A=p.applyToLocalView(y,A),s.set(_,A);const S=(l.get(p.batchId)||Me()).add(_);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,A=_.value,S=sT();A.forEach((M=>{if(!c.has(M)){const H=hT(i.get(M),s.get(M));H!==null&&S.set(M,H),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,S))}return $.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,l){return AC(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):eT(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,l):this.getDocumentsMatchingCollectionQuery(e,i,s,l)}getNextDocuments(e,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,l-c.size):$.resolve(Bs());let p=ql,_=c;return d.next((y=>$.forEach(y,((A,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(A)?$.resolve():this.remoteDocumentCache.getEntry(e,A).next((M=>{_=_.insert(A,M)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,_,y,Me()))).next((A=>({batchId:p,changes:rT(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new fe(i)).next((s=>{let l=xl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,l){const c=i.collectionGroup;let d=xl();return this.indexManager.getCollectionParents(e,c).next((p=>$.forEach(p,(_=>{const y=(function(S,M){return new tu(M,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,l).next((A=>{A.forEach(((S,M)=>{d=d.insert(S,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,l)))).next((d=>{c.forEach(((_,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,Zt.newInvalidDocument(A)))}));let p=xl();return d.forEach(((_,y)=>{const A=c.get(_);A!==void 0&&Pl(A.mutation,y,Zn.empty(),rt.now()),Ih(i,y)&&(p=p.insert(_,y))})),p}))}}class AI{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return $.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Mi(l.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:hI(l.bundledQuery),readTime:Mi(l.readTime)}})(i)),$.resolve()}}class bI{constructor(){this.overlays=new ut(fe.comparator),this.Lr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Bs();return $.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((l,c)=>{this.bt(e,i,c)})),$.resolve()}removeOverlaysForBatchId(e,i,s){const l=this.Lr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(s)),$.resolve()}getOverlaysForCollection(e,i,s){const l=Bs(),c=i.length+1,d=new fe(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>s&&l.set(_.getKey(),_)}return $.resolve(l)}getOverlaysForCollectionGroup(e,i,s,l){let c=new ut(((y,A)=>y-A));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let A=c.get(y.largestBatchId);A===null&&(A=Bs(),c=c.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const p=Bs(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,A)=>p.set(y,A))),!(p.size()>=l)););return $.resolve(p)}bt(e,i,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(s.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new BC(i,s));let c=this.Lr.get(i);c===void 0&&(c=Me(),this.Lr.set(i,c)),this.Lr.set(i,c.add(s.key))}}class SI{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}class Zm{constructor(){this.kr=new Vt(Pt.Kr),this.qr=new Vt(Pt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const s=new Pt(e,i);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Wr(new Pt(e,i))}Qr(e,i){e.forEach((s=>this.removeReference(s,i)))}Gr(e){const i=new fe(new tt([])),s=new Pt(i,e),l=new Pt(i,e+1),c=[];return this.qr.forEachInRange([s,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new fe(new tt([])),s=new Pt(i,e),l=new Pt(i,e+1);let c=Me();return this.qr.forEachInRange([s,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Pt(e,0),s=this.kr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Pt{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return fe.comparator(e.key,i.key)||Oe(e.Hr,i.Hr)}static Ur(e,i){return Oe(e.Hr,i.Hr)||fe.comparator(e.key,i.key)}}class wI{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Vt(Pt.Kr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new jC(c,i,s,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new Pt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,l=this.Xr(s),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?qm:this.Yn-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Pt(i,0),l=new Pt(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([s,l],(d=>{const p=this.Zr(d.Hr);c.push(p)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Vt(Oe);return i.forEach((l=>{const c=new Pt(l,0),d=new Pt(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{s=s.add(p.Hr)}))})),$.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,l=s.length+1;let c=s;fe.isDocumentKey(c)||(c=c.child(""));const d=new Pt(new fe(c),0);let p=new Vt(Oe);return this.Jr.forEachWhile((_=>{const y=_.key.path;return!!s.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Hr)),!0)}),d),$.resolve(this.Yr(p))}Yr(e){const i=[];return e.forEach((s=>{const l=this.Zr(s);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){He(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return $.forEach(i.mutations,(l=>{const c=new Pt(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,i){const s=new Pt(i,0),l=this.Jr.firstAfterOrEqual(s);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class RI{constructor(e){this.ti=e,this.docs=(function(){return new ut(fe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return $.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(i))}getEntries(e,i){let s=or();return i.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Zt.newInvalidDocument(l))})),$.resolve(s)}getDocumentsMatchingQuery(e,i,s,l){let c=or();const d=i.path,p=new fe(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:A}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||Z2(J2(A),s)<=0||(l.has(A.key)||Ih(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(e,i,s,l){ye(9500)}ni(e,i){return $.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new CI(this)}getSize(e){return $.resolve(this.size)}}class CI extends vI{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(s)})),$.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class II{constructor(e){this.persistence=e,this.ri=new Zs((i=>Gm(i)),Km),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.ii=0,this.si=new Zm,this.targetCount=0,this.oi=lo._r()}forEachTarget(e,i){return this.ri.forEach(((s,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.ii&&(this.ii=i),$.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new lo(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.lr(i),$.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,s){let l=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&s.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const s=this.ri.get(i)||null;return $.resolve(s)}addMatchingKeys(e,i,s){return this.si.$r(i,s),$.resolve()}removeMatchingKeys(e,i,s){this.si.Qr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const s=this.si.jr(i);return $.resolve(s)}containsKey(e,i){return $.resolve(this.si.containsKey(i))}}class wT{constructor(e,i){this._i={},this.overlays={},this.ai=new bh(0),this.ui=!1,this.ui=!0,this.ci=new SI,this.referenceDelegate=e(this),this.li=new II(this),this.indexManager=new fI,this.remoteDocumentCache=(function(l){return new RI(l)})((s=>this.referenceDelegate.hi(s))),this.serializer=new cI(i),this.Pi=new AI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new bI,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this._i[e.toKey()];return s||(s=new wI(i,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,s){ae("MemoryPersistence","Starting transaction:",e);const l=new NI(this.ai.next());return this.referenceDelegate.Ti(),s(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(e,i){return $.or(Object.values(this._i).map((s=>()=>s.containsKey(e,i))))}}class NI extends eC{constructor(e){super(),this.currentSequenceNumber=e}}class Wm{constructor(e){this.persistence=e,this.Ri=new Zm,this.Ai=null}static Vi(e){return new Wm(e)}get di(){if(this.Ai)return this.Ai;throw ye(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.di.delete(s.toString()),$.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.di.add(s.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>s.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,(s=>{const l=fe.fromPath(s);return this.mi(e,l).next((c=>{c||i.removeEntry(l,ve.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((s=>{s?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class fh{constructor(e,i){this.persistence=e,this.fi=new Zs((s=>iC(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=_I(this,i)}static Vi(e,i){return new fh(e,i)}Ti(){}Ii(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((l=>s+l))))}pr(e){let i=0;return this.mr(e,(s=>{i++})).next((()=>i))}mr(e,i){return $.forEach(this.fi,((s,l)=>this.wr(e,s,l).next((c=>c?$.resolve():i(l)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(e,(d=>this.wr(e,d,i).next((p=>{p||(s++,c.removeEntry(d,ve.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.fi.set(s,e.currentSequenceNumber),$.resolve()}removeReference(e,i,s){return this.fi.set(s,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),$.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Kc(e.data.value)),i}wr(e,i,s){return $.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.fi.get(i);return $.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ep{constructor(e,i,s,l){this.targetId=e,this.fromCache=i,this.Ts=s,this.Is=l}static Es(e,i){let s=Me(),l=Me();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new ep(e,i.fromCache,s,l)}}class xI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class DI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return tS()?8:tC(Wt())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,l){const c={result:null};return this.gs(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,i,l,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new xI;return this.ys(e,i,d).next((p=>{if(c.result=p,this.As)return this.ws(e,i,d,p.size)}))})).next((()=>c.result))}ws(e,i,s,l){return s.documentReadCount<this.Vs?(Ga()<=De.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Ka(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(Ga()<=De.DEBUG&&ae("QueryEngine","Query:",Ka(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ds*l?(Ga()<=De.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Ka(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Oi(i))):$.resolve())}gs(e,i){if(Xv(i))return $.resolve(null);let s=Oi(i);return this.indexManager.getIndexType(e,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=ym(i,null,"F"),s=Oi(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const d=Me(...c);return this.fs.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,s).next((_=>{const y=this.bs(i,p);return this.Ss(i,y,d,_.readTime)?this.gs(e,ym(i,null,"F")):this.Ds(e,y,i,_)}))))})))))}ps(e,i,s,l){return Xv(i)||l.isEqual(ve.min())?$.resolve(null):this.fs.getDocuments(e,s).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,s,l)?$.resolve(null):(Ga()<=De.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ka(i)),this.Ds(e,d,i,$2(l,ql)).next((p=>p)))}))}bs(e,i){let s=new Vt(nT(e));return i.forEach(((l,c)=>{Ih(e,c)&&(s=s.add(c))})),s}Ss(e,i,s,l){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(e,i,s){return Ga()<=De.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Ka(i)),this.fs.getDocumentsMatchingQuery(e,i,ns.min(),s)}Ds(e,i,s,l){return this.fs.getDocumentsMatchingQuery(e,s,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const tp="LocalStore",OI=3e8;class MI{constructor(e,i,s,l){this.persistence=e,this.Cs=i,this.serializer=l,this.vs=new ut(Oe),this.Fs=new Zs((c=>Gm(c)),Km),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function VI(r,e,i,s){return new MI(r,e,i,s)}async function RT(r,e){const i=Te(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,i.Os(e),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],p=[];let _=Me();for(const y of l){d.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}for(const y of c){p.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(s,_).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function kI(r,e){const i=Te(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,A){const S=y.batch,M=S.keys();let H=$.resolve();return M.forEach((ee=>{H=H.next((()=>A.getEntry(_,ee))).next((te=>{const Z=y.docVersions.get(ee);He(Z!==null,48541),te.version.compareTo(Z)<0&&(S.applyToRemoteDocument(te,y),te.isValidDocument()&&(te.setReadTime(y.commitVersion),A.addEntry(te)))}))})),H.next((()=>p.mutationQueue.removeMutationBatch(_,S)))})(i,s,e,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let _=Me();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function CT(r){const e=Te(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function LI(r,e){const i=Te(r),s=e.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const p=[];e.targetChanges.forEach(((A,S)=>{const M=l.get(S);if(!M)return;p.push(i.li.removeMatchingKeys(c,A.removedDocuments,S).next((()=>i.li.addMatchingKeys(c,A.addedDocuments,S))));let H=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?H=H.withResumeToken(Yt.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):A.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(A.resumeToken,s)),l=l.insert(S,H),(function(te,Z,re){return te.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-te.snapshotVersion.toMicroseconds()>=OI?!0:re.addedDocuments.size+re.modifiedDocuments.size+re.removedDocuments.size>0})(M,H,A)&&p.push(i.li.updateTargetData(c,H))}));let _=or(),y=Me();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(UI(c,d,e.documentUpdates).next((A=>{_=A.Bs,y=A.Ls}))),!s.isEqual(ve.min())){const A=i.li.getLastRemoteSnapshotVersion(c).next((S=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,s)));p.push(A)}return $.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.vs=l,c)))}function UI(r,e,i){let s=Me(),l=Me();return i.forEach((c=>s=s.add(c))),e.getEntries(r,s).next((c=>{let d=or();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(ve.min())?(e.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(_),d=d.insert(p,_)):ae(tp,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{Bs:d,Ls:l}}))}function PI(r,e){const i=Te(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=qm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function zI(r,e){const i=Te(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.li.getTargetData(s,e).next((c=>c?(l=c,$.resolve(l)):i.li.allocateTargetId(s).next((d=>(l=new Xr(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.li.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.vs.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(s.targetId,s),i.Fs.set(e,s.targetId)),s}))}async function Am(r,e,i){const s=Te(r),l=s.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!yo(d))throw d;ae(tp,`Failed to update sequence numbers for target ${e}: ${d}`)}s.vs=s.vs.remove(e),s.Fs.delete(l.target)}function l0(r,e,i){const s=Te(r);let l=ve.min(),c=Me();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,A){const S=Te(_),M=S.Fs.get(A);return M!==void 0?$.resolve(S.vs.get(M)):S.li.getTargetData(y,A)})(s,d,Oi(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>s.Cs.getDocumentsMatchingQuery(d,e,i?l:ve.min(),i?c:Me()))).next((p=>(jI(s,SC(e),p),{documents:p,ks:c})))))}function jI(r,e,i){let s=r.Ms.get(e)||ve.min();i.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Ms.set(e,s)}class u0{constructor(){this.activeTargetIds=xC()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BI{constructor(){this.vo=new u0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,s){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new u0,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class qI{Mo(e){}shutdown(){}}const c0="ConnectivityMonitor";class h0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ae(c0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ae(c0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let jc=null;function bm(){return jc===null?jc=(function(){return 268435456+Math.round(2147483648*Math.random())})():jc++,"0x"+jc.toString(16)}const $d="RestConnection",FI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class HI{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${s}/databases/${l}`,this.$o=this.databaseId.database===ah?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Wo(e,i,s,l,c){const d=bm(),p=this.Qo(e,i.toUriEncodedString());ae($d,`Sending RPC '${e}' ${d}:`,p,s);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,l,c);const{host:y}=new URL(p),A=co(y);return this.zo(e,p,_,s,A).then((S=>(ae($d,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw ro($d,`RPC '${e}' ${d} failed with error: `,S,"url: ",p,"request:",s),S}))}jo(e,i,s,l,c,d){return this.Wo(e,i,s,l,c)}Go(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+po})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),s&&s.headers.forEach(((l,c)=>e[c]=l))}Qo(e,i){const s=FI[e];let l=`${this.qo}/v1/${i}:${s}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class GI{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const $t="WebChannelConnection",Rl=(r,e,i)=>{r.listen(e,(s=>{try{i(s)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Wa extends HI{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Wa.c_){const e=OE();Rl(e,DE.STAT_EVENT,(i=>{i.stat===cm.PROXY?ae($t,"STAT_EVENT: detected buffering proxy"):i.stat===cm.NOPROXY&&ae($t,"STAT_EVENT: detected no buffering proxy")})),Wa.c_=!0}}zo(e,i,s,l,c){const d=bm();return new Promise(((p,_)=>{const y=new NE;y.setWithCredentials(!0),y.listenOnce(xE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Gc.NO_ERROR:const S=y.getResponseJson();ae($t,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),p(S);break;case Gc.TIMEOUT:ae($t,`RPC '${e}' ${d} timed out`),_(new se(X.DEADLINE_EXCEEDED,"Request time out"));break;case Gc.HTTP_ERROR:const M=y.getStatus();if(ae($t,`RPC '${e}' ${d} failed with status:`,M,"response text:",y.getResponseText()),M>0){let H=y.getResponseJson();Array.isArray(H)&&(H=H[0]);const ee=H?.error;if(ee&&ee.status&&ee.message){const te=(function(re){const ce=re.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(ce)>=0?ce:X.UNKNOWN})(ee.status);_(new se(te,ee.message))}else _(new se(X.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new se(X.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ae($t,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(l);ae($t,`RPC '${e}' ${d} sending request:`,l),y.send(i,"POST",A,s,15)}))}T_(e,i,s){const l=bm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const y=c.join("");ae($t,`Creating RPC '${e}' stream ${l}: ${y}`,p);const A=d.createWebChannel(y,p);this.I_(A);let S=!1,M=!1;const H=new GI({Ho:ee=>{M?ae($t,`Not sending because RPC '${e}' stream ${l} is closed:`,ee):(S||(ae($t,`Opening RPC '${e}' stream ${l} transport.`),A.open(),S=!0),ae($t,`RPC '${e}' stream ${l} sending:`,ee),A.send(ee))},Jo:()=>A.close()});return Rl(A,Nl.EventType.OPEN,(()=>{M||(ae($t,`RPC '${e}' stream ${l} transport opened.`),H.i_())})),Rl(A,Nl.EventType.CLOSE,(()=>{M||(M=!0,ae($t,`RPC '${e}' stream ${l} transport closed`),H.o_(),this.E_(A))})),Rl(A,Nl.EventType.ERROR,(ee=>{M||(M=!0,ro($t,`RPC '${e}' stream ${l} transport errored. Name:`,ee.name,"Message:",ee.message),H.o_(new se(X.UNAVAILABLE,"The operation could not be completed")))})),Rl(A,Nl.EventType.MESSAGE,(ee=>{if(!M){const te=ee.data[0];He(!!te,16349);const Z=te,re=Z?.error||Z[0]?.error;if(re){ae($t,`RPC '${e}' stream ${l} received error:`,re);const ce=re.status;let pe=(function(ze){const N=Ct[ze];if(N!==void 0)return dT(N)})(ce),Ae=re.message;pe===void 0&&(pe=X.INTERNAL,Ae="Unknown error status: "+ce+" with message "+re.message),M=!0,H.o_(new se(pe,Ae)),A.close()}else ae($t,`RPC '${e}' stream ${l} received:`,te),H.__(te)}})),Wa.u_(),setTimeout((()=>{H.s_()}),0),H}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,s){super.Go(e,i,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return ME()}}function KI(r){return new Wa(r)}function Jd(){return typeof document<"u"?document:null}function Oh(r){return new $C(r,!0)}Wa.c_=!1;class IT{constructor(e,i,s=1e3,l=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=s,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&ae("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const f0="PersistentStream";class NT{constructor(e,i,s,l,c,d,p,_){this.Ci=e,this.b_=s,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new IT(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(ar(i.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===i&&this.G_(s,l)}),(s=>{e((()=>{const l=new se(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(e,i){const s=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ae(f0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(ae(f0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class QI extends NT{constructor(e,i,s,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=WC(this.serializer,e),s=(function(c){if(!("targetChange"in c))return ve.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?ve.min():d.readTime?Mi(d.readTime):ve.min()})(e);return this.listener.J_(i,s)}Z_(e){const i={};i.database=Tm(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=pm(_)?{documents:nI(c,_)}:{query:iI(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=gT(c,d.resumeToken);const y=_m(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(ve.min())>0){p.readTime=hh(c,d.snapshotVersion.toTimestamp());const y=_m(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const s=sI(this.serializer,e);s&&(i.labels=s),this.K_(i)}X_(e){const i={};i.database=Tm(this.serializer),i.removeTarget=e,this.K_(i)}}class YI extends NT{constructor(e,i,s,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=tI(e.writeResults,e.commitTime),s=Mi(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=Tm(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>eI(this.serializer,s)))};this.K_(i)}}class XI{}class $I extends XI{constructor(e,i,s,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new se(X.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,vm(i,s),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new se(X.UNKNOWN,c.toString())}))}jo(e,i,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(e,vm(i,s),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new se(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function JI(r,e,i,s){return new $I(r,e,i,s)}class ZI{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ar(i),this.aa=!1):ae("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Xs="RemoteStore";class WI{constructor(e,i,s,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{s.enqueueAndForget((async()=>{ea(this)&&(ae(Xs,"Restarting streams for network reachability change."),await(async function(_){const y=Te(_);y.Ea.add(4),await ru(y),y.Va.set("Unknown"),y.Ea.delete(4),await Mh(y)})(this))}))})),this.Va=new ZI(s,l)}}async function Mh(r){if(ea(r))for(const e of r.Ra)await e(!0)}async function ru(r){for(const e of r.Ra)await e(!1)}function xT(r,e){const i=Te(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),sp(i)?rp(i):_o(i).O_()&&ip(i,e))}function np(r,e){const i=Te(r),s=_o(i);i.Ia.delete(e),s.O_()&&DT(i,e),i.Ia.size===0&&(s.O_()?s.L_():ea(i)&&i.Va.set("Unknown"))}function ip(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}_o(r).Z_(e)}function DT(r,e){r.da.$e(e),_o(r).X_(e)}function rp(r){r.da=new KC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),_o(r).start(),r.Va.ua()}function sp(r){return ea(r)&&!_o(r).x_()&&r.Ia.size>0}function ea(r){return Te(r).Ea.size===0}function OT(r){r.da=void 0}async function eN(r){r.Va.set("Online")}async function tN(r){r.Ia.forEach(((e,i)=>{ip(r,e)}))}async function nN(r,e){OT(r),sp(r)?(r.Va.ha(e),rp(r)):r.Va.set("Unknown")}async function iN(r,e,i){if(r.Va.set("Online"),e instanceof pT&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(r,e)}catch(s){ae(Xs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await dh(r,s)}else if(e instanceof Xc?r.da.Xe(e):e instanceof mT?r.da.st(e):r.da.tt(e),!i.isEqual(ve.min()))try{const s=await CT(r.localStore);i.compareTo(s)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const A=c.Ia.get(y);A&&c.Ia.set(y,A.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const A=c.Ia.get(_);if(!A)return;c.Ia.set(_,A.withResumeToken(Yt.EMPTY_BYTE_STRING,A.snapshotVersion)),DT(c,_);const S=new Xr(A.target,_,y,A.sequenceNumber);ip(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(s){ae(Xs,"Failed to raise snapshot:",s),await dh(r,s)}}async function dh(r,e,i){if(!yo(e))throw e;r.Ea.add(1),await ru(r),r.Va.set("Offline"),i||(i=()=>CT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ae(Xs,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Mh(r)}))}function MT(r,e){return e().catch((i=>dh(r,i,e)))}async function Vh(r){const e=Te(r),i=as(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:qm;for(;rN(e);)try{const l=await PI(e.localStore,s);if(l===null){e.Ta.length===0&&i.L_();break}s=l.batchId,sN(e,l)}catch(l){await dh(e,l)}VT(e)&&kT(e)}function rN(r){return ea(r)&&r.Ta.length<10}function sN(r,e){r.Ta.push(e);const i=as(r);i.O_()&&i.Y_&&i.ea(e.mutations)}function VT(r){return ea(r)&&!as(r).x_()&&r.Ta.length>0}function kT(r){as(r).start()}async function aN(r){as(r).ra()}async function oN(r){const e=as(r);for(const i of r.Ta)e.ea(i.mutations)}async function lN(r,e,i){const s=r.Ta.shift(),l=Xm.from(s,e,i);await MT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Vh(r)}async function uN(r,e){e&&as(r).Y_&&await(async function(s,l){if((function(d){return FC(d)&&d!==X.ABORTED})(l.code)){const c=s.Ta.shift();as(s).B_(),await MT(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Vh(s)}})(r,e),VT(r)&&kT(r)}async function d0(r,e){const i=Te(r);i.asyncQueue.verifyOperationInProgress(),ae(Xs,"RemoteStore received new credentials");const s=ea(i);i.Ea.add(3),await ru(i),s&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Mh(i)}async function cN(r,e){const i=Te(r);e?(i.Ea.delete(2),await Mh(i)):e||(i.Ea.add(2),await ru(i),i.Va.set("Unknown"))}function _o(r){return r.ma||(r.ma=(function(i,s,l){const c=Te(i);return c.sa(),new QI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:eN.bind(null,r),Yo:tN.bind(null,r),t_:nN.bind(null,r),J_:iN.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),sp(r)?rp(r):r.Va.set("Unknown")):(await r.ma.stop(),OT(r))}))),r.ma}function as(r){return r.fa||(r.fa=(function(i,s,l){const c=Te(i);return c.sa(),new YI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:aN.bind(null,r),t_:uN.bind(null,r),ta:oN.bind(null,r),na:lN.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await Vh(r)):(await r.fa.stop(),r.Ta.length>0&&(ae(Xs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class ap{constructor(e,i,s,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,l,c){const d=Date.now()+s,p=new ap(e,i,d,l,c);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function op(r,e){if(ar("AsyncQueue",`${e}: ${r}`),yo(r))return new se(X.UNAVAILABLE,`${e}: ${r}`);throw r}class eo{static emptySet(e){return new eo(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||fe.comparator(i.key,s.key):(i,s)=>fe.comparator(i.key,s.key),this.keyedMap=xl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof eo)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new eo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}class m0{constructor(){this.ga=new ut(fe.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):ye(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class uo{constructor(e,i,s,l,c,d,p,_,y){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(e,i,s,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new uo(e,i,eo.emptySet(i),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ch(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}class hN{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class fN{constructor(){this.queries=p0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=Te(i),c=l.queries;l.queries=p0(),c.forEach(((d,p)=>{for(const _ of p.ba)_.onError(s)}))})(this,new se(X.ABORTED,"Firestore shutting down"))}}function p0(){return new Zs((r=>tT(r)),Ch)}async function LT(r,e){const i=Te(r);let s=3;const l=e.query;let c=i.queries.get(l);c?!c.Sa()&&e.Da()&&(s=2):(c=new hN,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=op(d,`Initialization of query '${Ka(e.query)}' failed`);return void e.onError(p)}i.queries.set(l,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&lp(i)}async function UT(r,e){const i=Te(r),s=e.query;let l=3;const c=i.queries.get(s);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=e.Da()?0:1:!c.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function dN(r,e){const i=Te(r);let s=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(l)&&(s=!0);d.wa=l}}s&&lp(i)}function mN(r,e,i){const s=Te(r),l=s.queries.get(e);if(l)for(const c of l.ba)c.onError(i);s.queries.delete(e)}function lp(r){r.Ca.forEach((e=>{e.next()}))}var Sm,g0;(g0=Sm||(Sm={})).Ma="default",g0.Cache="cache";class PT{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new uo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=uo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Sm.Cache}}class zT{constructor(e){this.key=e}}class jT{constructor(e){this.key=e}}class pN{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Me(),this.mutatedKeys=Me(),this.eu=nT(e),this.tu=new eo(this.eu)}get nu(){return this.Za}ru(e,i){const s=i?i.iu:new m0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((A,S)=>{const M=l.get(A),H=Ih(this.query,S)?S:null,ee=!!M&&this.mutatedKeys.has(M.key),te=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let Z=!1;M&&H?M.data.isEqual(H.data)?ee!==te&&(s.track({type:3,doc:H}),Z=!0):this.su(M,H)||(s.track({type:2,doc:H}),Z=!0,(_&&this.eu(H,_)>0||y&&this.eu(H,y)<0)&&(p=!0)):!M&&H?(s.track({type:0,doc:H}),Z=!0):M&&!H&&(s.track({type:1,doc:M}),Z=!0,(_||y)&&(p=!0)),Z&&(H?(d=d.add(H),c=te?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),s.track({type:1,doc:A})}return{tu:d,iu:s,Ss:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,S)=>(function(H,ee){const te=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Vt:Z})}};return te(H)-te(ee)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(s),l=l??!1;const p=i&&!l?this._u():[],_=this.Ya.size===0&&this.current&&!l?1:0,y=_!==this.Xa;return this.Xa=_,d.length!==0||y?{snapshot:new uo(this.query,e.tu,c,d,e.mutatedKeys,_===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new m0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Me(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const i=[];return e.forEach((s=>{this.Ya.has(s)||i.push(new jT(s))})),this.Ya.forEach((s=>{e.has(s)||i.push(new zT(s))})),i}cu(e){this.Za=e.ks,this.Ya=Me();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return uo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const up="SyncEngine";class gN{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class yN{constructor(e){this.key=e,this.hu=!1}}class _N{constructor(e,i,s,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Zs((p=>tT(p)),Ch),this.Iu=new Map,this.Eu=new Set,this.Ru=new ut(fe.comparator),this.Au=new Map,this.Vu=new Zm,this.du={},this.mu=new Map,this.fu=lo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function vN(r,e,i=!0){const s=KT(r);let l;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await BT(s,e,i,!0),l}async function EN(r,e){const i=KT(r);await BT(i,e,!0,!1)}async function BT(r,e,i,s){const l=await zI(r.localStore,Oi(e)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return s&&(p=await TN(r,e,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&xT(r.remoteStore,l),p}async function TN(r,e,i,s,l){r.pu=(S,M,H)=>(async function(te,Z,re,ce){let pe=Z.view.ru(re);pe.Ss&&(pe=await l0(te.localStore,Z.query,!1).then((({documents:N})=>Z.view.ru(N,pe))));const Ae=ce&&ce.targetChanges.get(Z.targetId),Ge=ce&&ce.targetMismatches.get(Z.targetId)!=null,ze=Z.view.applyChanges(pe,te.isPrimaryClient,Ae,Ge);return _0(te,Z.targetId,ze.au),ze.snapshot})(r,S,M,H);const c=await l0(r.localStore,e,!0),d=new pN(e,c.ks),p=d.ru(c.documents),_=iu.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",l),y=d.applyChanges(p,r.isPrimaryClient,_);_0(r,i,y.au);const A=new gN(e,i,d);return r.Tu.set(e,A),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),y.snapshot}async function AN(r,e,i){const s=Te(r),l=s.Tu.get(e),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((d=>!Ch(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Am(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&np(s.remoteStore,l.targetId),wm(s,l.targetId)})).catch(go)):(wm(s,l.targetId),await Am(s.localStore,l.targetId,!0))}async function bN(r,e){const i=Te(r),s=i.Tu.get(e),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),np(i.remoteStore,s.targetId))}async function SN(r,e,i){const s=DN(r);try{const l=await(function(d,p){const _=Te(d),y=rt.now(),A=p.reduce(((H,ee)=>H.add(ee.key)),Me());let S,M;return _.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let ee=or(),te=Me();return _.xs.getEntries(H,A).next((Z=>{ee=Z,ee.forEach(((re,ce)=>{ce.isValidDocument()||(te=te.add(re))}))})).next((()=>_.localDocuments.getOverlayedDocuments(H,ee))).next((Z=>{S=Z;const re=[];for(const ce of p){const pe=PC(ce,S.get(ce.key).overlayedDocument);pe!=null&&re.push(new Ws(ce.key,pe,QE(pe.value.mapValue),ti.exists(!0)))}return _.mutationQueue.addMutationBatch(H,y,re,p)})).next((Z=>{M=Z;const re=Z.applyToLocalDocumentSet(S,te);return _.documentOverlayCache.saveOverlays(H,Z.batchId,re)}))})).then((()=>({batchId:M.batchId,changes:rT(S)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.du[d.currentUser.toKey()];y||(y=new ut(Oe)),y=y.insert(p,_),d.du[d.currentUser.toKey()]=y})(s,l.batchId,i),await su(s,l.changes),await Vh(s.remoteStore)}catch(l){const c=op(l,"Failed to persist write");i.reject(c)}}async function qT(r,e){const i=Te(r);try{const s=await LI(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(He(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?He(d.hu,14607):l.removedDocuments.size>0&&(He(d.hu,42227),d.hu=!1))})),await su(i,s,e)}catch(s){await go(s)}}function y0(r,e,i){const s=Te(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=Te(d);_.onlineState=p;let y=!1;_.queries.forEach(((A,S)=>{for(const M of S.ba)M.va(p)&&(y=!0)})),y&&lp(_)})(s.eventManager,e),l.length&&s.Pu.J_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function wN(r,e,i){const s=Te(r);s.sharedClientState.updateQueryState(e,"rejected",i);const l=s.Au.get(e),c=l&&l.key;if(c){let d=new ut(fe.comparator);d=d.insert(c,Zt.newNoDocument(c,ve.min()));const p=Me().add(c),_=new Dh(ve.min(),new Map,new ut(Oe),d,p);await qT(s,_),s.Ru=s.Ru.remove(c),s.Au.delete(e),cp(s)}else await Am(s.localStore,e,!1).then((()=>wm(s,e,i))).catch(go)}async function RN(r,e){const i=Te(r),s=e.batch.batchId;try{const l=await kI(i.localStore,e);HT(i,s,null),FT(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await su(i,l)}catch(l){await go(l)}}async function CN(r,e,i){const s=Te(r);try{const l=await(function(d,p){const _=Te(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return _.mutationQueue.lookupMutationBatch(y,p).next((S=>(He(S!==null,37113),A=S.keys(),_.mutationQueue.removeMutationBatch(y,S)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,A,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>_.localDocuments.getDocuments(y,A)))}))})(s.localStore,e);HT(s,e,i),FT(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await su(s,l)}catch(l){await go(l)}}function FT(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function HT(r,e,i){const s=Te(r);let l=s.du[s.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),s.du[s.currentUser.toKey()]=l}}function wm(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||GT(r,s)}))}function GT(r,e){r.Eu.delete(e.path.canonicalString());const i=r.Ru.get(e);i!==null&&(np(r.remoteStore,i),r.Ru=r.Ru.remove(e),r.Au.delete(i),cp(r))}function _0(r,e,i){for(const s of i)s instanceof zT?(r.Vu.addReference(s.key,e),IN(r,s)):s instanceof jT?(ae(up,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||GT(r,s.key)):ye(19791,{wu:s})}function IN(r,e){const i=e.key,s=i.path.canonicalString();r.Ru.get(i)||r.Eu.has(s)||(ae(up,"New document in limbo: "+i),r.Eu.add(s),cp(r))}function cp(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new fe(tt.fromString(e)),s=r.fu.next();r.Au.set(s,new yN(i)),r.Ru=r.Ru.insert(i,s),xT(r.remoteStore,new Xr(Oi(Rh(i.path)),s,"TargetPurposeLimboResolution",bh.ce))}}async function su(r,e,i){const s=Te(r),l=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,_)=>{d.push(s.pu(_,e,i).then((y=>{if((y||i)&&s.isPrimaryClient){const A=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;s.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(y){l.push(y);const A=ep.Es(_.targetId,y);c.push(A)}})))})),await Promise.all(d),s.Pu.J_(l),await(async function(_,y){const A=Te(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>$.forEach(y,(M=>$.forEach(M.Ts,(H=>A.persistence.referenceDelegate.addReference(S,M.targetId,H))).next((()=>$.forEach(M.Is,(H=>A.persistence.referenceDelegate.removeReference(S,M.targetId,H)))))))))}catch(S){if(!yo(S))throw S;ae(tp,"Failed to update sequence numbers: "+S)}for(const S of y){const M=S.targetId;if(!S.fromCache){const H=A.vs.get(M),ee=H.snapshotVersion,te=H.withLastLimboFreeSnapshotVersion(ee);A.vs=A.vs.insert(M,te)}}})(s.localStore,c))}async function NN(r,e){const i=Te(r);if(!i.currentUser.isEqual(e)){ae(up,"User change. New user:",e.toKey());const s=await RT(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new se(X.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await su(i,s.Ns)}}function xN(r,e){const i=Te(r),s=i.Au.get(e);if(s&&s.hu)return Me().add(s.key);{let l=Me();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function KT(r){const e=Te(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=qT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wN.bind(null,e),e.Pu.J_=dN.bind(null,e.eventManager),e.Pu.yu=mN.bind(null,e.eventManager),e}function DN(r){const e=Te(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=RN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CN.bind(null,e),e}class mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Oh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return VI(this.persistence,new DI,e.initialUser,this.serializer)}Cu(e){return new wT(Wm.Vi,this.serializer)}Du(e){return new BI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mh.provider={build:()=>new mh};class ON extends mh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){He(this.persistence.referenceDelegate instanceof fh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new gI(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new wT((s=>fh.Vi(s,i)),this.serializer)}}class Rm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>y0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=NN.bind(null,this.syncEngine),await cN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new fN})()}createDatastore(e){const i=Oh(e.databaseInfo.databaseId),s=KI(e.databaseInfo);return JI(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,l,c,d,p){return new WI(s,l,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>y0(this.syncEngine,i,0)),(function(){return h0.v()?new h0:new qI})())}createSyncEngine(e,i){return(function(l,c,d,p,_,y,A){const S=new _N(l,c,d,p,_,y);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=Te(i);ae(Xs,"RemoteStore shutting down."),s.Ea.add(5),await ru(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Rm.provider={build:()=>new Rm};class QT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ar("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const os="FirestoreClient";class MN{constructor(e,i,s,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this._databaseInfo=l,this.user=Jt.UNAUTHENTICATED,this.clientId=Bm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{ae(os,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(ae(os,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=op(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Zd(r,e){r.asyncQueue.verifyOperationInProgress(),ae(os,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await RT(e.localStore,l),s=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function v0(r,e){r.asyncQueue.verifyOperationInProgress();const i=await VN(r);ae(os,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>d0(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>d0(e.remoteStore,l))),r._onlineComponents=e}async function VN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ae(os,"Using user provided OfflineComponentProvider");try{await Zd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;ro("Error using user provided cache. Falling back to memory cache: "+i),await Zd(r,new mh)}}else ae(os,"Using default OfflineComponentProvider"),await Zd(r,new ON(void 0));return r._offlineComponents}async function YT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ae(os,"Using user provided OnlineComponentProvider"),await v0(r,r._uninitializedComponentsProvider._online)):(ae(os,"Using default OnlineComponentProvider"),await v0(r,new Rm))),r._onlineComponents}function kN(r){return YT(r).then((e=>e.syncEngine))}async function Cm(r){const e=await YT(r),i=e.eventManager;return i.onListen=vN.bind(null,e.syncEngine),i.onUnlisten=AN.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=EN.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=bN.bind(null,e.syncEngine),i}function LN(r,e,i,s){const l=new QT(s),c=new PT(e,l,i);return r.asyncQueue.enqueueAndForget((async()=>LT(await Cm(r),c))),()=>{l.Nu(),r.asyncQueue.enqueueAndForget((async()=>UT(await Cm(r),c)))}}function UN(r,e,i={}){const s=new es;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const A=new QT({next:M=>{A.Nu(),d.enqueueAndForget((()=>UT(c,S)));const H=M.docs.has(p);!H&&M.fromCache?y.reject(new se(X.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&M.fromCache&&_&&_.source==="server"?y.reject(new se(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(M)},error:M=>y.reject(M)}),S=new PT(Rh(p.path),A,{includeMetadataChanges:!0,Ka:!0});return LT(c,S)})(await Cm(r),r.asyncQueue,e,i,s))),s.promise}function PN(r,e){const i=new es;return r.asyncQueue.enqueueAndForget((async()=>SN(await kN(r),e,i))),i.promise}function XT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const zN="ComponentProvider",E0=new Map;function jN(r,e,i,s,l){return new aC(r,e,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,XT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,s)}const $T="firestore.googleapis.com",T0=!0;class A0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new se(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$T,this.ssl=T0}else this.host=e.host,this.ssl=e.ssl??T0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ST;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<mI)throw new se(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}X2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new se(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new se(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new se(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kh{constructor(e,i,s,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new A0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new A0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new z2;switch(s.type){case"firstParty":return new F2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new se(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=E0.get(i);s&&(ae(zN,"Removing Datastore"),E0.delete(i),s.terminate())})(this),Promise.resolve()}}function BN(r,e,i,s={}){r=Di(r,kh);const l=co(e),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${i}`;l&&(z0(`https://${p}`),j0("Firestore",!0)),c.host!==$T&&c.host!==p&&ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:s};if(!Gs(_,d)&&(r._setSettings(_),s.mockUserToken)){let y,A;if(typeof s.mockUserToken=="string")y=s.mockUserToken,A=Jt.MOCK_USER;else{y=Kb(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new se(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Jt(S)}r._authCredentials=new j2(new kE(y,A))}}class vo{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new vo(this.firestore,e,this._query)}}class yt{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yt(this.firestore,e,this._key)}toJSON(){return{type:yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(eu(i,yt._jsonSchema))return new yt(e,s||null,new fe(tt.fromString(i.referencePath)))}}yt._jsonSchemaVersion="firestore/documentReference/1.0",yt._jsonSchema={type:Nt("string",yt._jsonSchemaVersion),referencePath:Nt("string")};class ts extends vo{constructor(e,i,s){super(e,i,Rh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new fe(e))}withConverter(e){return new ts(this.firestore,e,this._path)}}function ph(r,e,...i){if(r=en(r),LE("collection","path",e),r instanceof kh){const s=tt.fromString(e,...i);return kv(s),new ts(r,null,s)}{if(!(r instanceof yt||r instanceof ts))throw new se(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...i));return kv(s),new ts(r.firestore,null,s)}}function gh(r,e,...i){if(r=en(r),arguments.length===1&&(e=Bm.newId()),LE("doc","path",e),r instanceof kh){const s=tt.fromString(e,...i);return Vv(s),new yt(r,null,new fe(s))}{if(!(r instanceof yt||r instanceof ts))throw new se(X.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...i));return Vv(s),new yt(r.firestore,r instanceof ts?r.converter:null,new fe(s))}}const b0="AsyncQueue";class S0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new IT(this,"async_queue_retry"),this._c=()=>{const s=Jd();s&&ae(b0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=Jd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Jd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new es;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!yo(e))throw e;ae(b0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,ar("INTERNAL UNHANDLED ERROR: ",w0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=ap.createAndSchedule(this,e,i,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&ye(47125,{Pc:w0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function w0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class $s extends kh{constructor(e,i,s,l){super(e,i,s,l),this.type="firestore",this._queue=new S0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new S0(e),this._firestoreClient=void 0,await e}}}function qN(r,e){const i=typeof r=="object"?r:H0(),s=typeof r=="string"?r:ah,l=Dm(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=Hb("firestore");c&&BN(l,...c)}return l}function hp(r){if(r._terminated)throw new se(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||FN(r),r._firestoreClient}function FN(r){const e=r._freezeSettings(),i=jN(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new MN(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Pn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pn(Yt.fromBase64String(e))}catch(i){throw new se(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Pn(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(eu(e,Pn._jsonSchema))return Pn.fromBase64String(e.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:Nt("string",Pn._jsonSchemaVersion),bytes:Nt("string")};class JT{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new se(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class fp{constructor(e){this._methodName=e}}class Vi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new se(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new se(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vi._jsonSchemaVersion}}static fromJSON(e){if(eu(e,Vi._jsonSchema))return new Vi(e.latitude,e.longitude)}}Vi._jsonSchemaVersion="firestore/geoPoint/1.0",Vi._jsonSchema={type:Nt("string",Vi._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};class ni{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(eu(e,ni._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new ni(e.vectorValues);throw new se(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ni._jsonSchemaVersion="firestore/vectorValue/1.0",ni._jsonSchema={type:Nt("string",ni._jsonSchemaVersion),vectorValues:Nt("object")};const HN=/^__.*__$/;class GN{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Ws(e,this.data,this.fieldMask,i,this.fieldTransforms):new nu(e,this.data,i,this.fieldTransforms)}}function ZT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{dataSource:r})}}class dp{constructor(e,i,s,l,c,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new dp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),s=this.contextWith({path:i,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const i=this.path?.child(e),s=this.contextWith({path:i,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return yh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(ZT(this.dataSource)&&HN.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class KN{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Oh(e)}createContext(e,i,s,l=!1){return new dp({dataSource:e,methodName:i,targetDoc:s,path:Qt.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mp(r){const e=r._freezeSettings(),i=Oh(r._databaseId);return new KN(r._databaseId,!!e.ignoreUndefinedProperties,i)}function WT(r,e,i,s,l,c={}){const d=r.createContext(c.merge||c.mergeFields?2:0,e,i,l);n1("Data must be an object, but it was:",d,s);const p=e1(s,d);let _,y;if(c.merge)_=new Zn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const S of c.mergeFields){const M=yp(e,S,i);if(!d.contains(M))throw new se(X.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);$N(A,M)||A.push(M)}_=new Zn(A),y=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,y=d.fieldTransforms;return new GN(new Un(p),_,y)}class pp extends fp{_toFieldTransform(e){return new VC(e.path,new Kl)}isEqual(e){return e instanceof pp}}function QN(r,e,i,s=!1){return gp(i,r.createContext(s?4:3,e))}function gp(r,e){if(t1(r=en(r)))return n1("Unsupported field value:",e,r),e1(r,e);if(r instanceof fp)return(function(s,l){if(!ZT(l.dataSource))throw l.createError(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,l){const c=[];let d=0;for(const p of s){let _=gp(p,l.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(r,e)}return(function(s,l){if((s=en(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return DC(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=rt.fromDate(s);return{timestampValue:hh(l.serializer,c)}}if(s instanceof rt){const c=new rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:hh(l.serializer,c)}}if(s instanceof Vi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Pn)return{bytesValue:gT(l.serializer,s._byteString)};if(s instanceof yt){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Jm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof ni)return(function(d,p){const _=d instanceof ni?d.toArray():d;return{mapValue:{fields:{[GE]:{stringValue:KE},[oh]:{arrayValue:{values:_.map((A=>{if(typeof A!="number")throw p.createError("VectorValues must only contain numeric values.");return Qm(p.serializer,A)}))}}}}}})(s,l);if(bT(s))return s._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Ah(s)}`)})(r,e)}function e1(r,e){const i={};return zE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Js(r,((s,l)=>{const c=gp(l,e.childContextForField(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function t1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof rt||r instanceof Vi||r instanceof Pn||r instanceof yt||r instanceof fp||r instanceof ni||bT(r))}function n1(r,e,i){if(!t1(i)||!UE(i)){const s=Ah(i);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function yp(r,e,i){if((e=en(e))instanceof JT)return e._internalPath;if(typeof e=="string")return XN(r,e);throw yh("Field path arguments must be of type string or ",r,!1,void 0,i)}const YN=new RegExp("[~\\*/\\[\\]]");function XN(r,e,i){if(e.search(YN)>=0)throw yh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new JT(...e.split("."))._internalPath}catch{throw yh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function yh(r,e,i,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${s}`),d&&(_+=` in document ${l}`),_+=")"),new se(X.INVALID_ARGUMENT,p+r+_)}function $N(r,e){return r.some((i=>i.isEqual(e)))}class JN{convertValue(e,i="none"){switch(ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Js(e,((l,c)=>{s[l]=this.convertValue(c,i)})),s}convertVectorValue(e){const i=e.fields?.[oh].arrayValue?.values?.map((s=>gt(s.doubleValue)));return new ni(i)}convertGeoPoint(e){return new Vi(gt(e.latitude),gt(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=wh(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Fl(e));default:return null}}convertTimestamp(e){const i=is(e);return new rt(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=tt.fromString(e);He(AT(s),9688,{name:e});const l=new Hl(s.get(1),s.get(3)),c=new fe(s.popFirst(5));return l.isEqual(i)||ar(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class i1 extends JN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,i)}}function _p(){return new pp("serverTimestamp")}const R0="@firebase/firestore",C0="4.10.0";function I0(r){return(function(i,s){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class r1{constructor(e,i,s,l,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ZN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(yp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class ZN extends r1{data(){return super.data()}}function WN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new se(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vp{}class ex extends vp{}function tx(r,e,...i){let s=[];e instanceof vp&&s.push(e),s=s.concat(i),(function(c){const d=c.filter((_=>_ instanceof Tp)).length,p=c.filter((_=>_ instanceof Ep)).length;if(d>1||d>0&&p>0)throw new se(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class Ep extends ex{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new Ep(e,i,s)}_apply(e){const i=this._parse(e);return s1(e._query,i),new vo(e.firestore,e.converter,gm(e._query,i))}_parse(e){const i=mp(e.firestore);return(function(c,d,p,_,y,A,S){let M;if(y.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new se(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){x0(S,A);const ee=[];for(const te of S)ee.push(N0(_,c,te));M={arrayValue:{values:ee}}}else M=N0(_,c,S)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||x0(S,A),M=QN(p,d,S,A==="in"||A==="not-in");return It.create(y,A,M)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class Tp extends vp{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Tp(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:ri.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const _ of p)s1(d,_),d=gm(d,_)})(e._query,i),new vo(e.firestore,e.converter,gm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function N0(r,e,i){if(typeof(i=en(i))=="string"){if(i==="")throw new se(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eT(e)&&i.indexOf("/")!==-1)throw new se(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(tt.fromString(i));if(!fe.isDocumentKey(s))throw new se(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Fv(r,new fe(s))}if(i instanceof yt)return Fv(r,i._key);throw new se(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ah(i)}.`)}function x0(r,e){if(!Array.isArray(r)||r.length===0)throw new se(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function s1(r,e){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new se(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}function a1(r,e,i){let s;return s=r?i&&(i.merge||i.mergeFields)?r.toFirestore(e,i):r.toFirestore(e):e,s}class Ol{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hs extends r1{constructor(e,i,s,l,c,d){super(e,i,s,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new $c(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(yp("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new se(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Hs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Hs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Hs._jsonSchema={type:Nt("string",Hs._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class $c extends Hs{data(e={}){return super.data(e)}}class to{constructor(e,i,s,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Ol(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new $c(this._firestore,this._userDataWriter,s.key,s,new Ol(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new se(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new $c(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Ol(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new $c(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Ol(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,A=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:nx(p.type),doc:_,oldIndex:y,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new se(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=to._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Bm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function nx(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:r})}}to._jsonSchemaVersion="firestore/querySnapshot/1.0",to._jsonSchema={type:Nt("string",to._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};function ix(r){r=Di(r,yt);const e=Di(r.firestore,$s),i=hp(e);return UN(i,r._key).then((s=>o1(e,r,s)))}function rx(r,e,i){r=Di(r,yt);const s=Di(r.firestore,$s),l=a1(r.converter,e,i),c=mp(s);return bp(s,[WT(c,"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,ti.none())])}function sx(r){return bp(Di(r.firestore,$s),[new Ym(r._key,ti.none())])}function Ap(r,e){const i=Di(r.firestore,$s),s=gh(r),l=a1(r.converter,e),c=mp(r.firestore);return bp(i,[WT(c,"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,ti.exists(!1))]).then((()=>s))}function ax(r,...e){r=en(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||I0(e[s])||(i=e[s++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(I0(e[s])){const y=e[s];e[s]=y.next?.bind(y),e[s+1]=y.error?.bind(y),e[s+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof yt)d=Di(r.firestore,$s),p=Rh(r._key.path),c={next:y=>{e[s]&&e[s](o1(d,r,y))},error:e[s+1],complete:e[s+2]};else{const y=Di(r,vo);d=Di(y.firestore,$s),p=y._query;const A=new i1(d);c={next:S=>{e[s]&&e[s](new to(d,A,y,S))},error:e[s+1],complete:e[s+2]},WN(r._query)}const _=hp(d);return LN(_,p,l,c)}function bp(r,e){const i=hp(r);return PN(i,e)}function o1(r,e,i){const s=i.docs.get(e._key),l=new i1(r);return new Hs(r,l,e._key,s,new Ol(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){P2(ho),io(new Ks("firestore",((s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),p=new $s(new B2(s.getProvider("auth-internal")),new H2(d,s.getProvider("app-check-internal")),oC(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Zr(R0,C0,e),Zr(R0,C0,"esm2020")})();const J={colors:{cream:"#F9F5EB",paper:"#EBE5CE",leather:"#5D4037",gold:"#C5A059",burgundy:"#722F37",charcoal:"#1A1A1A"},fonts:{heading:'"Playfair Display", serif',body:'"Lora", serif'}},ox={apiKey:"AIzaSyDIsIkhOD4YL2eIZb2JlD1mY5o0cZ2FfJ0",authDomain:"velocity-e0988.firebaseapp.com",projectId:"velocity-e0988",storageBucket:"velocity-e0988.firebasestorage.app",messagingSenderId:"700489495937",appId:"1:700489495937:web:50981a403ab5834931e480"},l1=F0(ox),no=L2(l1),qs=qN(l1),Fs=typeof __app_id<"u"?__app_id:"default-app-id",lx="admin@prestige.com",Wn=r=>r&&r.email===lx,ux=`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E")`,cx=[{year:1967,make:"Ford",model:"Mustang Shelby GT500",price:185e3,category:"Muscle",description:"A pristine example of American muscle history. Wimbledon White with Guardsman Blue stripes. Fully restored to concours condition by marque specialists.",imageUrl:"https://images.unsplash.com/photo-1552519507-da3b142c6e3d?auto=format&fit=crop&q=80&w=800"},{year:1955,make:"Mercedes-Benz",model:"300 SL Gullwing",price:145e4,category:"Sports",description:"The iconic Gullwing. Silver metallic paint with original red leather interior. Matching numbers engine and chassis. A true investment grade vehicle.",imageUrl:"https://images.unsplash.com/photo-1566008872470-dc628f5d450f?auto=format&fit=crop&q=80&w=800"},{year:1961,make:"Jaguar",model:"E-Type Series 1",price:225e3,category:"Convertible",description:"Enzo Ferrari called it 'the most beautiful car ever made'. Finished in British Racing Green with tan hide. Includes original tool roll and heritage certificate.",imageUrl:"https://images.unsplash.com/photo-1563720223185-11003d516935?auto=format&fit=crop&q=80&w=800"}],hx=()=>b.jsx("div",{className:"fixed inset-0 pointer-events-none z-[100] mix-blend-multiply opacity-40",style:{backgroundImage:ux}}),u1=()=>b.jsxs("div",{className:"flex items-center justify-center my-16 opacity-40",children:[b.jsx("div",{className:"h-px w-24 bg-current",style:{color:J.colors.gold}}),b.jsx("div",{className:"mx-4 text-2xl",style:{color:J.colors.gold},children:""}),b.jsx("div",{className:"h-px w-24 bg-current",style:{color:J.colors.gold}})]}),bn=({children:r,onClick:e,variant:i="primary",className:s="",type:l="button",disabled:c=!1})=>{const d="px-8 py-3 transition-all duration-500 font-serif tracking-[0.15em] disabled:opacity-50 disabled:cursor-not-allowed text-sm relative overflow-hidden group flex items-center justify-center",p={primary:`bg-[${J.colors.burgundy}] text-[${J.colors.cream}] border border-[${J.colors.burgundy}] hover:bg-[${J.colors.charcoal}] hover:border-[${J.colors.charcoal}] uppercase shadow-md`,outline:`bg-transparent text-[${J.colors.leather}] border border-[${J.colors.leather}] hover:bg-[${J.colors.leather}] hover:text-[${J.colors.cream}] uppercase`,text:`text-[${J.colors.leather}] hover:text-[${J.colors.burgundy}] underline decoration-[${J.colors.gold}] decoration-1 underline-offset-8 uppercase text-xs`};return b.jsx("button",{type:l,onClick:e,disabled:c,className:`${d} ${p[i]} ${s}`,style:{fontFamily:J.fonts.heading},children:b.jsx("span",{className:"relative z-10 flex items-center gap-2",children:r})})},Ii=({label:r,type:e="text",value:i,onChange:s,placeholder:l,required:c=!1})=>b.jsxs("div",{className:"mb-6 group",children:[b.jsx("label",{className:"block text-xs font-bold mb-2 uppercase tracking-[0.2em]",style:{color:J.colors.leather,fontFamily:J.fonts.heading},children:r}),b.jsx("input",{type:e,value:i,onChange:s,placeholder:l,required:c,className:"w-full px-4 py-3 bg-[#FDFBF7] border focus:outline-none transition-all duration-300",style:{borderColor:J.colors.paper,fontFamily:J.fonts.body,color:J.colors.charcoal}}),b.jsx("div",{className:"h-0.5 bg-[${THEME.colors.gold}] w-0 group-hover:w-full transition-all duration-500 ease-out",style:{backgroundColor:J.colors.gold}})]}),fx=({user:r,setView:e,view:i,isTransparent:s})=>{const[l,c]=Ue.useState(!1),[d,p]=Ue.useState(!1),[_,y]=Ue.useState({left:0,width:0,opacity:0}),A=Ue.useRef({}),S=[{id:"inventory",label:"Collection"},...r&&!Wn(r)?[{id:"favorites",label:"My Garage"}]:[],{id:"home",label:"Services"},...Wn(r)?[{id:"add-car",label:"Consign"}]:[]];Ue.useEffect(()=>{const Ae=()=>p(window.scrollY>50);return window.addEventListener("scroll",Ae),()=>window.removeEventListener("scroll",Ae)},[]),Ue.useEffect(()=>{const Ae=A.current[i];y(Ae?{left:Ae.offsetLeft,width:Ae.offsetWidth,opacity:1}:Ge=>({...Ge,opacity:0}))},[i,r]);const M=async()=>{try{await wR(no),e("home")}catch(Ae){console.error("Error signing out:",Ae)}},H=!s||d,ee={backgroundColor:H?J.colors.cream:"rgba(0,0,0,0.2)",borderBottom:H?`1px solid ${J.colors.gold}`:"none",backdropFilter:H?"none":"blur(2px)",transition:"all 0.5s ease"},te=H?J.colors.leather:"#F9F5EB",Z=H?J.colors.charcoal:"#FFFFFF",re=H?J.colors.burgundy:"#C5A059",ce=H?"border-gray-300":"border-white/30",pe=H?J.colors.burgundy:"#C5A059";return b.jsxs("nav",{className:`w-full py-6 px-6 md:px-12 fixed top-0 z-50 ${H?"shadow-md py-4":""}`,style:ee,children:[b.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[b.jsxs("div",{onClick:()=>e("home"),className:"cursor-pointer group flex flex-col items-center",children:[b.jsx("h1",{className:"text-2xl md:text-3xl font-bold tracking-[0.2em] uppercase transition-colors duration-500",style:{fontFamily:J.fonts.heading,color:Z},children:"Prestige"}),b.jsx("span",{className:"text-xs tracking-[0.6em] uppercase mt-1 transition-colors duration-500",style:{color:re,fontFamily:J.fonts.heading},children:"Automobiles"})]}),b.jsxs("div",{className:"hidden md:flex items-center gap-12 relative",children:[S.map(Ae=>b.jsx("button",{ref:Ge=>A.current[Ae.id]=Ge,onClick:()=>e(Ae.id),className:"text-sm tracking-widest uppercase transition-colors duration-300 py-2",style:{fontFamily:J.fonts.heading,color:i===Ae.id?H?J.colors.burgundy:"#C5A059":te},children:Ae.label},Ae.id)),b.jsx("div",{className:"absolute bottom-0 h-[2px] transition-all duration-500 ease-out pointer-events-none",style:{left:_.left,width:_.width,opacity:_.opacity,backgroundColor:pe}}),r&&Wn(r)?b.jsx("div",{className:`flex items-center gap-4 border-l pl-8 ${ce}`,children:b.jsx(bn,{variant:"primary",onClick:M,className:"text-xs py-2 px-6",children:"Logout"})}):b.jsx("div",{className:`flex items-center gap-4 border-l pl-8 ${ce}`,children:b.jsx(bn,{variant:"primary",onClick:()=>e("login"),className:"text-xs py-2 px-6",children:"Login"})})]}),b.jsx("button",{onClick:()=>c(!l),className:"md:hidden text-2xl",style:{color:te},children:l?b.jsx(kb,{}):b.jsx(Cb,{})})]}),l&&b.jsx("div",{className:"md:hidden absolute top-full left-0 w-full h-screen py-12 shadow-xl",style:{backgroundColor:J.colors.cream},children:b.jsxs("div",{className:"flex flex-col items-center space-y-8",children:[b.jsx("button",{onClick:()=>{e("inventory"),c(!1)},className:"text-xl font-serif",style:{color:J.colors.leather},children:"The Collection"}),b.jsx("button",{onClick:()=>{e("home"),c(!1)},className:"text-xl font-serif",style:{color:J.colors.leather},children:"Our Services"}),r&&Wn(r)?b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:()=>{e("add-car"),c(!1)},className:"text-xl font-serif",style:{color:J.colors.leather},children:"Consign Vehicle"}),b.jsx(bn,{variant:"primary",onClick:()=>{M(),c(!1)},children:"Log Out"})]}):b.jsx(bn,{variant:"outline",onClick:()=>{e("login"),c(!1)},children:"Login"})]})})]})},Wd=({type:r,setView:e})=>{const[i,s]=Ue.useState(""),[l,c]=Ue.useState(""),[d,p]=Ue.useState(""),[_,y]=Ue.useState(!1),A=async S=>{S.preventDefault(),p(""),y(!0);try{r==="login"?await TR(no,i,l):await ER(no,i,l),e("inventory")}catch(M){p(M.message.replace("Firebase: ",""))}finally{y(!1)}};return b.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 pt-32 md:pt-40",children:b.jsxs("div",{className:"w-full max-w-md p-12 relative bg-white shadow-2xl border border-stone-200",children:[b.jsx("div",{className:"absolute top-4 left-4 right-4 bottom-4 border pointer-events-none opacity-30",style:{borderColor:J.colors.gold}}),b.jsxs("div",{className:"text-center mb-10",children:[b.jsx("div",{className:"inline-block p-3 rounded-full mb-4",style:{backgroundColor:J.colors.cream},children:b.jsx(O0,{size:32,color:J.colors.leather,strokeWidth:1.5})}),b.jsx("h2",{className:"text-3xl font-bold uppercase tracking-widest",style:{color:J.colors.charcoal,fontFamily:J.fonts.heading},children:r==="login"?"Concierge":"Registry"}),b.jsx("p",{className:"mt-2 text-sm italic opacity-60",style:{fontFamily:J.fonts.body},children:"Authorized Personnel Only"})]}),d&&b.jsx("div",{className:"mb-6 p-4 text-sm text-center text-red-900 bg-red-50 border border-red-100 font-serif",children:d}),b.jsxs("form",{onSubmit:A,className:"space-y-6",children:[b.jsx(Ii,{label:"Identity",type:"email",value:i,onChange:S=>s(S.target.value),required:!0}),b.jsx(Ii,{label:"Passkey",type:"password",value:l,onChange:S=>c(S.target.value),required:!0}),b.jsx("div",{className:"mt-10 pt-6 border-t border-dashed border-gray-300",children:b.jsx(bn,{type:"submit",variant:"primary",className:"w-full",disabled:_,children:_?"Authenticating...":r==="login"?"Access Portal":"Submit Application"})})]}),b.jsx("div",{className:"mt-8 text-center",children:b.jsx("button",{onClick:()=>e(r==="login"?"signup":"login"),className:"text-xs uppercase tracking-widest hover:text-[${THEME.colors.burgundy}] transition-colors",style:{color:J.colors.leather,fontFamily:J.fonts.heading},children:r==="login"?"Request Membership":"Return to Login"})})]})})},dx=({car:r,setView:e})=>{const[i,s]=Ue.useState({name:"",email:"",phone:"",message:`I am interested in the ${r?.year} ${r?.make} ${r?.model}. Please provide more information.`}),[l,c]=Ue.useState(!1),[d,p]=Ue.useState(!1),_=async y=>{y.preventDefault(),c(!0);try{const A=ph(qs,"artifacts",Fs,"public","data","inquiries");await Ap(A,{...i,carId:r?.id||"unknown",carName:`${r?.year} ${r?.make} ${r?.model}`,createdAt:_p()}),p(!0)}catch(A){console.error("Error sending inquiry:",A)}finally{c(!1)}};return d?b.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:b.jsxs("div",{className:"max-w-xl w-full bg-white p-12 text-center shadow-2xl border border-stone-200",children:[b.jsx("div",{className:"mb-6 inline-block p-4 rounded-full bg-[#F9F5EB]",children:b.jsx(Db,{size:40,className:"text-[#C5A059]"})}),b.jsx("h2",{className:"text-3xl font-bold mb-4 uppercase tracking-widest",style:{fontFamily:J.fonts.heading},children:"Inquiry Received"}),b.jsxs("p",{className:"text-stone-500 mb-8 font-serif",children:["Thank you for your interest. A Prestige concierge will contact you shortly regarding the ",r?.make," ",r?.model,"."]}),b.jsx(bn,{onClick:()=>e("inventory"),variant:"primary",children:"Return to Collection"})]})}):b.jsx("div",{className:"min-h-screen pt-32 md:pt-40 pb-12 px-4",children:b.jsxs("div",{className:"max-w-2xl mx-auto p-12 bg-white shadow-xl relative border border-stone-200",children:[b.jsx("button",{onClick:()=>e("inventory"),className:"absolute top-8 left-8 text-stone-400 hover:text-[#C5A059] transition-colors",children:b.jsx(nb,{size:24})}),b.jsxs("div",{className:"text-center mb-10",children:[b.jsx("h2",{className:"text-3xl font-bold mb-2 uppercase tracking-widest",style:{fontFamily:J.fonts.heading,color:J.colors.charcoal},children:"Request Details"}),b.jsxs("p",{className:"text-sm font-serif text-[#C5A059] uppercase tracking-widest mt-4",children:[r?.year," ",r?.make," ",r?.model]})]}),b.jsxs("form",{onSubmit:_,className:"space-y-6",children:[b.jsx(Ii,{label:"Full Name",value:i.name,onChange:y=>s({...i,name:y.target.value}),required:!0,placeholder:"e.g. Eleanor Vance"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsx(Ii,{label:"Email Address",type:"email",value:i.email,onChange:y=>s({...i,email:y.target.value}),required:!0,placeholder:"name@example.com"}),b.jsx(Ii,{label:"Phone Number",type:"tel",value:i.phone,onChange:y=>s({...i,phone:y.target.value}),placeholder:"+1 (555) 000-0000"})]}),b.jsxs("div",{className:"mb-8",children:[b.jsx("label",{className:"block text-xs font-bold mb-2 uppercase tracking-[0.2em]",style:{color:J.colors.leather,fontFamily:J.fonts.heading},children:"Message"}),b.jsx("textarea",{value:i.message,onChange:y=>s({...i,message:y.target.value}),className:"w-full px-4 py-3 bg-[#FDFBF7] border focus:outline-none h-32 resize-none leading-relaxed",style:{borderColor:J.colors.paper,fontFamily:J.fonts.body,color:J.colors.charcoal}})]}),b.jsx(bn,{type:"submit",variant:"primary",className:"w-full",disabled:l,children:l?"Sending Request...":"Submit Inquiry"})]})]})})},mx=({setView:r})=>{const[e,i]=Ue.useState({make:"",model:"",year:"",price:"",category:"Classic",description:"",imageUrl:""}),[s,l]=Ue.useState(!1),c=async d=>{d.preventDefault(),l(!0);try{const p=ph(qs,"artifacts",Fs,"public","data","inventory");await Ap(p,{...e,price:Number(e.price),year:Number(e.year),createdAt:_p()}),r("inventory")}catch(p){console.error("Error adding car:",p)}finally{l(!1)}};return b.jsx("div",{className:"min-h-screen pt-32 md:pt-40 pb-12 px-4",children:b.jsxs("div",{className:"max-w-3xl mx-auto p-12 bg-white shadow-xl relative border border-stone-200",children:[b.jsxs("div",{className:"text-center mb-12",children:[b.jsx("h2",{className:"text-4xl font-bold mb-2 uppercase tracking-widest",style:{fontFamily:J.fonts.heading,color:J.colors.charcoal},children:"Vehicle Consignment"}),b.jsx("div",{className:"h-1 w-24 mx-auto",style:{backgroundColor:J.colors.gold}})]}),b.jsxs("form",{onSubmit:c,className:"space-y-6",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[b.jsx(Ii,{label:"Marque (Make)",value:e.make,onChange:d=>i({...e,make:d.target.value}),required:!0,placeholder:"e.g. Rolls-Royce"}),b.jsx(Ii,{label:"Model Designation",value:e.model,onChange:d=>i({...e,model:d.target.value}),required:!0,placeholder:"e.g. Silver Ghost"})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[b.jsx(Ii,{label:"Model Year",type:"number",value:e.year,onChange:d=>i({...e,year:d.target.value}),required:!0,placeholder:"1925"}),b.jsx(Ii,{label:"Valuation ($)",type:"number",value:e.price,onChange:d=>i({...e,price:d.target.value}),required:!0,placeholder:"450000"}),b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{className:"block text-xs font-bold mb-2 uppercase tracking-[0.2em]",style:{color:J.colors.leather,fontFamily:J.fonts.heading},children:"Classification"}),b.jsxs("select",{value:e.category,onChange:d=>i({...e,category:d.target.value}),className:"w-full px-4 py-3 bg-[#FDFBF7] border focus:outline-none",style:{borderColor:J.colors.paper,fontFamily:J.fonts.body,color:J.colors.charcoal},children:[b.jsx("option",{children:"Classic"}),b.jsx("option",{children:"Muscle"}),b.jsx("option",{children:"Sports"}),b.jsx("option",{children:"Pre-War"}),b.jsx("option",{children:"Luxury"}),b.jsx("option",{children:"Convertible"})]})]})]}),b.jsx(Ii,{label:"Photograph URL",value:e.imageUrl,onChange:d=>i({...e,imageUrl:d.target.value}),placeholder:"https://..."}),b.jsxs("div",{className:"mb-8",children:[b.jsx("label",{className:"block text-xs font-bold mb-2 uppercase tracking-[0.2em]",style:{color:J.colors.leather,fontFamily:J.fonts.heading},children:"Provenance & Details"}),b.jsx("textarea",{value:e.description,onChange:d=>i({...e,description:d.target.value}),className:"w-full px-4 py-3 bg-[#FDFBF7] border focus:outline-none h-40 resize-none leading-relaxed",style:{borderColor:J.colors.paper,fontFamily:J.fonts.body,color:J.colors.charcoal},placeholder:"Describe the vehicle's history, condition, and notable features..."})]}),b.jsxs("div",{className:"flex justify-between items-center pt-8 border-t border-stone-100",children:[b.jsx(bn,{variant:"text",onClick:()=>r("inventory"),children:"Cancel Request"}),b.jsx(bn,{type:"submit",variant:"primary",disabled:s,children:s?"Processing...":"Submit to Catalog"})]})]})]})})},px=({car:r,user:e,isFavorite:i,toggleFavorite:s,onInquire:l})=>{const c=async d=>{if(d.stopPropagation(),!(!e||!r.id)&&confirm("Permanently remove this vehicle from the archives?"))try{await sx(gh(qs,"artifacts",Fs,"public","data","inventory",r.id))}catch(p){console.error("Error deleting",p)}};return b.jsxs("div",{className:"group bg-white shadow-xl transition-all duration-500 hover:shadow-2xl border border-stone-200 hover:border-stone-300 flex flex-col h-full",children:[b.jsxs("div",{className:"relative h-72 overflow-hidden border-b-4",style:{borderColor:J.colors.gold},children:[b.jsx("img",{src:r.imageUrl||"https://via.placeholder.com/800x600?text=No+Image+Available",alt:`${r.make} ${r.model}`,className:"w-full h-full object-cover transition-transform duration-1000 ease-in-out group-hover:scale-110 filter sepia-[0.15] group-hover:sepia-0",onError:d=>{d.target.src="https://placehold.co/800x600/5D4037/C5A059?text=Prestige+Classics"}}),b.jsx("div",{className:"absolute inset-0 bg-black/10 group-hover:bg-transparent transition-colors duration-500"}),b.jsx("div",{className:"absolute top-0 right-0 px-6 py-2 shadow-lg z-10",style:{backgroundColor:J.colors.cream},children:b.jsx("span",{className:"text-sm font-bold tracking-widest",style:{color:J.colors.charcoal,fontFamily:J.fonts.heading},children:r.price?.toLocaleString("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0})})}),e&&!Wn(e)&&b.jsx("button",{onClick:d=>{d.stopPropagation(),s(r.id)},className:"absolute bottom-4 right-4 p-3 rounded-full bg-white/90 shadow-lg hover:bg-white transition-all transform hover:scale-110 z-20",children:b.jsx(vb,{size:18,className:`transition-colors duration-300 ${i?"fill-[#722F37] text-[#722F37]":"text-[#1A1A1A]"}`})}),Wn(e)&&b.jsx("button",{onClick:c,className:"absolute top-4 left-4 bg-white/90 text-red-900 p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity shadow-lg z-30",children:b.jsx(Tb,{size:16})})]}),b.jsxs("div",{className:"p-8 relative bg-white flex flex-col flex-grow",children:[b.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white px-4 py-1 border border-stone-200 shadow-sm text-[10px] uppercase tracking-[0.2em]",style:{color:J.colors.gold,fontFamily:J.fonts.heading},children:r.category}),b.jsxs("div",{className:"text-center mb-6",children:[b.jsx("h3",{className:"text-2xl font-bold mb-1 tracking-wide",style:{fontFamily:J.fonts.heading,color:J.colors.charcoal},children:r.make}),b.jsxs("p",{className:"text-sm uppercase tracking-[0.2em] mb-4",style:{color:J.colors.leather,fontFamily:J.fonts.heading},children:[r.year,"  ",r.model]}),b.jsx("div",{className:"h-px w-12 bg-gray-200 mx-auto"})]}),b.jsx("p",{className:"text-sm leading-7 mb-8 text-gray-600 text-center line-clamp-3 flex-grow",style:{fontFamily:J.fonts.body},children:r.description}),b.jsx("div",{className:"flex justify-center mt-auto",children:b.jsxs("button",{onClick:()=>l(r),className:"flex items-center gap-2 text-xs font-bold uppercase tracking-[0.2em] group-hover:gap-4 transition-all duration-300 py-2 border-b border-transparent hover:border-[#722F37]",style:{color:J.colors.burgundy,fontFamily:J.fonts.heading},children:["Inquire ",b.jsx(ub,{size:14})]})})]})]})},gx=({filters:r,setFilters:e})=>b.jsxs("div",{className:"bg-white p-6 mb-12 shadow-sm border border-stone-100 flex flex-col md:flex-row gap-6 items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[b.jsxs("div",{className:"flex items-center gap-2 text-[#C5A059]",children:[b.jsx(pb,{size:16}),b.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Filter"})]}),b.jsxs("select",{value:r.category,onChange:i=>e({...r,category:i.target.value}),className:"bg-[#FDFBF7] border border-stone-200 px-4 py-2 text-sm font-serif min-w-[150px] focus:outline-none focus:border-[#C5A059]",children:[b.jsx("option",{value:"All",children:"All Categories"}),b.jsx("option",{value:"Classic",children:"Classic"}),b.jsx("option",{value:"Sports",children:"Sports"}),b.jsx("option",{value:"Muscle",children:"Muscle"}),b.jsx("option",{value:"Luxury",children:"Luxury"}),b.jsx("option",{value:"Convertible",children:"Convertible"})]})]}),b.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[b.jsxs("div",{className:"flex items-center gap-2 text-[#C5A059]",children:[b.jsx(rb,{size:16}),b.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Sort"})]}),b.jsxs("select",{value:r.sort,onChange:i=>e({...r,sort:i.target.value}),className:"bg-[#FDFBF7] border border-stone-200 px-4 py-2 text-sm font-serif min-w-[200px] focus:outline-none focus:border-[#C5A059]",children:[b.jsx("option",{value:"newest",children:"Newest Arrivals"}),b.jsx("option",{value:"price_asc",children:"Price: Low to High"}),b.jsx("option",{value:"price_desc",children:"Price: High to Low"}),b.jsx("option",{value:"year_desc",children:"Year: Newest First"}),b.jsx("option",{value:"year_asc",children:"Year: Oldest First"})]})]})]}),em=({user:r,setView:e,showFavoritesOnly:i=!1,onInquire:s})=>{const[l,c]=Ue.useState([]),[d,p]=Ue.useState([]),[_,y]=Ue.useState(!0),[A,S]=Ue.useState([]),[M,H]=Ue.useState({category:"All",sort:"newest"});Ue.useEffect(()=>{y(!0);const Z=ph(qs,"artifacts",Fs,"public","data","inventory"),re=tx(Z),ce=ax(re,pe=>{const Ae=pe.docs.map(Ge=>({id:Ge.id,...Ge.data()}));c(Ae),y(!1)},pe=>{console.error("Error fetching inventory:",pe),y(!1)});return()=>ce()},[r]),Ue.useEffect(()=>{r&&!Wn(r)?(async()=>{try{const re=gh(qs,"artifacts",Fs,"users",r.uid,"userdata","favorites"),ce=await ix(re);ce.exists()&&S(ce.data().itemIds||[])}catch(re){console.error("Error fetching favorites",re)}})():S([])},[r]),Ue.useEffect(()=>{let Z=[...l];i&&(Z=Z.filter(re=>A.includes(re.id))),M.category!=="All"&&(Z=Z.filter(re=>re.category===M.category)),Z.sort((re,ce)=>{switch(M.sort){case"price_asc":return re.price-ce.price;case"price_desc":return ce.price-re.price;case"year_asc":return re.year-ce.year;case"year_desc":return ce.year-re.year;default:return 0}}),p(Z)},[l,M,A,i]);const ee=async Z=>{if(!r)return;let re;A.includes(Z)?re=A.filter(ce=>ce!==Z):re=[...A,Z],S(re);try{const ce=gh(qs,"artifacts",Fs,"users",r.uid,"userdata","favorites");await rx(ce,{itemIds:re},{merge:!0})}catch(ce){console.error("Error saving favorites",ce)}},te=async()=>{try{y(!0);const Z=ph(qs,"artifacts",Fs,"public","data","inventory");for(const re of cx)await Ap(Z,{...re,createdAt:_p()})}catch(Z){console.error("Error seeding",Z)}finally{y(!1)}};return _&&l.length===0?b.jsx("div",{className:"min-h-screen flex items-center justify-center font-serif text-xl tracking-widest uppercase animate-pulse",style:{color:J.colors.gold},children:"Opening Archives..."}):b.jsx("div",{className:"min-h-screen pt-32 md:pt-40 pb-20 px-6",style:{backgroundColor:J.colors.cream},children:b.jsxs("div",{className:"max-w-7xl mx-auto",children:[b.jsxs("div",{className:"text-center mb-12 relative",children:[b.jsx("span",{className:"text-xs font-bold tracking-[0.4em] uppercase text-stone-400 block mb-4",children:"Established 1964"}),b.jsx("h2",{className:"text-5xl md:text-6xl font-bold mb-6",style:{fontFamily:J.fonts.heading,color:J.colors.charcoal},children:i?"The Private Garage":"The Collection"}),b.jsx("p",{className:"text-lg text-stone-500 max-w-2xl mx-auto italic",style:{fontFamily:J.fonts.body},children:i?"Your curated selection of automotive excellence.":'"Cars are the sculptures of our everyday lives."  Chris Bangle'}),r&&Wn(r)&&!i&&b.jsx("div",{className:"mt-8",children:b.jsxs(bn,{onClick:()=>e("add-car"),variant:"primary",className:"text-xs",children:[b.jsx(hb,{size:14,className:"inline mr-2 mb-0.5"})," Consign Vehicle"]})})]}),b.jsx(gx,{filters:M,setFilters:H}),d.length===0&&!_?b.jsxs("div",{className:"text-center py-24 border border-stone-300 bg-white shadow-sm max-w-2xl mx-auto p-12",children:[b.jsx("div",{className:"mb-6 inline-block p-4 rounded-full bg-stone-50",children:b.jsx(O0,{size:48,className:"opacity-40",style:{color:J.colors.leather}})}),b.jsx("h3",{className:"text-2xl mb-4 uppercase tracking-widest",style:{fontFamily:J.fonts.heading,color:J.colors.charcoal},children:i?"Garage Empty":"Archives Empty"}),b.jsx("p",{className:"mb-10 text-stone-500 font-serif",children:i?"You haven't selected any vehicles for your private collection yet.":"No vehicles match your current search criteria."}),b.jsxs("div",{className:"flex justify-center gap-6",children:[Wn(r)&&!i&&b.jsx(bn,{onClick:te,variant:"text",children:"Restore Demo Collection"}),Wn(r)&&!i&&b.jsx(bn,{onClick:()=>e("add-car"),variant:"outline",children:"Manual Entry"}),i&&b.jsx(bn,{onClick:()=>e("inventory"),variant:"primary",children:"Browse Collection"})]})]}):b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-12",children:d.map(Z=>b.jsx(px,{car:Z,user:r,isFavorite:A.includes(Z.id),toggleFavorite:ee,onInquire:s},Z.id))}),b.jsx(u1,{}),b.jsx("div",{className:"text-center text-stone-500 text-sm font-serif italic",children:"Viewing by appointment only. Please contact our concierge to arrange a private showing."})]})})},yx=()=>b.jsx("div",{className:"py-24 bg-white border-t border-stone-200",children:b.jsx("div",{className:"max-w-7xl mx-auto px-6",children:b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-16 text-center",children:[b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsx("div",{className:"mb-6 text-[#C5A059]",children:b.jsx(ab,{size:40,strokeWidth:1})}),b.jsx("h3",{className:"text-xl font-bold mb-4 uppercase tracking-[0.2em]",style:{fontFamily:J.fonts.heading,color:J.colors.charcoal},children:"Authenticity"}),b.jsx("p",{className:"text-stone-500 leading-loose",style:{fontFamily:J.fonts.body},children:"Every vehicle in our collection undergoes a rigorous 150-point inspection and historical verification process by our in-house historians."})]}),b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsx("div",{className:"mb-6 text-[#C5A059]",children:b.jsx(yb,{size:40,strokeWidth:1})}),b.jsx("h3",{className:"text-xl font-bold mb-4 uppercase tracking-[0.2em]",style:{fontFamily:J.fonts.heading,color:J.colors.charcoal},children:"Global Logistics"}),b.jsx("p",{className:"text-stone-500 leading-loose",style:{fontFamily:J.fonts.body},children:"We handle white-glove delivery to any destination worldwide, including customs clearance and climate-controlled transport."})]}),b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsx("div",{className:"mb-6 text-[#C5A059]",children:b.jsx(Mb,{size:40,strokeWidth:1})}),b.jsx("h3",{className:"text-xl font-bold mb-4 uppercase tracking-[0.2em]",style:{fontFamily:J.fonts.heading,color:J.colors.charcoal},children:"Concierge Care"}),b.jsx("p",{className:"text-stone-500 leading-loose",style:{fontFamily:J.fonts.body},children:"From storage and maintenance to rally preparation, our dedicated team ensures your investment remains in concours condition."})]})]})})}),_x=({setView:r})=>b.jsxs("div",{className:"relative h-screen flex items-center justify-center overflow-hidden",children:[b.jsxs("div",{className:"absolute inset-0 z-0",children:[b.jsx("div",{className:"absolute inset-0 bg-black/40 z-10 mix-blend-multiply"}),b.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/70 via-transparent to-[#F9F5EB] z-10"}),b.jsx("img",{src:"https://cdn.luxe.digital/media/20230206153646/best-classic-cars-vintage-Mercedes-300SL-Gullwing-luxe-digital.jpg.webp",alt:"Vintage Mercedes 300SL Gullwing",className:"w-full h-full object-cover animate-pan-slow",style:{animation:"pan 30s infinite alternate linear"},onError:e=>{e.target.onerror=null,e.target.src="https://cdn.luxe.digital/media/20230206153646/best-classic-cars-vintage-Mercedes-300SL-Gullwing-luxe-digital.jpg.webp"}}),b.jsx("style",{children:`
        @keyframes pan {
          0% { transform: scale(1); }
          100% { transform: scale(1.1); }
        }
      `})]}),b.jsxs("div",{className:"relative z-20 text-center px-6 max-w-5xl mt-16",children:[b.jsxs("div",{className:"mb-8 flex items-center justify-center gap-4 text-white/90 uppercase tracking-[0.3em] text-xs md:text-sm font-bold",children:[b.jsx("div",{className:"h-px w-12 bg-white/50"}),b.jsx("span",{children:"Vintage Icons"}),b.jsx("div",{className:"h-px w-12 bg-white/50"})]}),b.jsxs("h1",{className:"text-6xl md:text-8xl lg:text-9xl mb-8 leading-[0.9] text-[#F9F5EB] drop-shadow-2xl",style:{fontFamily:J.fonts.heading,fontWeight:400},children:["Spirit of ",b.jsx("br",{}),b.jsx("i",{className:"font-serif text-[#C5A059]",children:"The Road"})]}),b.jsx("p",{className:"text-xl md:text-2xl mb-12 font-light tracking-wide text-gray-200 max-w-2xl mx-auto leading-relaxed",style:{fontFamily:J.fonts.body},children:"Rediscover the romance of driving. Where every curve tells a story and every engine sings a song of freedom."}),b.jsxs("div",{className:"flex flex-col md:flex-row gap-8 justify-center items-center",children:[b.jsx("button",{onClick:()=>r("inventory"),className:"group px-10 py-4 bg-[#722F37] text-[#F9F5EB] text-sm transition-all duration-500 uppercase tracking-[0.2em] hover:bg-white hover:text-[#1A1A1A] relative overflow-hidden",style:{fontFamily:J.fonts.heading},children:b.jsx("span",{className:"relative z-10",children:"View The Collection"})}),b.jsx("button",{onClick:()=>r("login"),className:"text-white hover:text-[#C5A059] uppercase tracking-[0.2em] text-sm border-b border-transparent hover:border-[#C5A059] pb-1 transition-all duration-300",style:{fontFamily:J.fonts.heading},children:"Member Access"})]})]}),b.jsxs("div",{className:"absolute bottom-10 left-1/2 -translate-x-1/2 z-20 animate-bounce text-white/50",children:[b.jsx("span",{className:"text-[10px] uppercase tracking-[0.3em] block mb-2",children:"Scroll"}),b.jsx("div",{className:"w-px h-12 bg-white/30 mx-auto"})]})]}),vx=()=>b.jsx("footer",{className:"pt-24 pb-12 px-6 bg-[#1A1A1A] text-stone-400 border-t-4",style:{borderColor:J.colors.gold},children:b.jsxs("div",{className:"max-w-7xl mx-auto",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-12 mb-20",children:[b.jsxs("div",{className:"col-span-1 md:col-span-1",children:[b.jsx("h1",{className:"text-3xl font-bold tracking-[0.1em] uppercase text-white mb-6",style:{fontFamily:J.fonts.heading},children:"Prestige"}),b.jsx("p",{className:"leading-loose text-sm font-serif mb-8 text-stone-500",children:"For over sixty years, Prestige Classics has been the premier destination for investment-grade vintage automobiles."}),b.jsxs("div",{className:"flex gap-6",children:[b.jsx(bb,{size:20,className:"hover:text-white cursor-pointer transition-colors"}),b.jsx(Nb,{size:20,className:"hover:text-white cursor-pointer transition-colors"})]})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"text-xs font-bold mb-8 text-white uppercase tracking-[0.2em]",style:{fontFamily:J.fonts.heading},children:"Showroom"}),b.jsxs("ul",{className:"space-y-4 font-serif text-sm",children:[b.jsxs("li",{className:"flex items-start gap-3",children:[b.jsx(wb,{size:16,className:"mt-1 text-[#C5A059]"}),b.jsxs("span",{children:["1964 Heritage Lane",b.jsx("br",{}),"Monterey, CA 93940"]})]}),b.jsxs("li",{className:"flex items-start gap-3",children:[b.jsx(db,{size:16,className:"mt-1 text-[#C5A059]"}),b.jsxs("span",{children:["Mon - Fri: 09:00 - 18:00",b.jsx("br",{}),"Sat: 10:00 - 16:00"]})]})]})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"text-xs font-bold mb-8 text-white uppercase tracking-[0.2em]",style:{fontFamily:J.fonts.heading},children:"Legal"}),b.jsxs("ul",{className:"space-y-4 font-serif text-sm",children:[b.jsx("li",{className:"hover:text-[#C5A059] cursor-pointer transition-colors",children:"Privacy Policy"}),b.jsx("li",{className:"hover:text-[#C5A059] cursor-pointer transition-colors",children:"Terms of Consignment"}),b.jsx("li",{className:"hover:text-[#C5A059] cursor-pointer transition-colors",children:"Accessibility"})]})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"text-xs font-bold mb-8 text-white uppercase tracking-[0.2em]",style:{fontFamily:J.fonts.heading},children:"Newsletter"}),b.jsx("p",{className:"text-xs font-serif mb-4 text-stone-500",children:"Subscribe for auction results and new arrivals."}),b.jsxs("div",{className:"flex border-b border-stone-700 pb-2",children:[b.jsx("input",{type:"email",placeholder:"Email Address",className:"bg-transparent w-full focus:outline-none text-sm text-white font-serif placeholder-stone-600"}),b.jsx("button",{className:"text-[#C5A059] hover:text-white uppercase text-xs tracking-widest",children:"Join"})]})]})]}),b.jsxs("div",{className:"border-t border-stone-800 pt-12 flex flex-col md:flex-row justify-between items-center text-xs tracking-widest uppercase text-stone-600",children:[b.jsxs("div",{children:[" ",new Date().getFullYear()," Prestige Automobiles. All Rights Reserved."]}),b.jsxs("div",{className:"mt-4 md:mt-0 flex gap-8",children:[b.jsx("span",{children:"Instagram"}),b.jsx("span",{children:"Facebook"}),b.jsx("span",{children:"Artsy"})]})]})]})});function Ex(){const[r,e]=Ue.useState(null),[i,s]=Ue.useState("home"),[l,c]=Ue.useState(!1),[d,p]=Ue.useState(null);Ue.useEffect(()=>{(async()=>(typeof __initial_auth_token<"u"&&__initial_auth_token?await vR(no,__initial_auth_token):await mR(no),c(!0)))();const A=SR(no,S=>{e(S)});return()=>A()},[]);const _=y=>{p(y),s("inquire")};return l?b.jsxs("div",{className:"min-h-screen flex flex-col relative selection:bg-[#722F37] selection:text-white",children:[b.jsx(hx,{}),b.jsx("style",{children:`
          @import url('https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,500;0,600;1,400;1,500&family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;0,800;0,900;1,400;1,500&display=swap');
          
          body {
            background-color: ${J.colors.cream};
            color: ${J.colors.charcoal};
          }
        `}),b.jsx(fx,{user:r,setView:s,view:i,isTransparent:i==="home"}),b.jsxs("main",{className:"flex-grow",children:[i==="home"&&b.jsxs(b.Fragment,{children:[b.jsx(_x,{setView:s}),b.jsx(u1,{}),b.jsx(yx,{})]}),i==="inventory"&&b.jsx(em,{user:r,setView:s,onInquire:_}),i==="favorites"&&b.jsx(em,{user:r,setView:s,showFavoritesOnly:!0,onInquire:_}),i==="inquire"&&b.jsx(dx,{car:d,setView:s}),i==="login"&&b.jsx(Wd,{type:"login",setView:s}),i==="signup"&&b.jsx(Wd,{type:"signup",setView:s}),i==="add-car"&&(Wn(r)?b.jsx(mx,{setView:s}):r?b.jsx(em,{user:r,setView:s,onInquire:_}):b.jsx(Wd,{type:"login",setView:s}))]}),b.jsx(vx,{})]}):null}XA.createRoot(document.getElementById("root")).render(b.jsx(Ue.StrictMode,{children:b.jsx(Ex,{})}));
